<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.openssl.org/1.1.1/man5/config/ rel=canonical><link href=../ rel=prev><link href=../x509v3_config/ rel=next><link rel=icon href=../../images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.27"><title>config - OpenSSL Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>
  function __md_analytics() {

    var script = document.createElement("script")
    script.async = true
    script.src = "https://api.transpond.io/tracker?am=MzgyOTE%3D"

    var container = document.getElementById("__analytics")
    container.insertAdjacentElement("afterEnd", script)

  }
</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head><body dir=ltr data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo><input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off><input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off><label class=md-overlay for=__drawer></label><div data-md-component=skip><a href=#config class=md-skip> Skip to content </a></div><div data-md-component=announce></div><div data-md-color-scheme=default data-md-component=outdated hidden></div><header class="md-header md-header--shadow md-header--lifted" data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a href=../.. title="OpenSSL Documentation" class="md-header__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a><label class="md-header__button md-icon" for=__drawer><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> OpenSSL Documentation </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> config </span></div></div></div><form class=md-header__option data-md-component=palette><input class=md-option data-md-color-media data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label><input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label></form><script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required><label class="md-search__icon md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav class=md-search__options aria-label=Search><button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap tabindex=0 data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta> Initializing search </div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div></nav><nav class=md-tabs aria-label=Tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a href=../.. class=md-tabs__link> Home </a></li><li class=md-tabs__item><a href=../../fips/ class=md-tabs__link> FIPS-140 </a></li><li class=md-tabs__item><a href=../../man1/ class=md-tabs__link> Commands </a></li><li class=md-tabs__item><a href=../../man3/ class=md-tabs__link> Libraries </a></li><li class="md-tabs__item md-tabs__item--active"><a href=../ class=md-tabs__link> File Formats </a></li><li class=md-tabs__item><a href=../../man7/ class=md-tabs__link> Overviews </a></li></ul></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a href=../.. title="OpenSSL Documentation" class="md-nav__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a> OpenSSL Documentation </label><div class=md-nav__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../.. class=md-nav__link title=Home><span class=md-ellipsis-custom> Home </span></a></li><li class=md-nav__item><a href=../../fips/ class=md-nav__link title=FIPS-140><span class=md-ellipsis-custom> FIPS-140 </span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man1/ class=md-nav__link><span class=md-ellipsis-custom> Commands </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man3/ class=md-nav__link><span class=md-ellipsis-custom> Libraries </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked><div class="md-nav__link md-nav__container"><a href=../ class="md-nav__link "><span class=md-ellipsis-custom> File Formats </span></a><label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex><span class="md-nav__icon md-icon"></span></label></div><nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true><label class=md-nav__title for=__nav_5><span class="md-nav__icon md-icon"></span> File Formats </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type=checkbox id=__toc><label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis-custom> config </span><span class="md-nav__icon md-icon"></span></label><a href=./ class="md-nav__link md-nav__link--active"><span class=md-ellipsis-custom> config </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#openssl-library-configuration class=md-nav__link><span class=md-ellipsis> OPENSSL LIBRARY CONFIGURATION </span></a><nav class=md-nav aria-label="OPENSSL LIBRARY CONFIGURATION"><ul class=md-nav__list><li class=md-nav__item><a href=#asn1-object-configuration-module class=md-nav__link><span class=md-ellipsis> ASN1 Object Configuration Module </span></a></li><li class=md-nav__item><a href=#engine-configuration-module class=md-nav__link><span class=md-ellipsis> Engine Configuration Module </span></a></li><li class=md-nav__item><a href=#evp-configuration-module class=md-nav__link><span class=md-ellipsis> EVP Configuration Module </span></a></li><li class=md-nav__item><a href=#ssl-configuration-module class=md-nav__link><span class=md-ellipsis> SSL Configuration Module </span></a></li></ul></nav></li><li class=md-nav__item><a href=#notes class=md-nav__link><span class=md-ellipsis> NOTES </span></a></li><li class=md-nav__item><a href=#examples class=md-nav__link><span class=md-ellipsis> EXAMPLES </span></a></li><li class=md-nav__item><a href=#environment class=md-nav__link><span class=md-ellipsis> ENVIRONMENT </span></a></li><li class=md-nav__item><a href=#bugs class=md-nav__link><span class=md-ellipsis> BUGS </span></a></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li><li class=md-nav__item><a href=#copyright class=md-nav__link><span class=md-ellipsis> COPYRIGHT </span></a></li></ul></nav></li><li class=md-nav__item><a href=../x509v3_config/ class=md-nav__link title=x509v3_config><span class=md-ellipsis-custom> x509v3_config </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man7/ class=md-nav__link><span class=md-ellipsis-custom> Overviews </span><span class="md-nav__icon md-icon"></span></a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#openssl-library-configuration class=md-nav__link><span class=md-ellipsis> OPENSSL LIBRARY CONFIGURATION </span></a><nav class=md-nav aria-label="OPENSSL LIBRARY CONFIGURATION"><ul class=md-nav__list><li class=md-nav__item><a href=#asn1-object-configuration-module class=md-nav__link><span class=md-ellipsis> ASN1 Object Configuration Module </span></a></li><li class=md-nav__item><a href=#engine-configuration-module class=md-nav__link><span class=md-ellipsis> Engine Configuration Module </span></a></li><li class=md-nav__item><a href=#evp-configuration-module class=md-nav__link><span class=md-ellipsis> EVP Configuration Module </span></a></li><li class=md-nav__item><a href=#ssl-configuration-module class=md-nav__link><span class=md-ellipsis> SSL Configuration Module </span></a></li></ul></nav></li><li class=md-nav__item><a href=#notes class=md-nav__link><span class=md-ellipsis> NOTES </span></a></li><li class=md-nav__item><a href=#examples class=md-nav__link><span class=md-ellipsis> EXAMPLES </span></a></li><li class=md-nav__item><a href=#environment class=md-nav__link><span class=md-ellipsis> ENVIRONMENT </span></a></li><li class=md-nav__item><a href=#bugs class=md-nav__link><span class=md-ellipsis> BUGS </span></a></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li><li class=md-nav__item><a href=#copyright class=md-nav__link><span class=md-ellipsis> COPYRIGHT </span></a></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=config>config<a class=headerlink href=#config title="Permanent link">&para;</a></h1><h2 id=name>NAME<a class=headerlink href=#name title="Permanent link">&para;</a></h2><p>config - OpenSSL CONF library configuration files</p><h2 id=description>DESCRIPTION<a class=headerlink href=#description title="Permanent link">&para;</a></h2><p>The OpenSSL CONF library can be used to read configuration files. It is used for the OpenSSL master configuration file <strong>openssl.cnf</strong> and in a few other places like <strong>SPKAC</strong> files and certificate extension files for the <strong>x509</strong> utility. OpenSSL applications can also use the CONF library for their own purposes.</p><p>A configuration file is divided into a number of sections. Each section starts with a line <strong>[ section_name ]</strong> and ends when a new section is started or end of file is reached. A section name can consist of alphanumeric characters and underscores.</p><p>The first section of a configuration file is special and is referred to as the <strong>default</strong> section. This section is usually unnamed and spans from the start of file until the first named section. When a name is being looked up it is first looked up in a named section (if any) and then the default section.</p><p>The environment is mapped onto a section called <strong>ENV</strong>.</p><p>Comments can be included by preceding them with the <strong>#</strong> character</p><p>Other files can be included using the <strong>.include</strong> directive followed by a path. If the path points to a directory all files with names ending with <strong>.cnf</strong> or <strong>.conf</strong> are included from the directory. Recursive inclusion of directories from files in such directory is not supported. That means the files in the included directory can also contain <strong>.include</strong> directives but only inclusion of regular files is supported there. The inclusion of directories is not supported on systems without POSIX IO support.</p><p>It is strongly recommended to use absolute paths with the <strong>.include</strong> directive. Relative paths are evaluated based on the application current working directory so unless the configuration file containing the <strong>.include</strong> directive is application specific the inclusion will not work as expected.</p><p>There can be optional <strong>=</strong> character and whitespace characters between <strong>.include</strong> directive and the path which can be useful in cases the configuration file needs to be loaded by old OpenSSL versions which do not support the <strong>.include</strong> syntax. They would bail out with error if the <strong>=</strong> character is not present but with it they just ignore the include.</p><p>Each section in a configuration file consists of a number of name and value pairs of the form <strong>name=value</strong></p><p>The <strong>name</strong> string can contain any alphanumeric characters as well as a few punctuation symbols such as <strong>.</strong> <strong>,</strong> <strong>;</strong> and <strong>_</strong>.</p><p>The <strong>value</strong> string consists of the string following the <strong>=</strong> character until end of line with any leading and trailing white space removed.</p><p>The value string undergoes variable expansion. This can be done by including the form <strong>$var</strong> or <strong>${var}</strong>: this will substitute the value of the named variable in the current section. It is also possible to substitute a value from another section using the syntax <strong>$section::name</strong> or <strong>${section::name}</strong>. By using the form <strong>$ENV::name</strong> environment variables can be substituted. It is also possible to assign values to environment variables by using the name <strong>ENV::name</strong>, this will work if the program looks up environment variables using the <strong>CONF</strong> library instead of calling getenv() directly. The value string must not exceed 64k in length after variable expansion. Otherwise an error will occur.</p><p>It is possible to escape certain characters by using any kind of quote or the <strong>\</strong> character. By making the last character of a line a <strong>\</strong> a <strong>value</strong> string can be spread across multiple lines. In addition the sequences <strong>\n</strong>, <strong>\r</strong>, <strong>\b</strong> and <strong>\t</strong> are recognized.</p><p>All expansion and escape rules as described above that apply to <strong>value</strong> also apply to the path of the <strong>.include</strong> directive.</p><h2 id=openssl-library-configuration>OPENSSL LIBRARY CONFIGURATION<a class=headerlink href=#openssl-library-configuration title="Permanent link">&para;</a></h2><p>Applications can automatically configure certain aspects of OpenSSL using the master OpenSSL configuration file, or optionally an alternative configuration file. The <strong>openssl</strong> utility includes this functionality: any sub command uses the master OpenSSL configuration file unless an option is used in the sub command to use an alternative configuration file.</p><p>To enable library configuration the default section needs to contain an appropriate line which points to the main configuration section. The default name is <strong>openssl_conf</strong> which is used by the <strong>openssl</strong> utility. Other applications may use an alternative name such as <strong>myapplication_conf</strong>. All library configuration lines appear in the default section at the start of the configuration file.</p><p>The configuration section should consist of a set of name value pairs which contain specific module configuration information. The <strong>name</strong> represents the name of the <em>configuration module</em>. The meaning of the <strong>value</strong> is module specific: it may, for example, represent a further configuration section containing configuration module specific information. E.g.:</p><div class=highlight><pre><span></span><code># This must be in the default section
openssl_conf = openssl_init

[openssl_init]

oid_section = new_oids
engines = engine_section

[new_oids]

... new oids here ...

[engine_section]

... engine stuff here ...
</code></pre></div><p>The features of each configuration module are described below.</p><h3 id=asn1-object-configuration-module>ASN1 Object Configuration Module<a class=headerlink href=#asn1-object-configuration-module title="Permanent link">&para;</a></h3><p>This module has the name <strong>oid_section</strong>. The value of this variable points to a section containing name value pairs of OIDs: the name is the OID short and long name, the value is the numerical form of the OID. Although some of the <strong>openssl</strong> utility sub commands already have their own ASN1 OBJECT section functionality not all do. By using the ASN1 OBJECT configuration module <strong>all</strong> the <strong>openssl</strong> utility sub commands can see the new objects as well as any compliant applications. For example:</p><div class=highlight><pre><span></span><code>[new_oids]

some_new_oid = 1.2.3.4
some_other_oid = 1.2.3.5
</code></pre></div><p>It is also possible to set the value to the long name followed by a comma and the numerical OID form. For example:</p><div class=highlight><pre><span></span><code>shortName = some object long name, 1.2.3.4
</code></pre></div><h3 id=engine-configuration-module>Engine Configuration Module<a class=headerlink href=#engine-configuration-module title="Permanent link">&para;</a></h3><p>This ENGINE configuration module has the name <strong>engines</strong>. The value of this variable points to a section containing further ENGINE configuration information.</p><p>The section pointed to by <strong>engines</strong> is a table of engine names (though see <strong>engine_id</strong> below) and further sections containing configuration information specific to each ENGINE.</p><p>Each ENGINE specific section is used to set default algorithms, load dynamic, perform initialization and send ctrls. The actual operation performed depends on the <em>command</em> name which is the name of the name value pair. The currently supported commands are listed below.</p><p>For example:</p><div class=highlight><pre><span></span><code>[engine_section]

# Configure ENGINE named &quot;foo&quot;
foo = foo_section
# Configure ENGINE named &quot;bar&quot;
bar = bar_section

[foo_section]
... foo ENGINE specific commands ...

[bar_section]
... &quot;bar&quot; ENGINE specific commands ...
</code></pre></div><p>The command <strong>engine_id</strong> is used to give the ENGINE name. If used this command must be first. For example:</p><div class=highlight><pre><span></span><code>[engine_section]
# This would normally handle an ENGINE named &quot;foo&quot;
foo = foo_section

[foo_section]
# Override default name and use &quot;myfoo&quot; instead.
engine_id = myfoo
</code></pre></div><p>The command <strong>dynamic_path</strong> loads and adds an ENGINE from the given path. It is equivalent to sending the ctrls <strong>SO_PATH</strong> with the path argument followed by <strong>LIST_ADD</strong> with value 2 and <strong>LOAD</strong> to the dynamic ENGINE. If this is not the required behaviour then alternative ctrls can be sent directly to the dynamic ENGINE using ctrl commands.</p><p>The command <strong>init</strong> determines whether to initialize the ENGINE. If the value is <strong>0</strong> the ENGINE will not be initialized, if <strong>1</strong> and attempt it made to initialized the ENGINE immediately. If the <strong>init</strong> command is not present then an attempt will be made to initialize the ENGINE after all commands in its section have been processed.</p><p>The command <strong>default_algorithms</strong> sets the default algorithms an ENGINE will supply using the functions ENGINE_set_default_string().</p><p>If the name matches none of the above command names it is assumed to be a ctrl command which is sent to the ENGINE. The value of the command is the argument to the ctrl command. If the value is the string <strong>EMPTY</strong> then no value is sent to the command.</p><p>For example:</p><div class=highlight><pre><span></span><code>[engine_section]

# Configure ENGINE named &quot;foo&quot;
foo = foo_section

[foo_section]
# Load engine from DSO
dynamic_path = /some/path/fooengine.so
# A foo specific ctrl.
some_ctrl = some_value
# Another ctrl that doesn&#39;t take a value.
other_ctrl = EMPTY
# Supply all default algorithms
default_algorithms = ALL
</code></pre></div><h3 id=evp-configuration-module>EVP Configuration Module<a class=headerlink href=#evp-configuration-module title="Permanent link">&para;</a></h3><p>This modules has the name <strong>alg_section</strong> which points to a section containing algorithm commands.</p><p>Currently the only algorithm command supported is <strong>fips_mode</strong> whose value can only be the boolean string <strong>off</strong>. If <strong>fips_mode</strong> is set to <strong>on</strong>, an error occurs as this library version is not FIPS capable.</p><h3 id=ssl-configuration-module>SSL Configuration Module<a class=headerlink href=#ssl-configuration-module title="Permanent link">&para;</a></h3><p>This module has the name <strong>ssl_conf</strong> which points to a section containing SSL configurations.</p><p>Each line in the SSL configuration section contains the name of the configuration and the section containing it.</p><p>Each configuration section consists of command value pairs for <strong>SSL_CONF</strong>. Each pair will be passed to a <strong>SSL_CTX</strong> or <strong>SSL</strong> structure if it calls SSL_CTX_config() or SSL_config() with the appropriate configuration name.</p><p>Note: any characters before an initial dot in the configuration section are ignored so the same command can be used multiple times.</p><p>For example:</p><div class=highlight><pre><span></span><code>ssl_conf = ssl_sect

[ssl_sect]

server = server_section

[server_section]

RSA.Certificate = server-rsa.pem
ECDSA.Certificate = server-ecdsa.pem
Ciphers = ALL:!RC4
</code></pre></div><p>The system default configuration with name <strong>system_default</strong> if present will be applied during any creation of the <strong>SSL_CTX</strong> structure.</p><p>Example of a configuration with the system default:</p><div class=highlight><pre><span></span><code>ssl_conf = ssl_sect

[ssl_sect]
system_default = system_default_sect

[system_default_sect]
MinProtocol = TLSv1.2
MinProtocol = DTLSv1.2
</code></pre></div><h2 id=notes>NOTES<a class=headerlink href=#notes title="Permanent link">&para;</a></h2><p>If a configuration file attempts to expand a variable that doesn&#39;t exist then an error is flagged and the file will not load. This can happen if an attempt is made to expand an environment variable that doesn&#39;t exist. For example in a previous version of OpenSSL the default OpenSSL master configuration file used the value of <strong>HOME</strong> which may not be defined on non Unix systems and would cause an error.</p><p>This can be worked around by including a <strong>default</strong> section to provide a default value: then if the environment lookup fails the default value will be used instead. For this to work properly the default value must be defined earlier in the configuration file than the expansion. See the <strong>EXAMPLES</strong> section for an example of how to do this.</p><p>If the same variable exists in the same section then all but the last value will be silently ignored. In certain circumstances such as with DNs the same field may occur multiple times. This is usually worked around by ignoring any characters before an initial <strong>.</strong> e.g.</p><div class=highlight><pre><span></span><code>1.OU=&quot;My first OU&quot;
2.OU=&quot;My Second OU&quot;
</code></pre></div><h2 id=examples>EXAMPLES<a class=headerlink href=#examples title="Permanent link">&para;</a></h2><p>Here is a sample configuration file using some of the features mentioned above.</p><div class=highlight><pre><span></span><code># This is the default section.

HOME=/temp
RANDFILE= ${ENV::HOME}/.rnd
configdir=$ENV::HOME/config

[ section_one ]

# We are now in section one.

# Quotes permit leading and trailing whitespace
any = &quot; any variable name &quot;

other = A string that can \
cover several lines \
by including \\ characters

message = Hello World\n

[ section_two ]

greeting = $section_one::message
</code></pre></div><p>This next example shows how to expand environment variables safely.</p><p>Suppose you want a variable called <strong>tmpfile</strong> to refer to a temporary filename. The directory it is placed in can determined by the <strong>TEMP</strong> or <strong>TMP</strong> environment variables but they may not be set to any value at all. If you just include the environment variable names and the variable doesn&#39;t exist then this will cause an error when an attempt is made to load the configuration file. By making use of the default section both values can be looked up with <strong>TEMP</strong> taking priority and <strong>/tmp</strong> used if neither is defined:</p><div class=highlight><pre><span></span><code>TMP=/tmp
# The above value is used if TMP isn&#39;t in the environment
TEMP=$ENV::TMP
# The above value is used if TEMP isn&#39;t in the environment
tmpfile=${ENV::TEMP}/tmp.filename
</code></pre></div><p>Simple OpenSSL library configuration example to enter FIPS mode:</p><div class=highlight><pre><span></span><code># Default appname: should match &quot;appname&quot; parameter (if any)
# supplied to CONF_modules_load_file et al.
openssl_conf = openssl_conf_section

[openssl_conf_section]
# Configuration module list
alg_section = evp_sect

[evp_sect]
# Set to &quot;yes&quot; to enter FIPS mode if supported
fips_mode = yes
</code></pre></div><p>Note: in the above example you will get an error in non FIPS capable versions of OpenSSL.</p><p>Simple OpenSSL library configuration to make TLS 1.2 and DTLS 1.2 the system-default minimum TLS and DTLS versions, respectively:</p><div class=highlight><pre><span></span><code># Toplevel section for openssl (including libssl)
openssl_conf = default_conf_section

[default_conf_section]
# We only specify configuration for the &quot;ssl module&quot;
ssl_conf = ssl_section

[ssl_section]
system_default = system_default_section

[system_default_section]
MinProtocol = TLSv1.2
MinProtocol = DTLSv1.2
</code></pre></div><p>The minimum TLS protocol is applied to <strong>SSL_CTX</strong> objects that are TLS-based, and the minimum DTLS protocol to those are DTLS-based. The same applies also to maximum versions set with <strong>MaxProtocol</strong>.</p><p>More complex OpenSSL library configuration. Add OID and don&#39;t enter FIPS mode:</p><div class=highlight><pre><span></span><code># Default appname: should match &quot;appname&quot; parameter (if any)
# supplied to CONF_modules_load_file et al.
openssl_conf = openssl_conf_section

[openssl_conf_section]
# Configuration module list
alg_section = evp_sect
oid_section = new_oids

[evp_sect]
# This will have no effect as FIPS mode is off by default.
# Set to &quot;yes&quot; to enter FIPS mode, if supported
fips_mode = no

[new_oids]
# New OID, just short name
newoid1 = 1.2.3.4.1
# New OID shortname and long name
newoid2 = New OID 2 long name, 1.2.3.4.2
</code></pre></div><p>The above examples can be used with any application supporting library configuration if &quot;openssl_conf&quot; is modified to match the appropriate &quot;appname&quot;.</p><p>For example if the second sample file above is saved to &quot;example.cnf&quot; then the command line:</p><div class=highlight><pre><span></span><code>OPENSSL_CONF=example.cnf openssl asn1parse -genstr OID:1.2.3.4.1
</code></pre></div><p>will output:</p><div class=highlight><pre><span></span><code>0:d=0  hl=2 l=   4 prim: OBJECT            :newoid1
</code></pre></div><p>showing that the OID &quot;newoid1&quot; has been added as &quot;1.2.3.4.1&quot;.</p><h2 id=environment>ENVIRONMENT<a class=headerlink href=#environment title="Permanent link">&para;</a></h2><ul><li><p><strong>OPENSSL_CONF</strong></p><p>The path to the config file. Ignored in set-user-ID and set-group-ID programs.</p></li><li><p><strong>OPENSSL_ENGINES</strong></p><p>The path to the engines directory. Ignored in set-user-ID and set-group-ID programs.</p></li></ul><h2 id=bugs>BUGS<a class=headerlink href=#bugs title="Permanent link">&para;</a></h2><p>Currently there is no way to include characters using the octal <strong>\nnn</strong> form. Strings are all null terminated so nulls cannot form part of the value.</p><p>The escaping isn&#39;t quite right: if you want to use sequences like <strong>\n</strong> you can&#39;t use any quote escaping on the same line.</p><p>Files are loaded in a single pass. This means that a variable expansion will only work if the variables referenced are defined earlier in the file.</p><h2 id=see-also>SEE ALSO<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2><p><a href=../../man1/x509/ >x509(1)</a>, <a href=../../man1/req/ >req(1)</a>, <a href=../../man1/ca/ >ca(1)</a></p><h2 id=copyright>COPYRIGHT<a class=headerlink href=#copyright title="Permanent link">&para;</a></h2><p>Copyright 2000-2020 The OpenSSL Project Authors. All Rights Reserved.</p><p>Licensed under the OpenSSL license (the &quot;License&quot;). You may not use this file except in compliance with the License. You can obtain a copy in the file LICENSE in the source distribution or at <a href=https://www.openssl.org/source/license.html>https://www.openssl.org/source/license.html</a>.</p></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "master", "provider": "mike"}}</script><script src=../../assets/javascripts/bundle.ad660dcc.min.js></script></body></html>