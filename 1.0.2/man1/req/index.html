<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.openssl.org/1.0.2/man1/req/ rel=canonical><link href=../rand/ rel=prev><link href=../rsa/ rel=next><link rel=icon href=../../images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.27"><title>req - OpenSSL Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head><body dir=ltr data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo><input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off><input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off><label class=md-overlay for=__drawer></label><div data-md-component=skip><a href=#req class=md-skip> Skip to content </a></div><div data-md-component=announce></div><div data-md-color-scheme=default data-md-component=outdated hidden></div><header class="md-header md-header--shadow md-header--lifted" data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a href=../.. title="OpenSSL Documentation" class="md-header__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a><label class="md-header__button md-icon" for=__drawer><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> OpenSSL Documentation </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> req </span></div></div></div><form class=md-header__option data-md-component=palette><input class=md-option data-md-color-media data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label><input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label></form><script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required><label class="md-search__icon md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav class=md-search__options aria-label=Search><button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap tabindex=0 data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta> Initializing search </div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div></nav><nav class=md-tabs aria-label=Tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a href=../.. class=md-tabs__link> Home </a></li><li class=md-tabs__item><a href=../../fips/ class=md-tabs__link> FIPS-140 </a></li><li class="md-tabs__item md-tabs__item--active"><a href=../ class=md-tabs__link> Commands </a></li><li class=md-tabs__item><a href=../../man3/ class=md-tabs__link> Libraries </a></li><li class=md-tabs__item><a href=../../man5/ class=md-tabs__link> File Formats </a></li><li class=md-tabs__item><a href=../../man7/ class=md-tabs__link> Overviews </a></li></ul></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a href=../.. title="OpenSSL Documentation" class="md-nav__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a> OpenSSL Documentation </label><div class=md-nav__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../.. class=md-nav__link title=Home><span class=md-ellipsis-custom> Home </span></a></li><li class=md-nav__item><a href=../../fips/ class=md-nav__link title=FIPS-140><span class=md-ellipsis-custom> FIPS-140 </span></a></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked><div class="md-nav__link md-nav__container"><a href=../ class="md-nav__link "><span class=md-ellipsis-custom> Commands </span></a><label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex><span class="md-nav__icon md-icon"></span></label></div><nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true><label class=md-nav__title for=__nav_3><span class="md-nav__icon md-icon"></span> Commands </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../CA.pl/ class=md-nav__link title=CA.pl><span class=md-ellipsis-custom> CA.pl </span></a></li><li class=md-nav__item><a href=../asn1parse/ class=md-nav__link title=asn1parse><span class=md-ellipsis-custom> asn1parse </span></a></li><li class=md-nav__item><a href=../c_rehash/ class=md-nav__link title=c_rehash><span class=md-ellipsis-custom> c_rehash </span></a></li><li class=md-nav__item><a href=../ca/ class=md-nav__link title=ca><span class=md-ellipsis-custom> ca </span></a></li><li class=md-nav__item><a href=../ciphers/ class=md-nav__link title=ciphers><span class=md-ellipsis-custom> ciphers </span></a></li><li class=md-nav__item><a href=../cms/ class=md-nav__link title=cms><span class=md-ellipsis-custom> cms </span></a></li><li class=md-nav__item><a href=../config/ class=md-nav__link title=config><span class=md-ellipsis-custom> config </span></a></li><li class=md-nav__item><a href=../crl/ class=md-nav__link title=crl><span class=md-ellipsis-custom> crl </span></a></li><li class=md-nav__item><a href=../crl2pkcs7/ class=md-nav__link title=crl2pkcs7><span class=md-ellipsis-custom> crl2pkcs7 </span></a></li><li class=md-nav__item><a href=../dgst/ class=md-nav__link title=dgst><span class=md-ellipsis-custom> dgst </span></a></li><li class=md-nav__item><a href=../dhparam/ class=md-nav__link title=dhparam><span class=md-ellipsis-custom> dhparam </span></a></li><li class=md-nav__item><a href=../dsa/ class=md-nav__link title=dsa><span class=md-ellipsis-custom> dsa </span></a></li><li class=md-nav__item><a href=../dsaparam/ class=md-nav__link title=dsaparam><span class=md-ellipsis-custom> dsaparam </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=dss1><span class=md-ellipsis-custom> dss1 </span></a></li><li class=md-nav__item><a href=../ec/ class=md-nav__link title=ec><span class=md-ellipsis-custom> ec </span></a></li><li class=md-nav__item><a href=../ecparam/ class=md-nav__link title=ecparam><span class=md-ellipsis-custom> ecparam </span></a></li><li class=md-nav__item><a href=../enc/ class=md-nav__link title=enc><span class=md-ellipsis-custom> enc </span></a></li><li class=md-nav__item><a href=../errstr/ class=md-nav__link title=errstr><span class=md-ellipsis-custom> errstr </span></a></li><li class=md-nav__item><a href=../gendsa/ class=md-nav__link title=gendsa><span class=md-ellipsis-custom> gendsa </span></a></li><li class=md-nav__item><a href=../genpkey/ class=md-nav__link title=genpkey><span class=md-ellipsis-custom> genpkey </span></a></li><li class=md-nav__item><a href=../genrsa/ class=md-nav__link title=genrsa><span class=md-ellipsis-custom> genrsa </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=md2><span class=md-ellipsis-custom> md2 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=md4><span class=md-ellipsis-custom> md4 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=md5><span class=md-ellipsis-custom> md5 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=mdc2><span class=md-ellipsis-custom> mdc2 </span></a></li><li class=md-nav__item><a href=../nseq/ class=md-nav__link title=nseq><span class=md-ellipsis-custom> nseq </span></a></li><li class=md-nav__item><a href=../ocsp/ class=md-nav__link title=ocsp><span class=md-ellipsis-custom> ocsp </span></a></li><li class=md-nav__item><a href=../openssl/ class=md-nav__link title=openssl><span class=md-ellipsis-custom> openssl </span></a></li><li class=md-nav__item><a href=../asn1parse class=md-nav__link title=openssl-asn1parse><span class=md-ellipsis-custom> openssl-asn1parse </span></a></li><li class=md-nav__item><a href=../ca class=md-nav__link title=openssl-ca><span class=md-ellipsis-custom> openssl-ca </span></a></li><li class=md-nav__item><a href=../ciphers class=md-nav__link title=openssl-ciphers><span class=md-ellipsis-custom> openssl-ciphers </span></a></li><li class=md-nav__item><a href=../cms class=md-nav__link title=openssl-cms><span class=md-ellipsis-custom> openssl-cms </span></a></li><li class=md-nav__item><a href=../crl class=md-nav__link title=openssl-crl><span class=md-ellipsis-custom> openssl-crl </span></a></li><li class=md-nav__item><a href=../crl2pkcs7 class=md-nav__link title=openssl-crl2pkcs7><span class=md-ellipsis-custom> openssl-crl2pkcs7 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=openssl-dgst><span class=md-ellipsis-custom> openssl-dgst </span></a></li><li class=md-nav__item><a href=../dhparam class=md-nav__link title=openssl-dhparam><span class=md-ellipsis-custom> openssl-dhparam </span></a></li><li class=md-nav__item><a href=../dsa class=md-nav__link title=openssl-dsa><span class=md-ellipsis-custom> openssl-dsa </span></a></li><li class=md-nav__item><a href=../dsaparam class=md-nav__link title=openssl-dsaparam><span class=md-ellipsis-custom> openssl-dsaparam </span></a></li><li class=md-nav__item><a href=../ec class=md-nav__link title=openssl-ec><span class=md-ellipsis-custom> openssl-ec </span></a></li><li class=md-nav__item><a href=../ecparam class=md-nav__link title=openssl-ecparam><span class=md-ellipsis-custom> openssl-ecparam </span></a></li><li class=md-nav__item><a href=../enc class=md-nav__link title=openssl-enc><span class=md-ellipsis-custom> openssl-enc </span></a></li><li class=md-nav__item><a href=../errstr class=md-nav__link title=openssl-errstr><span class=md-ellipsis-custom> openssl-errstr </span></a></li><li class=md-nav__item><a href=../gendsa class=md-nav__link title=openssl-gendsa><span class=md-ellipsis-custom> openssl-gendsa </span></a></li><li class=md-nav__item><a href=../genpkey class=md-nav__link title=openssl-genpkey><span class=md-ellipsis-custom> openssl-genpkey </span></a></li><li class=md-nav__item><a href=../genrsa class=md-nav__link title=openssl-genrsa><span class=md-ellipsis-custom> openssl-genrsa </span></a></li><li class=md-nav__item><a href=../nseq class=md-nav__link title=openssl-nseq><span class=md-ellipsis-custom> openssl-nseq </span></a></li><li class=md-nav__item><a href=../ocsp class=md-nav__link title=openssl-ocsp><span class=md-ellipsis-custom> openssl-ocsp </span></a></li><li class=md-nav__item><a href=../passwd class=md-nav__link title=openssl-passwd><span class=md-ellipsis-custom> openssl-passwd </span></a></li><li class=md-nav__item><a href=../pkcs12 class=md-nav__link title=openssl-pkcs12><span class=md-ellipsis-custom> openssl-pkcs12 </span></a></li><li class=md-nav__item><a href=../pkcs7 class=md-nav__link title=openssl-pkcs7><span class=md-ellipsis-custom> openssl-pkcs7 </span></a></li><li class=md-nav__item><a href=../pkcs8 class=md-nav__link title=openssl-pkcs8><span class=md-ellipsis-custom> openssl-pkcs8 </span></a></li><li class=md-nav__item><a href=../pkey class=md-nav__link title=openssl-pkey><span class=md-ellipsis-custom> openssl-pkey </span></a></li><li class=md-nav__item><a href=../pkeyparam class=md-nav__link title=openssl-pkeyparam><span class=md-ellipsis-custom> openssl-pkeyparam </span></a></li><li class=md-nav__item><a href=../pkeyutl class=md-nav__link title=openssl-pkeyutl><span class=md-ellipsis-custom> openssl-pkeyutl </span></a></li><li class=md-nav__item><a href=../rand class=md-nav__link title=openssl-rand><span class=md-ellipsis-custom> openssl-rand </span></a></li><li class=md-nav__item><a href=. class=md-nav__link title=openssl-req><span class=md-ellipsis-custom> openssl-req </span></a></li><li class=md-nav__item><a href=../rsa class=md-nav__link title=openssl-rsa><span class=md-ellipsis-custom> openssl-rsa </span></a></li><li class=md-nav__item><a href=../rsautl class=md-nav__link title=openssl-rsautl><span class=md-ellipsis-custom> openssl-rsautl </span></a></li><li class=md-nav__item><a href=../s_client class=md-nav__link title=openssl-s_client><span class=md-ellipsis-custom> openssl-s_client </span></a></li><li class=md-nav__item><a href=../s_server class=md-nav__link title=openssl-s_server><span class=md-ellipsis-custom> openssl-s_server </span></a></li><li class=md-nav__item><a href=../s_time class=md-nav__link title=openssl-s_time><span class=md-ellipsis-custom> openssl-s_time </span></a></li><li class=md-nav__item><a href=../sess_id class=md-nav__link title=openssl-sess_id><span class=md-ellipsis-custom> openssl-sess_id </span></a></li><li class=md-nav__item><a href=../smime class=md-nav__link title=openssl-smime><span class=md-ellipsis-custom> openssl-smime </span></a></li><li class=md-nav__item><a href=../speed class=md-nav__link title=openssl-speed><span class=md-ellipsis-custom> openssl-speed </span></a></li><li class=md-nav__item><a href=../spkac class=md-nav__link title=openssl-spkac><span class=md-ellipsis-custom> openssl-spkac </span></a></li><li class=md-nav__item><a href=../ts class=md-nav__link title=openssl-ts><span class=md-ellipsis-custom> openssl-ts </span></a></li><li class=md-nav__item><a href=../tsget class=md-nav__link title=openssl-tsget><span class=md-ellipsis-custom> openssl-tsget </span></a></li><li class=md-nav__item><a href=../verify class=md-nav__link title=openssl-verify><span class=md-ellipsis-custom> openssl-verify </span></a></li><li class=md-nav__item><a href=../version class=md-nav__link title=openssl-version><span class=md-ellipsis-custom> openssl-version </span></a></li><li class=md-nav__item><a href=../x509 class=md-nav__link title=openssl-x509><span class=md-ellipsis-custom> openssl-x509 </span></a></li><li class=md-nav__item><a href=../passwd/ class=md-nav__link title=passwd><span class=md-ellipsis-custom> passwd </span></a></li><li class=md-nav__item><a href=../pkcs12/ class=md-nav__link title=pkcs12><span class=md-ellipsis-custom> pkcs12 </span></a></li><li class=md-nav__item><a href=../pkcs7/ class=md-nav__link title=pkcs7><span class=md-ellipsis-custom> pkcs7 </span></a></li><li class=md-nav__item><a href=../pkcs8/ class=md-nav__link title=pkcs8><span class=md-ellipsis-custom> pkcs8 </span></a></li><li class=md-nav__item><a href=../pkey/ class=md-nav__link title=pkey><span class=md-ellipsis-custom> pkey </span></a></li><li class=md-nav__item><a href=../pkeyparam/ class=md-nav__link title=pkeyparam><span class=md-ellipsis-custom> pkeyparam </span></a></li><li class=md-nav__item><a href=../pkeyutl/ class=md-nav__link title=pkeyutl><span class=md-ellipsis-custom> pkeyutl </span></a></li><li class=md-nav__item><a href=../rand/ class=md-nav__link title=rand><span class=md-ellipsis-custom> rand </span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type=checkbox id=__toc><label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis-custom> req </span><span class="md-nav__icon md-icon"></span></label><a href=./ class="md-nav__link md-nav__link--active"><span class=md-ellipsis-custom> req </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#synopsis class=md-nav__link><span class=md-ellipsis> SYNOPSIS </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#command-options class=md-nav__link><span class=md-ellipsis> COMMAND OPTIONS </span></a></li><li class=md-nav__item><a href=#configuration-file-format class=md-nav__link><span class=md-ellipsis> CONFIGURATION FILE FORMAT </span></a></li><li class=md-nav__item><a href=#distinguished-name-and-attribute-section-format class=md-nav__link><span class=md-ellipsis> DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT </span></a></li><li class=md-nav__item><a href=#examples class=md-nav__link><span class=md-ellipsis> EXAMPLES </span></a></li><li class=md-nav__item><a href=#notes class=md-nav__link><span class=md-ellipsis> NOTES </span></a></li><li class=md-nav__item><a href=#diagnostics class=md-nav__link><span class=md-ellipsis> DIAGNOSTICS </span></a></li><li class=md-nav__item><a href=#environment-variables class=md-nav__link><span class=md-ellipsis> ENVIRONMENT VARIABLES </span></a></li><li class=md-nav__item><a href=#bugs class=md-nav__link><span class=md-ellipsis> BUGS </span></a></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li></ul></nav></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=ripemd160><span class=md-ellipsis-custom> ripemd160 </span></a></li><li class=md-nav__item><a href=../rsa/ class=md-nav__link title=rsa><span class=md-ellipsis-custom> rsa </span></a></li><li class=md-nav__item><a href=../rsautl/ class=md-nav__link title=rsautl><span class=md-ellipsis-custom> rsautl </span></a></li><li class=md-nav__item><a href=../s_client/ class=md-nav__link title=s_client><span class=md-ellipsis-custom> s_client </span></a></li><li class=md-nav__item><a href=../s_server/ class=md-nav__link title=s_server><span class=md-ellipsis-custom> s_server </span></a></li><li class=md-nav__item><a href=../s_time/ class=md-nav__link title=s_time><span class=md-ellipsis-custom> s_time </span></a></li><li class=md-nav__item><a href=../sess_id/ class=md-nav__link title=sess_id><span class=md-ellipsis-custom> sess_id </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=sha><span class=md-ellipsis-custom> sha </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=sha1><span class=md-ellipsis-custom> sha1 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=sha224><span class=md-ellipsis-custom> sha224 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=sha256><span class=md-ellipsis-custom> sha256 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=sha384><span class=md-ellipsis-custom> sha384 </span></a></li><li class=md-nav__item><a href=../dgst class=md-nav__link title=sha512><span class=md-ellipsis-custom> sha512 </span></a></li><li class=md-nav__item><a href=../smime/ class=md-nav__link title=smime><span class=md-ellipsis-custom> smime </span></a></li><li class=md-nav__item><a href=../speed/ class=md-nav__link title=speed><span class=md-ellipsis-custom> speed </span></a></li><li class=md-nav__item><a href=../spkac/ class=md-nav__link title=spkac><span class=md-ellipsis-custom> spkac </span></a></li><li class=md-nav__item><a href=../ts/ class=md-nav__link title=ts><span class=md-ellipsis-custom> ts </span></a></li><li class=md-nav__item><a href=../tsget/ class=md-nav__link title=tsget><span class=md-ellipsis-custom> tsget </span></a></li><li class=md-nav__item><a href=../verify/ class=md-nav__link title=verify><span class=md-ellipsis-custom> verify </span></a></li><li class=md-nav__item><a href=../version/ class=md-nav__link title=version><span class=md-ellipsis-custom> version </span></a></li><li class=md-nav__item><a href=../x509/ class=md-nav__link title=x509><span class=md-ellipsis-custom> x509 </span></a></li><li class=md-nav__item><a href=../x509v3_config/ class=md-nav__link title=x509v3_config><span class=md-ellipsis-custom> x509v3_config </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man3/ class=md-nav__link><span class=md-ellipsis-custom> Libraries </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man5/ class=md-nav__link><span class=md-ellipsis-custom> File Formats </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man7/ class=md-nav__link><span class=md-ellipsis-custom> Overviews </span><span class="md-nav__icon md-icon"></span></a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#synopsis class=md-nav__link><span class=md-ellipsis> SYNOPSIS </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#command-options class=md-nav__link><span class=md-ellipsis> COMMAND OPTIONS </span></a></li><li class=md-nav__item><a href=#configuration-file-format class=md-nav__link><span class=md-ellipsis> CONFIGURATION FILE FORMAT </span></a></li><li class=md-nav__item><a href=#distinguished-name-and-attribute-section-format class=md-nav__link><span class=md-ellipsis> DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT </span></a></li><li class=md-nav__item><a href=#examples class=md-nav__link><span class=md-ellipsis> EXAMPLES </span></a></li><li class=md-nav__item><a href=#notes class=md-nav__link><span class=md-ellipsis> NOTES </span></a></li><li class=md-nav__item><a href=#diagnostics class=md-nav__link><span class=md-ellipsis> DIAGNOSTICS </span></a></li><li class=md-nav__item><a href=#environment-variables class=md-nav__link><span class=md-ellipsis> ENVIRONMENT VARIABLES </span></a></li><li class=md-nav__item><a href=#bugs class=md-nav__link><span class=md-ellipsis> BUGS </span></a></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=req>req<a class=headerlink href=#req title="Permanent link">&para;</a></h1><h2 id=name>NAME<a class=headerlink href=#name title="Permanent link">&para;</a></h2><p>openssl-req, req - PKCS#10 certificate request and certificate generating utility.</p><h2 id=synopsis>SYNOPSIS<a class=headerlink href=#synopsis title="Permanent link">&para;</a></h2><p><strong>openssl</strong> <strong>req</strong> [<strong>-inform PEM|DER</strong>] [<strong>-outform PEM|DER</strong>] [<strong>-in filename</strong>] [<strong>-passin arg</strong>] [<strong>-out filename</strong>] [<strong>-passout arg</strong>] [<strong>-text</strong>] [<strong>-pubkey</strong>] [<strong>-noout</strong>] [<strong>-verify</strong>] [<strong>-modulus</strong>] [<strong>-new</strong>] [<strong>-rand file(s)</strong>] [<strong>-newkey rsa:bits</strong>] [<strong>-newkey alg:file</strong>] [<strong>-nodes</strong>] [<strong>-key filename</strong>] [<strong>-keyform PEM|DER</strong>] [<strong>-keyout filename</strong>] [<strong>-keygen_engine id</strong>] [<strong>-[digest]</strong>] [<strong>-config filename</strong>] [<strong>-multivalue-rdn</strong>] [<strong>-x509</strong>] [<strong>-days n</strong>] [<strong>-set_serial n</strong>] [<strong>-asn1-kludge</strong>] [<strong>-no-asn1-kludge</strong>] [<strong>-newhdr</strong>] [<strong>-extensions section</strong>] [<strong>-reqexts section</strong>] [<strong>-utf8</strong>] [<strong>-nameopt</strong>] [<strong>-reqopt</strong>] [<strong>-subject</strong>] [<strong>-subj arg</strong>] [<strong>-batch</strong>] [<strong>-verbose</strong>] [<strong>-engine id</strong>]</p><h2 id=description>DESCRIPTION<a class=headerlink href=#description title="Permanent link">&para;</a></h2><p>The <strong>req</strong> command primarily creates and processes certificate requests in PKCS#10 format. It can additionally create self signed certificates for use as root CAs for example.</p><h2 id=command-options>COMMAND OPTIONS<a class=headerlink href=#command-options title="Permanent link">&para;</a></h2><ul><li><p><strong>-inform DER|PEM</strong></p><p>This specifies the input format. The <strong>DER</strong> option uses an ASN1 DER encoded form compatible with the PKCS#10. The <strong>PEM</strong> form is the default format: it consists of the <strong>DER</strong> format base64 encoded with additional header and footer lines.</p></li><li><p><strong>-outform DER|PEM</strong></p><p>This specifies the output format, the options have the same meaning as the <strong>-inform</strong> option.</p></li><li><p><strong>-in filename</strong></p><p>This specifies the input filename to read a request from or standard input if this option is not specified. A request is only read if the creation options (<strong>-new</strong> and <strong>-newkey</strong>) are not specified.</p></li><li><p><strong>-passin arg</strong></p><p>the input file password source. For more information about the format of <strong>arg</strong> see the <strong>PASS PHRASE ARGUMENTS</strong> section in <a href=../openssl/ >openssl(1)</a>.</p></li><li><p><strong>-out filename</strong></p><p>This specifies the output filename to write to or standard output by default.</p></li><li><p><strong>-passout arg</strong></p><p>the output file password source. For more information about the format of <strong>arg</strong> see the <strong>PASS PHRASE ARGUMENTS</strong> section in <a href=../openssl/ >openssl(1)</a>.</p></li><li><p><strong>-text</strong></p><p>prints out the certificate request in text form.</p></li><li><p><strong>-subject</strong></p><p>prints out the request subject (or certificate subject if <strong>-x509</strong> is specified)</p></li><li><p><strong>-pubkey</strong></p><p>outputs the public key.</p></li><li><p><strong>-noout</strong></p><p>this option prevents output of the encoded version of the request.</p></li><li><p><strong>-modulus</strong></p><p>this option prints out the value of the modulus of the public key contained in the request.</p></li><li><p><strong>-verify</strong></p><p>verifies the signature on the request.</p></li><li><p><strong>-new</strong></p><p>this option generates a new certificate request. It will prompt the user for the relevant field values. The actual fields prompted for and their maximum and minimum sizes are specified in the configuration file and any requested extensions.</p><p>If the <strong>-key</strong> option is not used it will generate a new RSA private key using information specified in the configuration file.</p></li><li><p><strong>-subj arg</strong></p><p>Replaces subject field of input request with specified data and outputs modified request. The arg must be formatted as <em>/type0=value0/type1=value1/type2=...</em>, characters may be escaped by \ (backslash), no spaces are skipped.</p></li><li><p><strong>-rand file(s)</strong></p><p>a file or files containing random data used to seed the random number generator, or an EGD socket (see <a href=../../man3/RAND_egd/ >RAND_egd(3)</a>). Multiple files can be specified separated by a OS-dependent character. The separator is <strong>;</strong> for MS-Windows, <strong>,</strong> for OpenVMS, and <strong>:</strong> for all others.</p></li><li><p><strong>-newkey arg</strong></p><p>this option creates a new certificate request and a new private key. The argument takes one of several forms. <strong>rsa:nbits</strong>, where <strong>nbits</strong> is the number of bits, generates an RSA key <strong>nbits</strong> in size. If <strong>nbits</strong> is omitted, i.e. <strong>-newkey rsa</strong> specified, the default key size, specified in the configuration file is used.</p><p>All other algorithms support the <strong>-newkey alg:file</strong> form, where file may be an algorithm parameter file, created by the <strong>genpkey -genparam</strong> command or and X.509 certificate for a key with approriate algorithm.</p><p><strong>param:file</strong> generates a key using the parameter file or certificate <strong>file</strong>, the algorithm is determined by the parameters. <strong>algname:file</strong> use algorithm <strong>algname</strong> and parameter file <strong>file</strong>: the two algorithms must match or an error occurs. <strong>algname</strong> just uses algorithm <strong>algname</strong>, and parameters, if neccessary should be specified via <strong>-pkeyopt</strong> parameter.</p><p><strong>dsa:filename</strong> generates a DSA key using the parameters in the file <strong>filename</strong>. <strong>ec:filename</strong> generates EC key (usable both with ECDSA or ECDH algorithms), <strong>gost2001:filename</strong> generates GOST R 34.10-2001 key (requires <strong>ccgost</strong> engine configured in the configuration file). If just <strong>gost2001</strong> is specified a parameter set should be specified by <strong>-pkeyopt paramset:X</strong></p></li><li><p><strong>-pkeyopt opt:value</strong></p><p>set the public key algorithm option <strong>opt</strong> to <strong>value</strong>. The precise set of options supported depends on the public key algorithm used and its implementation. See <strong>KEY GENERATION OPTIONS</strong> in the <strong>genpkey</strong> manual page for more details.</p></li><li><p><strong>-key filename</strong></p><p>This specifies the file to read the private key from. It also accepts PKCS#8 format private keys for PEM format files.</p></li><li><p><strong>-keyform PEM|DER</strong></p><p>the format of the private key file specified in the <strong>-key</strong> argument. PEM is the default.</p></li><li><p><strong>-keyout filename</strong></p><p>this gives the filename to write the newly created private key to. If this option is not specified then the filename present in the configuration file is used.</p></li><li><p><strong>-nodes</strong></p><p>if this option is specified then if a private key is created it will not be encrypted.</p></li><li><p><strong>-[digest]</strong></p><p>this specifies the message digest to sign the request with (such as <strong>-md5</strong>, <strong>-sha1</strong>). This overrides the digest algorithm specified in the configuration file.</p><p>Some public key algorithms may override this choice. For instance, DSA signatures always use SHA1, GOST R 34.10 signatures always use GOST R 34.11-94 (<strong>-md_gost94</strong>).</p></li><li><p><strong>-config filename</strong></p><p>this allows an alternative configuration file to be specified, this overrides the compile time filename or any specified in the <strong>OPENSSL_CONF</strong> environment variable.</p></li><li><p><strong>-subj arg</strong></p><p>sets subject name for new request or supersedes the subject name when processing a request. The arg must be formatted as <em>/type0=value0/type1=value1/type2=...</em>, characters may be escaped by \ (backslash), no spaces are skipped.</p></li><li><p><strong>-multivalue-rdn</strong></p><p>this option causes the -subj argument to be interpreted with full support for multivalued RDNs. Example:</p><p><em>/DC=org/DC=OpenSSL/DC=users/UID=123456+CN=John Doe</em></p><p>If -multi-rdn is not used then the UID value is <em>123456+CN=John Doe</em>.</p></li><li><p><strong>-x509</strong></p><p>this option outputs a self signed certificate instead of a certificate request. This is typically used to generate a test certificate or a self signed root CA. The extensions added to the certificate (if any) are specified in the configuration file. Unless specified using the <strong>set_serial</strong> option, a large random number will be used for the serial number.</p><p>If existing request is specified with the <strong>-in</strong> option, it is converted to the self signed certificate otherwise new request is created.</p></li><li><p><strong>-days n</strong></p><p>when the <strong>-x509</strong> option is being used this specifies the number of days to certify the certificate for. The default is 30 days.</p></li><li><p><strong>-set_serial n</strong></p><p>serial number to use when outputting a self signed certificate. This may be specified as a decimal value or a hex value if preceded by <strong>0x</strong>. It is possible to use negative serial numbers but this is not recommended.</p></li><li><p><strong>-extensions section</strong></p></li><li><p><strong>-reqexts section</strong></p><p>these options specify alternative sections to include certificate extensions (if the <strong>-x509</strong> option is present) or certificate request extensions. This allows several different sections to be used in the same configuration file to specify requests for a variety of purposes.</p></li><li><p><strong>-utf8</strong></p><p>this option causes field values to be interpreted as UTF8 strings, by default they are interpreted as ASCII. This means that the field values, whether prompted from a terminal or obtained from a configuration file, must be valid UTF8 strings.</p></li><li><p><strong>-nameopt option</strong></p><p>option which determines how the subject or issuer names are displayed. The <strong>option</strong> argument can be a single option or multiple options separated by commas. Alternatively the <strong>-nameopt</strong> switch may be used more than once to set multiple options. See the <a href=../x509/ >x509(1)</a> manual page for details.</p></li><li><p><strong>-reqopt</strong></p><p>customise the output format used with <strong>-text</strong>. The <strong>option</strong> argument can be a single option or multiple options separated by commas. </p><p>See discission of the <strong>-certopt</strong> parameter in the <a href=../x509/ ><strong>x509</strong></a> command.</p></li><li><p><strong>-asn1-kludge</strong></p><p>by default the <strong>req</strong> command outputs certificate requests containing no attributes in the correct PKCS#10 format. However certain CAs will only accept requests containing no attributes in an invalid form: this option produces this invalid format.</p><p>More precisely the <strong>Attributes</strong> in a PKCS#10 certificate request are defined as a <strong>SET OF Attribute</strong>. They are <strong>not OPTIONAL</strong> so if no attributes are present then they should be encoded as an empty <strong>SET OF</strong>. The invalid form does not include the empty <strong>SET OF</strong> whereas the correct form does.</p><p>It should be noted that very few CAs still require the use of this option.</p></li><li><p><strong>-no-asn1-kludge</strong></p><p>Reverses effect of <strong>-asn1-kludge</strong></p></li><li><p><strong>-newhdr</strong></p><p>Adds the word <strong>NEW</strong> to the PEM file header and footer lines on the outputted request. Some software (Netscape certificate server) and some CAs need this.</p></li><li><p><strong>-batch</strong></p><p>non-interactive mode.</p></li><li><p><strong>-verbose</strong></p><p>print extra details about the operations being performed.</p></li><li><p><strong>-engine id</strong></p><p>specifying an engine (by its unique <strong>id</strong> string) will cause <strong>req</strong> to attempt to obtain a functional reference to the specified engine, thus initialising it if needed. The engine will then be set as the default for all available algorithms.</p></li><li><p><strong>-keygen_engine id</strong></p><p>specifies an engine (by its unique <strong>id</strong> string) which would be used for key generation operations.</p></li></ul><h2 id=configuration-file-format>CONFIGURATION FILE FORMAT<a class=headerlink href=#configuration-file-format title="Permanent link">&para;</a></h2><p>The configuration options are specified in the <strong>req</strong> section of the configuration file. As with all configuration files if no value is specified in the specific section (i.e. <strong>req</strong>) then the initial unnamed or <strong>default</strong> section is searched too.</p><p>The options available are described in detail below.</p><ul><li><p><strong>input_password output_password</strong></p><p>The passwords for the input private key file (if present) and the output private key file (if one will be created). The command line options <strong>passin</strong> and <strong>passout</strong> override the configuration file values.</p></li><li><p><strong>default_bits</strong></p><p>Specifies the default key size in bits.</p><p>This option is used in conjunction with the <strong>-new</strong> option to generate a new key. It can be overridden by specifying an explicit key size in the <strong>-newkey</strong> option. The smallest accepted key size is 512 bits. If no key size is specified then 2048 bits is used.</p></li><li><p><strong>default_keyfile</strong></p><p>This is the default filename to write a private key to. If not specified the key is written to standard output. This can be overridden by the <strong>-keyout</strong> option.</p></li><li><p><strong>oid_file</strong></p><p>This specifies a file containing additional <strong>OBJECT IDENTIFIERS</strong>. Each line of the file should consist of the numerical form of the object identifier followed by white space then the short name followed by white space and finally the long name. </p></li><li><p><strong>oid_section</strong></p><p>This specifies a section in the configuration file containing extra object identifiers. Each line should consist of the short name of the object identifier followed by <strong>=</strong> and the numerical form. The short and long names are the same when this option is used.</p></li><li><p><strong>RANDFILE</strong></p><p>This specifies a filename in which random number seed information is placed and read from, or an EGD socket (see <a href=../../man3/RAND_egd/ >RAND_egd(3)</a>). It is used for private key generation.</p></li><li><p><strong>encrypt_key</strong></p><p>If this is set to <strong>no</strong> then if a private key is generated it is <strong>not</strong> encrypted. This is equivalent to the <strong>-nodes</strong> command line option. For compatibility <strong>encrypt_rsa_key</strong> is an equivalent option.</p></li><li><p><strong>default_md</strong></p><p>This option specifies the digest algorithm to use. Possible values include <strong>md5 sha1 mdc2</strong>. This option can be overridden on the command line.</p></li><li><p><strong>string_mask</strong></p><p>This option masks out the use of certain string types in certain fields. Most users will not need to change this option.</p><p>It can be set to several values <strong>default</strong> which is also the default option uses PrintableStrings, T61Strings and BMPStrings if the <strong>pkix</strong> value is used then only PrintableStrings and BMPStrings will be used. This follows the PKIX recommendation in RFC2459. If the <strong>utf8only</strong> option is used then only UTF8Strings will be used: this is the PKIX recommendation in RFC2459 after 2003. Finally the <strong>nombstr</strong> option just uses PrintableStrings and T61Strings: certain software has problems with BMPStrings and UTF8Strings: in particular Netscape.</p></li><li><p><strong>req_extensions</strong></p><p>this specifies the configuration file section containing a list of extensions to add to the certificate request. It can be overridden by the <strong>-reqexts</strong> command line switch. See the <a href=../../man5/x509v3_config>x509v3_config(5)</a> manual page for details of the extension section format.</p></li><li><p><strong>x509_extensions</strong></p><p>this specifies the configuration file section containing a list of extensions to add to certificate generated when the <strong>-x509</strong> switch is used. It can be overridden by the <strong>-extensions</strong> command line switch.</p></li><li><p><strong>prompt</strong></p><p>if set to the value <strong>no</strong> this disables prompting of certificate fields and just takes values from the config file directly. It also changes the expected format of the <strong>distinguished_name</strong> and <strong>attributes</strong> sections.</p></li><li><p><strong>utf8</strong></p><p>if set to the value <strong>yes</strong> then field values to be interpreted as UTF8 strings, by default they are interpreted as ASCII. This means that the field values, whether prompted from a terminal or obtained from a configuration file, must be valid UTF8 strings.</p></li><li><p><strong>attributes</strong></p><p>this specifies the section containing any request attributes: its format is the same as <strong>distinguished_name</strong>. Typically these may contain the challengePassword or unstructuredName types. They are currently ignored by OpenSSL&#39;s request signing utilities but some CAs might want them.</p></li><li><p><strong>distinguished_name</strong></p><p>This specifies the section containing the distinguished name fields to prompt for when generating a certificate or certificate request. The format is described in the next section.</p></li></ul><h2 id=distinguished-name-and-attribute-section-format>DISTINGUISHED NAME AND ATTRIBUTE SECTION FORMAT<a class=headerlink href=#distinguished-name-and-attribute-section-format title="Permanent link">&para;</a></h2><p>There are two separate formats for the distinguished name and attribute sections. If the <strong>prompt</strong> option is set to <strong>no</strong> then these sections just consist of field names and values: for example,</p><div class=highlight><pre><span></span><code>CN=My Name
OU=My Organization
emailAddress=someone@somewhere.org
</code></pre></div><p>This allows external programs (e.g. GUI based) to generate a template file with all the field names and values and just pass it to <strong>req</strong>. An example of this kind of configuration file is contained in the <strong>EXAMPLES</strong> section.</p><p>Alternatively if the <strong>prompt</strong> option is absent or not set to <strong>no</strong> then the file contains field prompting information. It consists of lines of the form:</p><div class=highlight><pre><span></span><code>fieldName=&quot;prompt&quot;
fieldName_default=&quot;default field value&quot;
fieldName_min= 2
fieldName_max= 4
</code></pre></div><p>&quot;fieldName&quot; is the field name being used, for example commonName (or CN). The &quot;prompt&quot; string is used to ask the user to enter the relevant details. If the user enters nothing then the default value is used if no default value is present then the field is omitted. A field can still be omitted if a default value is present if the user just enters the &#39;.&#39; character.</p><p>The number of characters entered must be between the fieldName_min and fieldName_max limits: there may be additional restrictions based on the field being used (for example countryName can only ever be two characters long and must fit in a PrintableString).</p><p>Some fields (such as organizationName) can be used more than once in a DN. This presents a problem because configuration files will not recognize the same name occurring twice. To avoid this problem if the fieldName contains some characters followed by a full stop they will be ignored. So for example a second organizationName can be input by calling it &quot;1.organizationName&quot;.</p><p>The actual permitted field names are any object identifier short or long names. These are compiled into OpenSSL and include the usual values such as commonName, countryName, localityName, organizationName, organizationalUnitName, stateOrProvinceName. Additionally emailAddress is include as well as name, surname, givenName initials and dnQualifier.</p><p>Additional object identifiers can be defined with the <strong>oid_file</strong> or <strong>oid_section</strong> options in the configuration file. Any additional fields will be treated as though they were a DirectoryString.</p><h2 id=examples>EXAMPLES<a class=headerlink href=#examples title="Permanent link">&para;</a></h2><p>Examine and verify certificate request:</p><div class=highlight><pre><span></span><code>openssl req -in req.pem -text -verify -noout
</code></pre></div><p>Create a private key and then generate a certificate request from it:</p><div class=highlight><pre><span></span><code>openssl genrsa -out key.pem 2048
openssl req -new -key key.pem -out req.pem
</code></pre></div><p>The same but just using req:</p><div class=highlight><pre><span></span><code>openssl req -newkey rsa:2048 -keyout key.pem -out req.pem
</code></pre></div><p>Generate a self signed root certificate:</p><div class=highlight><pre><span></span><code>openssl req -x509 -newkey rsa:2048 -keyout key.pem -out req.pem
</code></pre></div><p>Example of a file pointed to by the <strong>oid_file</strong> option:</p><div class=highlight><pre><span></span><code>1.2.3.4        shortName       A longer Name
1.2.3.6        otherName       Other longer Name
</code></pre></div><p>Example of a section pointed to by <strong>oid_section</strong> making use of variable expansion:</p><div class=highlight><pre><span></span><code>testoid1=1.2.3.5
testoid2=${testoid1}.6
</code></pre></div><p>Sample configuration file prompting for field values:</p><div class=highlight><pre><span></span><code>[ req ]
default_bits           = 2048
default_keyfile        = privkey.pem
distinguished_name     = req_distinguished_name
attributes             = req_attributes
x509_extensions        = v3_ca

dirstring_type = nobmp

[ req_distinguished_name ]
countryName                    = Country Name (2 letter code)
countryName_default            = AU
countryName_min                = 2
countryName_max                = 2

localityName                   = Locality Name (eg, city)

organizationalUnitName         = Organizational Unit Name (eg, section)

commonName                     = Common Name (eg, YOUR name)
commonName_max                 = 64

emailAddress                   = Email Address
emailAddress_max               = 40

[ req_attributes ]
challengePassword              = A challenge password
challengePassword_min          = 4
challengePassword_max          = 20

[ v3_ca ]

subjectKeyIdentifier=hash
authorityKeyIdentifier=keyid:always,issuer:always
basicConstraints = CA:true
</code></pre></div><p>Sample configuration containing all field values:</p><div class=highlight><pre><span></span><code>RANDFILE               = $ENV::HOME/.rnd

[ req ]
default_bits           = 2048
default_keyfile        = keyfile.pem
distinguished_name     = req_distinguished_name
attributes             = req_attributes
prompt                 = no
output_password        = mypass

[ req_distinguished_name ]
C                      = GB
ST                     = Test State or Province
L                      = Test Locality
O                      = Organization Name
OU                     = Organizational Unit Name
CN                     = Common Name
emailAddress           = test@email.address

[ req_attributes ]
challengePassword              = A challenge password
</code></pre></div><h2 id=notes>NOTES<a class=headerlink href=#notes title="Permanent link">&para;</a></h2><p>The header and footer lines in the <strong>PEM</strong> format are normally:</p><div class=highlight><pre><span></span><code>-----BEGIN CERTIFICATE REQUEST-----
-----END CERTIFICATE REQUEST-----
</code></pre></div><p>some software (some versions of Netscape certificate server) instead needs:</p><div class=highlight><pre><span></span><code>-----BEGIN NEW CERTIFICATE REQUEST-----
-----END NEW CERTIFICATE REQUEST-----
</code></pre></div><p>which is produced with the <strong>-newhdr</strong> option but is otherwise compatible. Either form is accepted transparently on input.</p><p>The certificate requests generated by <strong>Xenroll</strong> with MSIE have extensions added. It includes the <strong>keyUsage</strong> extension which determines the type of key (signature only or general purpose) and any additional OIDs entered by the script in an extendedKeyUsage extension.</p><h2 id=diagnostics>DIAGNOSTICS<a class=headerlink href=#diagnostics title="Permanent link">&para;</a></h2><p>The following messages are frequently asked about:</p><div class=highlight><pre><span></span><code>    Using configuration from /some/path/openssl.cnf
    Unable to load config info
</code></pre></div><p>This is followed some time later by...</p><div class=highlight><pre><span></span><code>    unable to find &#39;distinguished_name&#39; in config
    problems making Certificate Request
</code></pre></div><p>The first error message is the clue: it can&#39;t find the configuration file! Certain operations (like examining a certificate request) don&#39;t need a configuration file so its use isn&#39;t enforced. Generation of certificates or requests however does need a configuration file. This could be regarded as a bug.</p><p>Another puzzling message is this:</p><div class=highlight><pre><span></span><code>    Attributes:
        a0:00
</code></pre></div><p>this is displayed when no attributes are present and the request includes the correct empty <strong>SET OF</strong> structure (the DER encoding of which is 0xa0 0x00). If you just see:</p><div class=highlight><pre><span></span><code>    Attributes:
</code></pre></div><p>then the <strong>SET OF</strong> is missing and the encoding is technically invalid (but it is tolerated). See the description of the command line option <strong>-asn1-kludge</strong> for more information.</p><h2 id=environment-variables>ENVIRONMENT VARIABLES<a class=headerlink href=#environment-variables title="Permanent link">&para;</a></h2><p>The variable <strong>OPENSSL_CONF</strong> if defined allows an alternative configuration file location to be specified, it will be overridden by the <strong>-config</strong> command line switch if it is present. For compatibility reasons the <strong>SSLEAY_CONF</strong> environment variable serves the same purpose but its use is discouraged.</p><h2 id=bugs>BUGS<a class=headerlink href=#bugs title="Permanent link">&para;</a></h2><p>OpenSSL&#39;s handling of T61Strings (aka TeletexStrings) is broken: it effectively treats them as ISO-8859-1 (Latin 1), Netscape and MSIE have similar behaviour. This can cause problems if you need characters that aren&#39;t available in PrintableStrings and you don&#39;t want to or can&#39;t use BMPStrings.</p><p>As a consequence of the T61String handling the only correct way to represent accented characters in OpenSSL is to use a BMPString: unfortunately Netscape currently chokes on these. If you have to use accented characters with Netscape and MSIE then you currently need to use the invalid T61String form.</p><p>The current prompting is not very friendly. It doesn&#39;t allow you to confirm what you&#39;ve just entered. Other things like extensions in certificate requests are statically defined in the configuration file. Some of these: like an email address in subjectAltName should be input by the user.</p><h2 id=see-also>SEE ALSO<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2><p><a href=../x509/ >x509(1)</a>, <a href=../ca/ >ca(1)</a>, <a href=../genrsa/ >genrsa(1)</a>, <a href=../gendsa/ >gendsa(1)</a>, <a href=../../man5/config>config(5)</a>, <a href=../../man5/x509v3_config>x509v3_config(5)</a> </p></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "master", "provider": "mike"}}</script><script src=../../assets/javascripts/bundle.ad660dcc.min.js></script></body></html>