<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.openssl.org/3.0/man7/migration_guide/ rel=canonical><link href=../life_cycle-rand/ rel=prev><link href=../openssl-core.h/ rel=next><link rel=icon href=../../images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.27"><title>migration_guide - OpenSSL Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>
  function __md_analytics() {

    var script = document.createElement("script")
    script.async = true
    script.src = "https://api.transpond.io/tracker?am=MzgyOTE%3D"

    var container = document.getElementById("__analytics")
    container.insertAdjacentElement("afterEnd", script)

  }
</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head><body dir=ltr data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo><input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off><input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off><label class=md-overlay for=__drawer></label><div data-md-component=skip><a href=#migration_guide class=md-skip> Skip to content </a></div><div data-md-component=announce></div><div data-md-color-scheme=default data-md-component=outdated hidden></div><header class="md-header md-header--shadow md-header--lifted" data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a href=../.. title="OpenSSL Documentation" class="md-header__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a><label class="md-header__button md-icon" for=__drawer><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> OpenSSL Documentation </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> migration_guide </span></div></div></div><form class=md-header__option data-md-component=palette><input class=md-option data-md-color-media data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label><input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label></form><script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required><label class="md-search__icon md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav class=md-search__options aria-label=Search><button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap tabindex=0 data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta> Initializing search </div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div></nav><nav class=md-tabs aria-label=Tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a href=../.. class=md-tabs__link> Home </a></li><li class=md-tabs__item><a href=../../fips/ class=md-tabs__link> FIPS-140 </a></li><li class=md-tabs__item><a href=../../man1/ class=md-tabs__link> Commands </a></li><li class=md-tabs__item><a href=../../man3/ class=md-tabs__link> Libraries </a></li><li class=md-tabs__item><a href=../../man5/ class=md-tabs__link> File Formats </a></li><li class="md-tabs__item md-tabs__item--active"><a href=../ class=md-tabs__link> Overviews </a></li></ul></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a href=../.. title="OpenSSL Documentation" class="md-nav__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a> OpenSSL Documentation </label><div class=md-nav__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../.. class=md-nav__link title=Home><span class=md-ellipsis-custom> Home </span></a></li><li class=md-nav__item><a href=../../fips/ class=md-nav__link title=FIPS-140><span class=md-ellipsis-custom> FIPS-140 </span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man1/ class=md-nav__link><span class=md-ellipsis-custom> Commands </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man3/ class=md-nav__link><span class=md-ellipsis-custom> Libraries </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man5/ class=md-nav__link><span class=md-ellipsis-custom> File Formats </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked><div class="md-nav__link md-nav__container"><a href=../ class="md-nav__link "><span class=md-ellipsis-custom> Overviews </span></a><label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex><span class="md-nav__icon md-icon"></span></label></div><nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true><label class=md-nav__title for=__nav_6><span class="md-nav__icon md-icon"></span> Overviews </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../EVP_ASYM_CIPHER-RSA/ class=md-nav__link title=EVP_ASYM_CIPHER-RSA><span class=md-ellipsis-custom> EVP_ASYM_CIPHER-RSA </span></a></li><li class=md-nav__item><a href=../EVP_ASYM_CIPHER-SM2/ class=md-nav__link title=EVP_ASYM_CIPHER-SM2><span class=md-ellipsis-custom> EVP_ASYM_CIPHER-SM2 </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-AES/ class=md-nav__link title=EVP_CIPHER-AES><span class=md-ellipsis-custom> EVP_CIPHER-AES </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-ARIA/ class=md-nav__link title=EVP_CIPHER-ARIA><span class=md-ellipsis-custom> EVP_CIPHER-ARIA </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-BLOWFISH/ class=md-nav__link title=EVP_CIPHER-BLOWFISH><span class=md-ellipsis-custom> EVP_CIPHER-BLOWFISH </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-CAMELLIA/ class=md-nav__link title=EVP_CIPHER-CAMELLIA><span class=md-ellipsis-custom> EVP_CIPHER-CAMELLIA </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-CAST/ class=md-nav__link title=EVP_CIPHER-CAST><span class=md-ellipsis-custom> EVP_CIPHER-CAST </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-CHACHA/ class=md-nav__link title=EVP_CIPHER-CHACHA><span class=md-ellipsis-custom> EVP_CIPHER-CHACHA </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-DES/ class=md-nav__link title=EVP_CIPHER-DES><span class=md-ellipsis-custom> EVP_CIPHER-DES </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-IDEA/ class=md-nav__link title=EVP_CIPHER-IDEA><span class=md-ellipsis-custom> EVP_CIPHER-IDEA </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-NULL/ class=md-nav__link title=EVP_CIPHER-NULL><span class=md-ellipsis-custom> EVP_CIPHER-NULL </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-RC2/ class=md-nav__link title=EVP_CIPHER-RC2><span class=md-ellipsis-custom> EVP_CIPHER-RC2 </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-RC4/ class=md-nav__link title=EVP_CIPHER-RC4><span class=md-ellipsis-custom> EVP_CIPHER-RC4 </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-RC5/ class=md-nav__link title=EVP_CIPHER-RC5><span class=md-ellipsis-custom> EVP_CIPHER-RC5 </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-SEED/ class=md-nav__link title=EVP_CIPHER-SEED><span class=md-ellipsis-custom> EVP_CIPHER-SEED </span></a></li><li class=md-nav__item><a href=../EVP_CIPHER-SM4/ class=md-nav__link title=EVP_CIPHER-SM4><span class=md-ellipsis-custom> EVP_CIPHER-SM4 </span></a></li><li class=md-nav__item><a href=../EVP_KDF-HKDF/ class=md-nav__link title=EVP_KDF-HKDF><span class=md-ellipsis-custom> EVP_KDF-HKDF </span></a></li><li class=md-nav__item><a href=../EVP_KDF-KB/ class=md-nav__link title=EVP_KDF-KB><span class=md-ellipsis-custom> EVP_KDF-KB </span></a></li><li class=md-nav__item><a href=../EVP_KDF-KRB5KDF/ class=md-nav__link title=EVP_KDF-KRB5KDF><span class=md-ellipsis-custom> EVP_KDF-KRB5KDF </span></a></li><li class=md-nav__item><a href=../EVP_KDF-PBKDF1/ class=md-nav__link title=EVP_KDF-PBKDF1><span class=md-ellipsis-custom> EVP_KDF-PBKDF1 </span></a></li><li class=md-nav__item><a href=../EVP_KDF-PBKDF2/ class=md-nav__link title=EVP_KDF-PBKDF2><span class=md-ellipsis-custom> EVP_KDF-PBKDF2 </span></a></li><li class=md-nav__item><a href=../EVP_KDF-PKCS12KDF/ class=md-nav__link title=EVP_KDF-PKCS12KDF><span class=md-ellipsis-custom> EVP_KDF-PKCS12KDF </span></a></li><li class=md-nav__item><a href=../EVP_KDF-SCRYPT/ class=md-nav__link title=EVP_KDF-SCRYPT><span class=md-ellipsis-custom> EVP_KDF-SCRYPT </span></a></li><li class=md-nav__item><a href=../EVP_KDF-SS/ class=md-nav__link title=EVP_KDF-SS><span class=md-ellipsis-custom> EVP_KDF-SS </span></a></li><li class=md-nav__item><a href=../EVP_KDF-SSHKDF/ class=md-nav__link title=EVP_KDF-SSHKDF><span class=md-ellipsis-custom> EVP_KDF-SSHKDF </span></a></li><li class=md-nav__item><a href=../EVP_KDF-TLS13_KDF/ class=md-nav__link title=EVP_KDF-TLS13_KDF><span class=md-ellipsis-custom> EVP_KDF-TLS13_KDF </span></a></li><li class=md-nav__item><a href=../EVP_KDF-TLS1_PRF/ class=md-nav__link title=EVP_KDF-TLS1_PRF><span class=md-ellipsis-custom> EVP_KDF-TLS1_PRF </span></a></li><li class=md-nav__item><a href=../EVP_KDF-X942-ASN1/ class=md-nav__link title=EVP_KDF-X942-ASN1><span class=md-ellipsis-custom> EVP_KDF-X942-ASN1 </span></a></li><li class=md-nav__item><a href=../EVP_KDF-X942-CONCAT/ class=md-nav__link title=EVP_KDF-X942-CONCAT><span class=md-ellipsis-custom> EVP_KDF-X942-CONCAT </span></a></li><li class=md-nav__item><a href=../EVP_KDF-X963/ class=md-nav__link title=EVP_KDF-X963><span class=md-ellipsis-custom> EVP_KDF-X963 </span></a></li><li class=md-nav__item><a href=../EVP_KEM-RSA/ class=md-nav__link title=EVP_KEM-RSA><span class=md-ellipsis-custom> EVP_KEM-RSA </span></a></li><li class=md-nav__item><a href=../EVP_KEYEXCH-DH/ class=md-nav__link title=EVP_KEYEXCH-DH><span class=md-ellipsis-custom> EVP_KEYEXCH-DH </span></a></li><li class=md-nav__item><a href=../EVP_KEYEXCH-ECDH/ class=md-nav__link title=EVP_KEYEXCH-ECDH><span class=md-ellipsis-custom> EVP_KEYEXCH-ECDH </span></a></li><li class=md-nav__item><a href=../EVP_KEYEXCH-X25519/ class=md-nav__link title=EVP_KEYEXCH-X25519><span class=md-ellipsis-custom> EVP_KEYEXCH-X25519 </span></a></li><li class=md-nav__item><a href=../EVP_KEYEXCH-X25519 class=md-nav__link title=EVP_KEYEXCH-X448><span class=md-ellipsis-custom> EVP_KEYEXCH-X448 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_KEYMGMT-CMAC><span class=md-ellipsis-custom> EVP_KEYMGMT-CMAC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-DH class=md-nav__link title=EVP_KEYMGMT-DH><span class=md-ellipsis-custom> EVP_KEYMGMT-DH </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-DH class=md-nav__link title=EVP_KEYMGMT-DHX><span class=md-ellipsis-custom> EVP_KEYMGMT-DHX </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-DSA class=md-nav__link title=EVP_KEYMGMT-DSA><span class=md-ellipsis-custom> EVP_KEYMGMT-DSA </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-EC class=md-nav__link title=EVP_KEYMGMT-EC><span class=md-ellipsis-custom> EVP_KEYMGMT-EC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_KEYMGMT-ED25519><span class=md-ellipsis-custom> EVP_KEYMGMT-ED25519 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_KEYMGMT-ED448><span class=md-ellipsis-custom> EVP_KEYMGMT-ED448 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_KEYMGMT-HMAC><span class=md-ellipsis-custom> EVP_KEYMGMT-HMAC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_KEYMGMT-Poly1305><span class=md-ellipsis-custom> EVP_KEYMGMT-Poly1305 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-RSA class=md-nav__link title=EVP_KEYMGMT-RSA><span class=md-ellipsis-custom> EVP_KEYMGMT-RSA </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-SM2 class=md-nav__link title=EVP_KEYMGMT-SM2><span class=md-ellipsis-custom> EVP_KEYMGMT-SM2 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_KEYMGMT-Siphash><span class=md-ellipsis-custom> EVP_KEYMGMT-Siphash </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_KEYMGMT-X25519><span class=md-ellipsis-custom> EVP_KEYMGMT-X25519 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_KEYMGMT-X448><span class=md-ellipsis-custom> EVP_KEYMGMT-X448 </span></a></li><li class=md-nav__item><a href=../EVP_MAC-BLAKE2/ class=md-nav__link title=EVP_MAC-BLAKE2><span class=md-ellipsis-custom> EVP_MAC-BLAKE2 </span></a></li><li class=md-nav__item><a href=../EVP_MAC-BLAKE2 class=md-nav__link title=EVP_MAC-BLAKE2BMAC><span class=md-ellipsis-custom> EVP_MAC-BLAKE2BMAC </span></a></li><li class=md-nav__item><a href=../EVP_MAC-BLAKE2 class=md-nav__link title=EVP_MAC-BLAKE2SMAC><span class=md-ellipsis-custom> EVP_MAC-BLAKE2SMAC </span></a></li><li class=md-nav__item><a href=../EVP_MAC-CMAC/ class=md-nav__link title=EVP_MAC-CMAC><span class=md-ellipsis-custom> EVP_MAC-CMAC </span></a></li><li class=md-nav__item><a href=../EVP_MAC-GMAC/ class=md-nav__link title=EVP_MAC-GMAC><span class=md-ellipsis-custom> EVP_MAC-GMAC </span></a></li><li class=md-nav__item><a href=../EVP_MAC-HMAC/ class=md-nav__link title=EVP_MAC-HMAC><span class=md-ellipsis-custom> EVP_MAC-HMAC </span></a></li><li class=md-nav__item><a href=../EVP_MAC-KMAC/ class=md-nav__link title=EVP_MAC-KMAC><span class=md-ellipsis-custom> EVP_MAC-KMAC </span></a></li><li class=md-nav__item><a href=../EVP_MAC-KMAC class=md-nav__link title=EVP_MAC-KMAC128><span class=md-ellipsis-custom> EVP_MAC-KMAC128 </span></a></li><li class=md-nav__item><a href=../EVP_MAC-KMAC class=md-nav__link title=EVP_MAC-KMAC256><span class=md-ellipsis-custom> EVP_MAC-KMAC256 </span></a></li><li class=md-nav__item><a href=../EVP_MAC-Poly1305/ class=md-nav__link title=EVP_MAC-Poly1305><span class=md-ellipsis-custom> EVP_MAC-Poly1305 </span></a></li><li class=md-nav__item><a href=../EVP_MAC-Siphash/ class=md-nav__link title=EVP_MAC-Siphash><span class=md-ellipsis-custom> EVP_MAC-Siphash </span></a></li><li class=md-nav__item><a href=../EVP_MD-BLAKE2/ class=md-nav__link title=EVP_MD-BLAKE2><span class=md-ellipsis-custom> EVP_MD-BLAKE2 </span></a></li><li class=md-nav__item><a href=../EVP_MD-SHAKE class=md-nav__link title=EVP_MD-KECCAK-KMAC><span class=md-ellipsis-custom> EVP_MD-KECCAK-KMAC </span></a></li><li class=md-nav__item><a href=../EVP_MD-MD2/ class=md-nav__link title=EVP_MD-MD2><span class=md-ellipsis-custom> EVP_MD-MD2 </span></a></li><li class=md-nav__item><a href=../EVP_MD-MD4/ class=md-nav__link title=EVP_MD-MD4><span class=md-ellipsis-custom> EVP_MD-MD4 </span></a></li><li class=md-nav__item><a href=../EVP_MD-MD5/ class=md-nav__link title=EVP_MD-MD5><span class=md-ellipsis-custom> EVP_MD-MD5 </span></a></li><li class=md-nav__item><a href=../EVP_MD-MD5-SHA1/ class=md-nav__link title=EVP_MD-MD5-SHA1><span class=md-ellipsis-custom> EVP_MD-MD5-SHA1 </span></a></li><li class=md-nav__item><a href=../EVP_MD-MDC2/ class=md-nav__link title=EVP_MD-MDC2><span class=md-ellipsis-custom> EVP_MD-MDC2 </span></a></li><li class=md-nav__item><a href=../EVP_MD-NULL/ class=md-nav__link title=EVP_MD-NULL><span class=md-ellipsis-custom> EVP_MD-NULL </span></a></li><li class=md-nav__item><a href=../EVP_MD-RIPEMD160/ class=md-nav__link title=EVP_MD-RIPEMD160><span class=md-ellipsis-custom> EVP_MD-RIPEMD160 </span></a></li><li class=md-nav__item><a href=../EVP_MD-SHA1/ class=md-nav__link title=EVP_MD-SHA1><span class=md-ellipsis-custom> EVP_MD-SHA1 </span></a></li><li class=md-nav__item><a href=../EVP_MD-SHA2/ class=md-nav__link title=EVP_MD-SHA2><span class=md-ellipsis-custom> EVP_MD-SHA2 </span></a></li><li class=md-nav__item><a href=../EVP_MD-SHA3/ class=md-nav__link title=EVP_MD-SHA3><span class=md-ellipsis-custom> EVP_MD-SHA3 </span></a></li><li class=md-nav__item><a href=../EVP_MD-SHAKE/ class=md-nav__link title=EVP_MD-SHAKE><span class=md-ellipsis-custom> EVP_MD-SHAKE </span></a></li><li class=md-nav__item><a href=../EVP_MD-SM3/ class=md-nav__link title=EVP_MD-SM3><span class=md-ellipsis-custom> EVP_MD-SM3 </span></a></li><li class=md-nav__item><a href=../EVP_MD-WHIRLPOOL/ class=md-nav__link title=EVP_MD-WHIRLPOOL><span class=md-ellipsis-custom> EVP_MD-WHIRLPOOL </span></a></li><li class=md-nav__item><a href=../EVP_MD-common/ class=md-nav__link title=EVP_MD-common><span class=md-ellipsis-custom> EVP_MD-common </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_PKEY-CMAC><span class=md-ellipsis-custom> EVP_PKEY-CMAC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-DH/ class=md-nav__link title=EVP_PKEY-DH><span class=md-ellipsis-custom> EVP_PKEY-DH </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-DH class=md-nav__link title=EVP_PKEY-DHX><span class=md-ellipsis-custom> EVP_PKEY-DHX </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-DSA/ class=md-nav__link title=EVP_PKEY-DSA><span class=md-ellipsis-custom> EVP_PKEY-DSA </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-EC/ class=md-nav__link title=EVP_PKEY-EC><span class=md-ellipsis-custom> EVP_PKEY-EC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_PKEY-ED25519><span class=md-ellipsis-custom> EVP_PKEY-ED25519 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_PKEY-ED448><span class=md-ellipsis-custom> EVP_PKEY-ED448 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-FFC/ class=md-nav__link title=EVP_PKEY-FFC><span class=md-ellipsis-custom> EVP_PKEY-FFC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC/ class=md-nav__link title=EVP_PKEY-HMAC><span class=md-ellipsis-custom> EVP_PKEY-HMAC </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_PKEY-Poly1305><span class=md-ellipsis-custom> EVP_PKEY-Poly1305 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-RSA/ class=md-nav__link title=EVP_PKEY-RSA><span class=md-ellipsis-custom> EVP_PKEY-RSA </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-SM2/ class=md-nav__link title=EVP_PKEY-SM2><span class=md-ellipsis-custom> EVP_PKEY-SM2 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-HMAC class=md-nav__link title=EVP_PKEY-Siphash><span class=md-ellipsis-custom> EVP_PKEY-Siphash </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519/ class=md-nav__link title=EVP_PKEY-X25519><span class=md-ellipsis-custom> EVP_PKEY-X25519 </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-X25519 class=md-nav__link title=EVP_PKEY-X448><span class=md-ellipsis-custom> EVP_PKEY-X448 </span></a></li><li class=md-nav__item><a href=../EVP_RAND/ class=md-nav__link title=EVP_RAND><span class=md-ellipsis-custom> EVP_RAND </span></a></li><li class=md-nav__item><a href=../EVP_RAND-CTR-DRBG/ class=md-nav__link title=EVP_RAND-CTR-DRBG><span class=md-ellipsis-custom> EVP_RAND-CTR-DRBG </span></a></li><li class=md-nav__item><a href=../EVP_RAND-HASH-DRBG/ class=md-nav__link title=EVP_RAND-HASH-DRBG><span class=md-ellipsis-custom> EVP_RAND-HASH-DRBG </span></a></li><li class=md-nav__item><a href=../EVP_RAND-HMAC-DRBG/ class=md-nav__link title=EVP_RAND-HMAC-DRBG><span class=md-ellipsis-custom> EVP_RAND-HMAC-DRBG </span></a></li><li class=md-nav__item><a href=../EVP_RAND-SEED-SRC/ class=md-nav__link title=EVP_RAND-SEED-SRC><span class=md-ellipsis-custom> EVP_RAND-SEED-SRC </span></a></li><li class=md-nav__item><a href=../EVP_RAND-TEST-RAND/ class=md-nav__link title=EVP_RAND-TEST-RAND><span class=md-ellipsis-custom> EVP_RAND-TEST-RAND </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-HMAC class=md-nav__link title=EVP_SIGNATURE-CMAC><span class=md-ellipsis-custom> EVP_SIGNATURE-CMAC </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-DSA/ class=md-nav__link title=EVP_SIGNATURE-DSA><span class=md-ellipsis-custom> EVP_SIGNATURE-DSA </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-ECDSA/ class=md-nav__link title=EVP_SIGNATURE-ECDSA><span class=md-ellipsis-custom> EVP_SIGNATURE-ECDSA </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-ED25519/ class=md-nav__link title=EVP_SIGNATURE-ED25519><span class=md-ellipsis-custom> EVP_SIGNATURE-ED25519 </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-ED25519 class=md-nav__link title=EVP_SIGNATURE-ED448><span class=md-ellipsis-custom> EVP_SIGNATURE-ED448 </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-HMAC/ class=md-nav__link title=EVP_SIGNATURE-HMAC><span class=md-ellipsis-custom> EVP_SIGNATURE-HMAC </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-HMAC class=md-nav__link title=EVP_SIGNATURE-Poly1305><span class=md-ellipsis-custom> EVP_SIGNATURE-Poly1305 </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-RSA/ class=md-nav__link title=EVP_SIGNATURE-RSA><span class=md-ellipsis-custom> EVP_SIGNATURE-RSA </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-HMAC class=md-nav__link title=EVP_SIGNATURE-Siphash><span class=md-ellipsis-custom> EVP_SIGNATURE-Siphash </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-ED25519 class=md-nav__link title=Ed25519><span class=md-ellipsis-custom> Ed25519 </span></a></li><li class=md-nav__item><a href=../EVP_SIGNATURE-ED25519 class=md-nav__link title=Ed448><span class=md-ellipsis-custom> Ed448 </span></a></li><li class=md-nav__item><a href=../openssl_user_macros class=md-nav__link title=OPENSSL_API_COMPAT><span class=md-ellipsis-custom> OPENSSL_API_COMPAT </span></a></li><li class=md-nav__item><a href=../openssl_user_macros class=md-nav__link title=OPENSSL_NO_DEPRECATED><span class=md-ellipsis-custom> OPENSSL_NO_DEPRECATED </span></a></li><li class=md-nav__item><a href=../OSSL_PROVIDER-FIPS/ class=md-nav__link title=OSSL_PROVIDER-FIPS><span class=md-ellipsis-custom> OSSL_PROVIDER-FIPS </span></a></li><li class=md-nav__item><a href=../OSSL_PROVIDER-base/ class=md-nav__link title=OSSL_PROVIDER-base><span class=md-ellipsis-custom> OSSL_PROVIDER-base </span></a></li><li class=md-nav__item><a href=../OSSL_PROVIDER-default/ class=md-nav__link title=OSSL_PROVIDER-default><span class=md-ellipsis-custom> OSSL_PROVIDER-default </span></a></li><li class=md-nav__item><a href=../OSSL_PROVIDER-legacy/ class=md-nav__link title=OSSL_PROVIDER-legacy><span class=md-ellipsis-custom> OSSL_PROVIDER-legacy </span></a></li><li class=md-nav__item><a href=../OSSL_PROVIDER-null/ class=md-nav__link title=OSSL_PROVIDER-null><span class=md-ellipsis-custom> OSSL_PROVIDER-null </span></a></li><li class=md-nav__item><a href=../RAND/ class=md-nav__link title=RAND><span class=md-ellipsis-custom> RAND </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-RSA class=md-nav__link title=RSA><span class=md-ellipsis-custom> RSA </span></a></li><li class=md-nav__item><a href=../RSA-PSS/ class=md-nav__link title=RSA-PSS><span class=md-ellipsis-custom> RSA-PSS </span></a></li><li class=md-nav__item><a href=../EVP_PKEY-SM2 class=md-nav__link title=SM2><span class=md-ellipsis-custom> SM2 </span></a></li><li class=md-nav__item><a href=../X25519/ class=md-nav__link title=X25519><span class=md-ellipsis-custom> X25519 </span></a></li><li class=md-nav__item><a href=../X25519 class=md-nav__link title=X448><span class=md-ellipsis-custom> X448 </span></a></li><li class=md-nav__item><a href=../bio/ class=md-nav__link title=bio><span class=md-ellipsis-custom> bio </span></a></li><li class=md-nav__item><a href=../crypto/ class=md-nav__link title=crypto><span class=md-ellipsis-custom> crypto </span></a></li><li class=md-nav__item><a href=../ct/ class=md-nav__link title=ct><span class=md-ellipsis-custom> ct </span></a></li><li class=md-nav__item><a href=../des_modes/ class=md-nav__link title=des_modes><span class=md-ellipsis-custom> des_modes </span></a></li><li class=md-nav__item><a href=../evp/ class=md-nav__link title=evp><span class=md-ellipsis-custom> evp </span></a></li><li class=md-nav__item><a href=../fips_module/ class=md-nav__link title=fips_module><span class=md-ellipsis-custom> fips_module </span></a></li><li class=md-nav__item><a href=../life_cycle-cipher/ class=md-nav__link title=life_cycle-cipher><span class=md-ellipsis-custom> life_cycle-cipher </span></a></li><li class=md-nav__item><a href=../life_cycle-digest/ class=md-nav__link title=life_cycle-digest><span class=md-ellipsis-custom> life_cycle-digest </span></a></li><li class=md-nav__item><a href=../life_cycle-kdf/ class=md-nav__link title=life_cycle-kdf><span class=md-ellipsis-custom> life_cycle-kdf </span></a></li><li class=md-nav__item><a href=../life_cycle-mac/ class=md-nav__link title=life_cycle-mac><span class=md-ellipsis-custom> life_cycle-mac </span></a></li><li class=md-nav__item><a href=../life_cycle-pkey/ class=md-nav__link title=life_cycle-pkey><span class=md-ellipsis-custom> life_cycle-pkey </span></a></li><li class=md-nav__item><a href=../life_cycle-rand/ class=md-nav__link title=life_cycle-rand><span class=md-ellipsis-custom> life_cycle-rand </span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type=checkbox id=__toc><label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis-custom> migration_guide </span><span class="md-nav__icon md-icon"></span></label><a href=./ class="md-nav__link md-nav__link--active"><span class=md-ellipsis-custom> migration_guide </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#synopsis class=md-nav__link><span class=md-ellipsis> SYNOPSIS </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#openssl-30 class=md-nav__link><span class=md-ellipsis> OPENSSL 3.0 </span></a><nav class=md-nav aria-label="OPENSSL 3.0"><ul class=md-nav__list><li class=md-nav__item><a href=#main-changes-from-openssl-111 class=md-nav__link><span class=md-ellipsis> Main Changes from OpenSSL 1.1.1 </span></a><nav class=md-nav aria-label="Main Changes from OpenSSL 1.1.1"><ul class=md-nav__list><li class=md-nav__item><a href=#major-release class=md-nav__link><span class=md-ellipsis> Major Release </span></a></li><li class=md-nav__item><a href=#license-change class=md-nav__link><span class=md-ellipsis> License Change </span></a></li><li class=md-nav__item><a href=#providers-and-fips-support class=md-nav__link><span class=md-ellipsis> Providers and FIPS support </span></a></li><li class=md-nav__item><a href=#low-level-apis class=md-nav__link><span class=md-ellipsis> Low Level APIs </span></a></li><li class=md-nav__item><a href=#legacy-algorithms class=md-nav__link><span class=md-ellipsis> Legacy Algorithms </span></a></li><li class=md-nav__item><a href=#engines-and-method-apis class=md-nav__link><span class=md-ellipsis> Engines and &quot;METHOD&quot; APIs </span></a></li><li class=md-nav__item><a href=#support-of-legacy-engines class=md-nav__link><span class=md-ellipsis> Support of legacy engines </span></a></li><li class=md-nav__item><a href=#versioning-scheme class=md-nav__link><span class=md-ellipsis> Versioning Scheme </span></a></li><li class=md-nav__item><a href=#other-major-new-features class=md-nav__link><span class=md-ellipsis> Other major new features </span></a><nav class=md-nav aria-label="Other major new features"><ul class=md-nav__list><li class=md-nav__item><a href=#certificate-management-protocol-cmp-rfc-4210 class=md-nav__link><span class=md-ellipsis> Certificate Management Protocol (CMP, RFC 4210) </span></a></li><li class=md-nav__item><a href=#https-client class=md-nav__link><span class=md-ellipsis> HTTP(S) client </span></a></li><li class=md-nav__item><a href=#key-derivation-function-api-evp_kdf class=md-nav__link><span class=md-ellipsis> Key Derivation Function API (EVP_KDF) </span></a></li><li class=md-nav__item><a href=#message-authentication-code-api-evp_mac class=md-nav__link><span class=md-ellipsis> Message Authentication Code API (EVP_MAC) </span></a></li><li class=md-nav__item><a href=#algorithm-fetching class=md-nav__link><span class=md-ellipsis> Algorithm Fetching </span></a></li><li class=md-nav__item><a href=#support-for-linux-kernel-tls class=md-nav__link><span class=md-ellipsis> Support for Linux Kernel TLS </span></a></li><li class=md-nav__item><a href=#new-algorithms class=md-nav__link><span class=md-ellipsis> New Algorithms </span></a></li><li class=md-nav__item><a href=#cms-and-pkcs7-updates class=md-nav__link><span class=md-ellipsis> CMS and PKCS#7 updates </span></a></li><li class=md-nav__item><a href=#pkcs12-api-updates class=md-nav__link><span class=md-ellipsis> PKCS#12 API updates </span></a></li><li class=md-nav__item><a href=#pkcs12-kdf-versus-fips class=md-nav__link><span class=md-ellipsis> PKCS#12 KDF versus FIPS </span></a></li><li class=md-nav__item><a href=#windows-thread-synchronization-changes class=md-nav__link><span class=md-ellipsis> Windows thread synchronization changes </span></a></li><li class=md-nav__item><a href=#trace-api class=md-nav__link><span class=md-ellipsis> Trace API </span></a></li><li class=md-nav__item><a href=#key-validation-updates class=md-nav__link><span class=md-ellipsis> Key validation updates </span></a></li></ul></nav></li><li class=md-nav__item><a href=#other-notable-deprecations-and-changes class=md-nav__link><span class=md-ellipsis> Other notable deprecations and changes </span></a><nav class=md-nav aria-label="Other notable deprecations and changes"><ul class=md-nav__list><li class=md-nav__item><a href=#the-function-code-part-of-an-openssl-error-code-is-no-longer-relevant class=md-nav__link><span class=md-ellipsis> The function code part of an OpenSSL error code is no longer relevant </span></a></li><li class=md-nav__item><a href=#stack-and-hash-macros-have-been-cleaned-up class=md-nav__link><span class=md-ellipsis> STACK and HASH macros have been cleaned up </span></a></li><li class=md-nav__item><a href=#the-rand_drbg-subsystem-has-been-removed class=md-nav__link><span class=md-ellipsis> The RAND_DRBG subsystem has been removed </span></a></li><li class=md-nav__item><a href=#removed-fips_mode-and-fips_mode_set class=md-nav__link><span class=md-ellipsis> Removed FIPS_mode() and FIPS_mode_set() </span></a></li><li class=md-nav__item><a href=#key-generation-is-slower class=md-nav__link><span class=md-ellipsis> Key generation is slower </span></a></li><li class=md-nav__item><a href=#change-pbkdf2-to-conform-to-sp800-132-instead-of-the-older-pkcs5-rfc2898 class=md-nav__link><span class=md-ellipsis> Change PBKDF2 to conform to SP800-132 instead of the older PKCS5 RFC2898 </span></a></li><li class=md-nav__item><a href=#enforce-a-minimum-dh-modulus-size-of-512-bits class=md-nav__link><span class=md-ellipsis> Enforce a minimum DH modulus size of 512 bits </span></a></li><li class=md-nav__item><a href=#sm2-key-changes class=md-nav__link><span class=md-ellipsis> SM2 key changes </span></a></li><li class=md-nav__item><a href=#evp_pkey_set_alias_type-method-has-been-removed class=md-nav__link><span class=md-ellipsis> EVP_PKEY_set_alias_type() method has been removed </span></a></li><li class=md-nav__item><a href=#functions-that-return-an-internal-key-should-be-treated-as-read-only class=md-nav__link><span class=md-ellipsis> Functions that return an internal key should be treated as read only </span></a></li><li class=md-nav__item><a href=#the-public-key-check-has-moved-from-evp_pkey_derive-to-evp_pkey_derive_set_peer class=md-nav__link><span class=md-ellipsis> The public key check has moved from EVP_PKEY_derive() to EVP_PKEY_derive_set_peer() </span></a></li><li class=md-nav__item><a href=#the-print-format-has-cosmetic-changes-for-some-functions class=md-nav__link><span class=md-ellipsis> The print format has cosmetic changes for some functions </span></a></li><li class=md-nav__item><a href=#interactive-mode-from-the-openssl-program-has-been-removed class=md-nav__link><span class=md-ellipsis> Interactive mode from the openssl program has been removed </span></a></li><li class=md-nav__item><a href=#the-error-return-values-from-some-control-calls-ctrl-have-changed class=md-nav__link><span class=md-ellipsis> The error return values from some control calls (ctrl) have changed </span></a></li><li class=md-nav__item><a href=#dh-and-dhx-key-types-have-different-settable-parameters class=md-nav__link><span class=md-ellipsis> DH and DHX key types have different settable parameters </span></a></li><li class=md-nav__item><a href=#evp_cipher_ctx_set_flags-ordering-change class=md-nav__link><span class=md-ellipsis> EVP_CIPHER_CTX_set_flags() ordering change </span></a></li><li class=md-nav__item><a href=#validation-of-operation-context-parameters class=md-nav__link><span class=md-ellipsis> Validation of operation context parameters </span></a></li><li class=md-nav__item><a href=#removal-of-function-code-from-the-error-codes class=md-nav__link><span class=md-ellipsis> Removal of function code from the error codes </span></a></li><li class=md-nav__item><a href=#chacha20-poly1305-cipher-does-not-allow-a-truncated-iv-length-to-be-used class=md-nav__link><span class=md-ellipsis> ChaCha20-Poly1305 cipher does not allow a truncated IV length to be used </span></a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=#installation-and-compilation class=md-nav__link><span class=md-ellipsis> Installation and Compilation </span></a></li><li class=md-nav__item><a href=#upgrading-from-openssl-111 class=md-nav__link><span class=md-ellipsis> Upgrading from OpenSSL 1.1.1 </span></a><nav class=md-nav aria-label="Upgrading from OpenSSL 1.1.1"><ul class=md-nav__list><li class=md-nav__item><a href=#error-code-changes class=md-nav__link><span class=md-ellipsis> Error code changes </span></a></li></ul></nav></li><li class=md-nav__item><a href=#upgrading-from-openssl-102 class=md-nav__link><span class=md-ellipsis> Upgrading from OpenSSL 1.0.2 </span></a><nav class=md-nav aria-label="Upgrading from OpenSSL 1.0.2"><ul class=md-nav__list><li class=md-nav__item><a href=#upgrading-from-the-openssl-20-fips-object-module class=md-nav__link><span class=md-ellipsis> Upgrading from the OpenSSL 2.0 FIPS Object Module </span></a></li></ul></nav></li><li class=md-nav__item><a href=#completing-the-installation-of-the-fips-module class=md-nav__link><span class=md-ellipsis> Completing the installation of the FIPS Module </span></a></li><li class=md-nav__item><a href=#programming class=md-nav__link><span class=md-ellipsis> Programming </span></a><nav class=md-nav aria-label=Programming><ul class=md-nav__list><li class=md-nav__item><a href=#library-context class=md-nav__link><span class=md-ellipsis> Library Context </span></a><nav class=md-nav aria-label="Library Context"><ul class=md-nav__list><li class=md-nav__item><a href=#using-a-library-context-old-functions-that-should-be-changed class=md-nav__link><span class=md-ellipsis> Using a Library Context - Old functions that should be changed </span></a></li><li class=md-nav__item><a href=#new-functions-that-use-a-library-context class=md-nav__link><span class=md-ellipsis> New functions that use a Library context </span></a></li></ul></nav></li><li class=md-nav__item><a href=#providers class=md-nav__link><span class=md-ellipsis> Providers </span></a></li><li class=md-nav__item><a href=#fetching-algorithms-and-property-queries class=md-nav__link><span class=md-ellipsis> Fetching algorithms and property queries </span></a></li><li class=md-nav__item><a href=#mapping-evp-controls-and-flags-to-provider-ossl_param3-parameters class=md-nav__link><span class=md-ellipsis> Mapping EVP controls and flags to provider OSSL_PARAM(3) parameters </span></a></li><li class=md-nav__item><a href=#deprecation-of-low-level-functions class=md-nav__link><span class=md-ellipsis> Deprecation of Low Level Functions </span></a><nav class=md-nav aria-label="Deprecation of Low Level Functions"><ul class=md-nav__list><li class=md-nav__item><a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides class=md-nav__link><span class=md-ellipsis> Providers are a replacement for engines and low-level method overrides </span></a></li><li class=md-nav__item><a href=#deprecated-i2d-and-d2i-functions-for-low-level-key-types class=md-nav__link><span class=md-ellipsis> Deprecated i2d and d2i functions for low-level key types </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-object-getters-and-setters class=md-nav__link><span class=md-ellipsis> Deprecated low-level key object getters and setters </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-parameter-getters class=md-nav__link><span class=md-ellipsis> Deprecated low-level key parameter getters </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-parameter-setters class=md-nav__link><span class=md-ellipsis> Deprecated low-level key parameter setters </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-object-creation class=md-nav__link><span class=md-ellipsis> Deprecated low-level object creation </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-encryption-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level encryption functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-digest-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level digest functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-signing-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level signing functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-mac-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level MAC functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-validation-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level validation functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-exchange-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key exchange functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-generation-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key generation functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-reading-and-writing-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key reading and writing functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-printing-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key printing functions </span></a></li></ul></nav></li><li class=md-nav__item><a href=#deprecated-function-mappings class=md-nav__link><span class=md-ellipsis> Deprecated function mappings </span></a></li><li class=md-nav__item><a href=#nid-handling-for-provided-keys-and-algorithms class=md-nav__link><span class=md-ellipsis> NID handling for provided keys and algorithms </span></a></li></ul></nav></li><li class=md-nav__item><a href=#using-the-fips-module-in-applications class=md-nav__link><span class=md-ellipsis> Using the FIPS Module in applications </span></a></li><li class=md-nav__item><a href=#openssl-command-line-application-changes class=md-nav__link><span class=md-ellipsis> OpenSSL command line application changes </span></a><nav class=md-nav aria-label="OpenSSL command line application changes"><ul class=md-nav__list><li class=md-nav__item><a href=#new-applications class=md-nav__link><span class=md-ellipsis> New applications </span></a></li><li class=md-nav__item><a href=#added-options class=md-nav__link><span class=md-ellipsis> Added options </span></a></li><li class=md-nav__item><a href=#removed-options class=md-nav__link><span class=md-ellipsis> Removed options </span></a></li><li class=md-nav__item><a href=#other-changes class=md-nav__link><span class=md-ellipsis> Other Changes </span></a></li><li class=md-nav__item><a href=#default-settings class=md-nav__link><span class=md-ellipsis> Default settings </span></a></li><li class=md-nav__item><a href=#deprecated-apps class=md-nav__link><span class=md-ellipsis> Deprecated apps </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tls-changes class=md-nav__link><span class=md-ellipsis> TLS Changes </span></a></li></ul></nav></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li><li class=md-nav__item><a href=#history class=md-nav__link><span class=md-ellipsis> HISTORY </span></a></li><li class=md-nav__item><a href=#copyright class=md-nav__link><span class=md-ellipsis> COPYRIGHT </span></a></li></ul></nav></li><li class=md-nav__item><a href=../openssl-core.h/ class=md-nav__link title=openssl-core.h><span class=md-ellipsis-custom> openssl-core.h </span></a></li><li class=md-nav__item><a href=../openssl-core_dispatch.h/ class=md-nav__link title=openssl-core_dispatch.h><span class=md-ellipsis-custom> openssl-core_dispatch.h </span></a></li><li class=md-nav__item><a href=../openssl-core_names.h/ class=md-nav__link title=openssl-core_names.h><span class=md-ellipsis-custom> openssl-core_names.h </span></a></li><li class=md-nav__item><a href=../openssl-env/ class=md-nav__link title=openssl-env><span class=md-ellipsis-custom> openssl-env </span></a></li><li class=md-nav__item><a href=../openssl-glossary/ class=md-nav__link title=openssl-glossary><span class=md-ellipsis-custom> openssl-glossary </span></a></li><li class=md-nav__item><a href=../openssl-threads/ class=md-nav__link title=openssl-threads><span class=md-ellipsis-custom> openssl-threads </span></a></li><li class=md-nav__item><a href=../openssl_user_macros/ class=md-nav__link title=openssl_user_macros><span class=md-ellipsis-custom> openssl_user_macros </span></a></li><li class=md-nav__item><a href=../ossl_store/ class=md-nav__link title=ossl_store><span class=md-ellipsis-custom> ossl_store </span></a></li><li class=md-nav__item><a href=../ossl_store-file/ class=md-nav__link title=ossl_store-file><span class=md-ellipsis-custom> ossl_store-file </span></a></li><li class=md-nav__item><a href=../passphrase-encoding/ class=md-nav__link title=passphrase-encoding><span class=md-ellipsis-custom> passphrase-encoding </span></a></li><li class=md-nav__item><a href=../property/ class=md-nav__link title=property><span class=md-ellipsis-custom> property </span></a></li><li class=md-nav__item><a href=../provider/ class=md-nav__link title=provider><span class=md-ellipsis-custom> provider </span></a></li><li class=md-nav__item><a href=../provider-asym_cipher/ class=md-nav__link title=provider-asym_cipher><span class=md-ellipsis-custom> provider-asym_cipher </span></a></li><li class=md-nav__item><a href=../provider-base/ class=md-nav__link title=provider-base><span class=md-ellipsis-custom> provider-base </span></a></li><li class=md-nav__item><a href=../provider-cipher/ class=md-nav__link title=provider-cipher><span class=md-ellipsis-custom> provider-cipher </span></a></li><li class=md-nav__item><a href=../provider-decoder/ class=md-nav__link title=provider-decoder><span class=md-ellipsis-custom> provider-decoder </span></a></li><li class=md-nav__item><a href=../provider-digest/ class=md-nav__link title=provider-digest><span class=md-ellipsis-custom> provider-digest </span></a></li><li class=md-nav__item><a href=../provider-encoder/ class=md-nav__link title=provider-encoder><span class=md-ellipsis-custom> provider-encoder </span></a></li><li class=md-nav__item><a href=../provider-kdf/ class=md-nav__link title=provider-kdf><span class=md-ellipsis-custom> provider-kdf </span></a></li><li class=md-nav__item><a href=../provider-kem/ class=md-nav__link title=provider-kem><span class=md-ellipsis-custom> provider-kem </span></a></li><li class=md-nav__item><a href=../provider-keyexch/ class=md-nav__link title=provider-keyexch><span class=md-ellipsis-custom> provider-keyexch </span></a></li><li class=md-nav__item><a href=../provider-keymgmt/ class=md-nav__link title=provider-keymgmt><span class=md-ellipsis-custom> provider-keymgmt </span></a></li><li class=md-nav__item><a href=../provider-mac/ class=md-nav__link title=provider-mac><span class=md-ellipsis-custom> provider-mac </span></a></li><li class=md-nav__item><a href=../provider-object/ class=md-nav__link title=provider-object><span class=md-ellipsis-custom> provider-object </span></a></li><li class=md-nav__item><a href=../provider-rand/ class=md-nav__link title=provider-rand><span class=md-ellipsis-custom> provider-rand </span></a></li><li class=md-nav__item><a href=../provider-signature/ class=md-nav__link title=provider-signature><span class=md-ellipsis-custom> provider-signature </span></a></li><li class=md-nav__item><a href=../provider-storemgmt/ class=md-nav__link title=provider-storemgmt><span class=md-ellipsis-custom> provider-storemgmt </span></a></li><li class=md-nav__item><a href=../proxy-certificates/ class=md-nav__link title=proxy-certificates><span class=md-ellipsis-custom> proxy-certificates </span></a></li><li class=md-nav__item><a href=../ssl/ class=md-nav__link title=ssl><span class=md-ellipsis-custom> ssl </span></a></li><li class=md-nav__item><a href=../x509/ class=md-nav__link title=x509><span class=md-ellipsis-custom> x509 </span></a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#synopsis class=md-nav__link><span class=md-ellipsis> SYNOPSIS </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#openssl-30 class=md-nav__link><span class=md-ellipsis> OPENSSL 3.0 </span></a><nav class=md-nav aria-label="OPENSSL 3.0"><ul class=md-nav__list><li class=md-nav__item><a href=#main-changes-from-openssl-111 class=md-nav__link><span class=md-ellipsis> Main Changes from OpenSSL 1.1.1 </span></a><nav class=md-nav aria-label="Main Changes from OpenSSL 1.1.1"><ul class=md-nav__list><li class=md-nav__item><a href=#major-release class=md-nav__link><span class=md-ellipsis> Major Release </span></a></li><li class=md-nav__item><a href=#license-change class=md-nav__link><span class=md-ellipsis> License Change </span></a></li><li class=md-nav__item><a href=#providers-and-fips-support class=md-nav__link><span class=md-ellipsis> Providers and FIPS support </span></a></li><li class=md-nav__item><a href=#low-level-apis class=md-nav__link><span class=md-ellipsis> Low Level APIs </span></a></li><li class=md-nav__item><a href=#legacy-algorithms class=md-nav__link><span class=md-ellipsis> Legacy Algorithms </span></a></li><li class=md-nav__item><a href=#engines-and-method-apis class=md-nav__link><span class=md-ellipsis> Engines and &quot;METHOD&quot; APIs </span></a></li><li class=md-nav__item><a href=#support-of-legacy-engines class=md-nav__link><span class=md-ellipsis> Support of legacy engines </span></a></li><li class=md-nav__item><a href=#versioning-scheme class=md-nav__link><span class=md-ellipsis> Versioning Scheme </span></a></li><li class=md-nav__item><a href=#other-major-new-features class=md-nav__link><span class=md-ellipsis> Other major new features </span></a><nav class=md-nav aria-label="Other major new features"><ul class=md-nav__list><li class=md-nav__item><a href=#certificate-management-protocol-cmp-rfc-4210 class=md-nav__link><span class=md-ellipsis> Certificate Management Protocol (CMP, RFC 4210) </span></a></li><li class=md-nav__item><a href=#https-client class=md-nav__link><span class=md-ellipsis> HTTP(S) client </span></a></li><li class=md-nav__item><a href=#key-derivation-function-api-evp_kdf class=md-nav__link><span class=md-ellipsis> Key Derivation Function API (EVP_KDF) </span></a></li><li class=md-nav__item><a href=#message-authentication-code-api-evp_mac class=md-nav__link><span class=md-ellipsis> Message Authentication Code API (EVP_MAC) </span></a></li><li class=md-nav__item><a href=#algorithm-fetching class=md-nav__link><span class=md-ellipsis> Algorithm Fetching </span></a></li><li class=md-nav__item><a href=#support-for-linux-kernel-tls class=md-nav__link><span class=md-ellipsis> Support for Linux Kernel TLS </span></a></li><li class=md-nav__item><a href=#new-algorithms class=md-nav__link><span class=md-ellipsis> New Algorithms </span></a></li><li class=md-nav__item><a href=#cms-and-pkcs7-updates class=md-nav__link><span class=md-ellipsis> CMS and PKCS#7 updates </span></a></li><li class=md-nav__item><a href=#pkcs12-api-updates class=md-nav__link><span class=md-ellipsis> PKCS#12 API updates </span></a></li><li class=md-nav__item><a href=#pkcs12-kdf-versus-fips class=md-nav__link><span class=md-ellipsis> PKCS#12 KDF versus FIPS </span></a></li><li class=md-nav__item><a href=#windows-thread-synchronization-changes class=md-nav__link><span class=md-ellipsis> Windows thread synchronization changes </span></a></li><li class=md-nav__item><a href=#trace-api class=md-nav__link><span class=md-ellipsis> Trace API </span></a></li><li class=md-nav__item><a href=#key-validation-updates class=md-nav__link><span class=md-ellipsis> Key validation updates </span></a></li></ul></nav></li><li class=md-nav__item><a href=#other-notable-deprecations-and-changes class=md-nav__link><span class=md-ellipsis> Other notable deprecations and changes </span></a><nav class=md-nav aria-label="Other notable deprecations and changes"><ul class=md-nav__list><li class=md-nav__item><a href=#the-function-code-part-of-an-openssl-error-code-is-no-longer-relevant class=md-nav__link><span class=md-ellipsis> The function code part of an OpenSSL error code is no longer relevant </span></a></li><li class=md-nav__item><a href=#stack-and-hash-macros-have-been-cleaned-up class=md-nav__link><span class=md-ellipsis> STACK and HASH macros have been cleaned up </span></a></li><li class=md-nav__item><a href=#the-rand_drbg-subsystem-has-been-removed class=md-nav__link><span class=md-ellipsis> The RAND_DRBG subsystem has been removed </span></a></li><li class=md-nav__item><a href=#removed-fips_mode-and-fips_mode_set class=md-nav__link><span class=md-ellipsis> Removed FIPS_mode() and FIPS_mode_set() </span></a></li><li class=md-nav__item><a href=#key-generation-is-slower class=md-nav__link><span class=md-ellipsis> Key generation is slower </span></a></li><li class=md-nav__item><a href=#change-pbkdf2-to-conform-to-sp800-132-instead-of-the-older-pkcs5-rfc2898 class=md-nav__link><span class=md-ellipsis> Change PBKDF2 to conform to SP800-132 instead of the older PKCS5 RFC2898 </span></a></li><li class=md-nav__item><a href=#enforce-a-minimum-dh-modulus-size-of-512-bits class=md-nav__link><span class=md-ellipsis> Enforce a minimum DH modulus size of 512 bits </span></a></li><li class=md-nav__item><a href=#sm2-key-changes class=md-nav__link><span class=md-ellipsis> SM2 key changes </span></a></li><li class=md-nav__item><a href=#evp_pkey_set_alias_type-method-has-been-removed class=md-nav__link><span class=md-ellipsis> EVP_PKEY_set_alias_type() method has been removed </span></a></li><li class=md-nav__item><a href=#functions-that-return-an-internal-key-should-be-treated-as-read-only class=md-nav__link><span class=md-ellipsis> Functions that return an internal key should be treated as read only </span></a></li><li class=md-nav__item><a href=#the-public-key-check-has-moved-from-evp_pkey_derive-to-evp_pkey_derive_set_peer class=md-nav__link><span class=md-ellipsis> The public key check has moved from EVP_PKEY_derive() to EVP_PKEY_derive_set_peer() </span></a></li><li class=md-nav__item><a href=#the-print-format-has-cosmetic-changes-for-some-functions class=md-nav__link><span class=md-ellipsis> The print format has cosmetic changes for some functions </span></a></li><li class=md-nav__item><a href=#interactive-mode-from-the-openssl-program-has-been-removed class=md-nav__link><span class=md-ellipsis> Interactive mode from the openssl program has been removed </span></a></li><li class=md-nav__item><a href=#the-error-return-values-from-some-control-calls-ctrl-have-changed class=md-nav__link><span class=md-ellipsis> The error return values from some control calls (ctrl) have changed </span></a></li><li class=md-nav__item><a href=#dh-and-dhx-key-types-have-different-settable-parameters class=md-nav__link><span class=md-ellipsis> DH and DHX key types have different settable parameters </span></a></li><li class=md-nav__item><a href=#evp_cipher_ctx_set_flags-ordering-change class=md-nav__link><span class=md-ellipsis> EVP_CIPHER_CTX_set_flags() ordering change </span></a></li><li class=md-nav__item><a href=#validation-of-operation-context-parameters class=md-nav__link><span class=md-ellipsis> Validation of operation context parameters </span></a></li><li class=md-nav__item><a href=#removal-of-function-code-from-the-error-codes class=md-nav__link><span class=md-ellipsis> Removal of function code from the error codes </span></a></li><li class=md-nav__item><a href=#chacha20-poly1305-cipher-does-not-allow-a-truncated-iv-length-to-be-used class=md-nav__link><span class=md-ellipsis> ChaCha20-Poly1305 cipher does not allow a truncated IV length to be used </span></a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=#installation-and-compilation class=md-nav__link><span class=md-ellipsis> Installation and Compilation </span></a></li><li class=md-nav__item><a href=#upgrading-from-openssl-111 class=md-nav__link><span class=md-ellipsis> Upgrading from OpenSSL 1.1.1 </span></a><nav class=md-nav aria-label="Upgrading from OpenSSL 1.1.1"><ul class=md-nav__list><li class=md-nav__item><a href=#error-code-changes class=md-nav__link><span class=md-ellipsis> Error code changes </span></a></li></ul></nav></li><li class=md-nav__item><a href=#upgrading-from-openssl-102 class=md-nav__link><span class=md-ellipsis> Upgrading from OpenSSL 1.0.2 </span></a><nav class=md-nav aria-label="Upgrading from OpenSSL 1.0.2"><ul class=md-nav__list><li class=md-nav__item><a href=#upgrading-from-the-openssl-20-fips-object-module class=md-nav__link><span class=md-ellipsis> Upgrading from the OpenSSL 2.0 FIPS Object Module </span></a></li></ul></nav></li><li class=md-nav__item><a href=#completing-the-installation-of-the-fips-module class=md-nav__link><span class=md-ellipsis> Completing the installation of the FIPS Module </span></a></li><li class=md-nav__item><a href=#programming class=md-nav__link><span class=md-ellipsis> Programming </span></a><nav class=md-nav aria-label=Programming><ul class=md-nav__list><li class=md-nav__item><a href=#library-context class=md-nav__link><span class=md-ellipsis> Library Context </span></a><nav class=md-nav aria-label="Library Context"><ul class=md-nav__list><li class=md-nav__item><a href=#using-a-library-context-old-functions-that-should-be-changed class=md-nav__link><span class=md-ellipsis> Using a Library Context - Old functions that should be changed </span></a></li><li class=md-nav__item><a href=#new-functions-that-use-a-library-context class=md-nav__link><span class=md-ellipsis> New functions that use a Library context </span></a></li></ul></nav></li><li class=md-nav__item><a href=#providers class=md-nav__link><span class=md-ellipsis> Providers </span></a></li><li class=md-nav__item><a href=#fetching-algorithms-and-property-queries class=md-nav__link><span class=md-ellipsis> Fetching algorithms and property queries </span></a></li><li class=md-nav__item><a href=#mapping-evp-controls-and-flags-to-provider-ossl_param3-parameters class=md-nav__link><span class=md-ellipsis> Mapping EVP controls and flags to provider OSSL_PARAM(3) parameters </span></a></li><li class=md-nav__item><a href=#deprecation-of-low-level-functions class=md-nav__link><span class=md-ellipsis> Deprecation of Low Level Functions </span></a><nav class=md-nav aria-label="Deprecation of Low Level Functions"><ul class=md-nav__list><li class=md-nav__item><a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides class=md-nav__link><span class=md-ellipsis> Providers are a replacement for engines and low-level method overrides </span></a></li><li class=md-nav__item><a href=#deprecated-i2d-and-d2i-functions-for-low-level-key-types class=md-nav__link><span class=md-ellipsis> Deprecated i2d and d2i functions for low-level key types </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-object-getters-and-setters class=md-nav__link><span class=md-ellipsis> Deprecated low-level key object getters and setters </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-parameter-getters class=md-nav__link><span class=md-ellipsis> Deprecated low-level key parameter getters </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-parameter-setters class=md-nav__link><span class=md-ellipsis> Deprecated low-level key parameter setters </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-object-creation class=md-nav__link><span class=md-ellipsis> Deprecated low-level object creation </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-encryption-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level encryption functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-digest-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level digest functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-signing-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level signing functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-mac-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level MAC functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-validation-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level validation functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-exchange-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key exchange functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-generation-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key generation functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-reading-and-writing-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key reading and writing functions </span></a></li><li class=md-nav__item><a href=#deprecated-low-level-key-printing-functions class=md-nav__link><span class=md-ellipsis> Deprecated low-level key printing functions </span></a></li></ul></nav></li><li class=md-nav__item><a href=#deprecated-function-mappings class=md-nav__link><span class=md-ellipsis> Deprecated function mappings </span></a></li><li class=md-nav__item><a href=#nid-handling-for-provided-keys-and-algorithms class=md-nav__link><span class=md-ellipsis> NID handling for provided keys and algorithms </span></a></li></ul></nav></li><li class=md-nav__item><a href=#using-the-fips-module-in-applications class=md-nav__link><span class=md-ellipsis> Using the FIPS Module in applications </span></a></li><li class=md-nav__item><a href=#openssl-command-line-application-changes class=md-nav__link><span class=md-ellipsis> OpenSSL command line application changes </span></a><nav class=md-nav aria-label="OpenSSL command line application changes"><ul class=md-nav__list><li class=md-nav__item><a href=#new-applications class=md-nav__link><span class=md-ellipsis> New applications </span></a></li><li class=md-nav__item><a href=#added-options class=md-nav__link><span class=md-ellipsis> Added options </span></a></li><li class=md-nav__item><a href=#removed-options class=md-nav__link><span class=md-ellipsis> Removed options </span></a></li><li class=md-nav__item><a href=#other-changes class=md-nav__link><span class=md-ellipsis> Other Changes </span></a></li><li class=md-nav__item><a href=#default-settings class=md-nav__link><span class=md-ellipsis> Default settings </span></a></li><li class=md-nav__item><a href=#deprecated-apps class=md-nav__link><span class=md-ellipsis> Deprecated apps </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tls-changes class=md-nav__link><span class=md-ellipsis> TLS Changes </span></a></li></ul></nav></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li><li class=md-nav__item><a href=#history class=md-nav__link><span class=md-ellipsis> HISTORY </span></a></li><li class=md-nav__item><a href=#copyright class=md-nav__link><span class=md-ellipsis> COPYRIGHT </span></a></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=migration_guide>migration_guide<a class=headerlink href=#migration_guide title="Permanent link">&para;</a></h1><h2 id=name>NAME<a class=headerlink href=#name title="Permanent link">&para;</a></h2><p>migration_guide - OpenSSL migration guide</p><h2 id=synopsis>SYNOPSIS<a class=headerlink href=#synopsis title="Permanent link">&para;</a></h2><p>See the individual manual pages for details.</p><h2 id=description>DESCRIPTION<a class=headerlink href=#description title="Permanent link">&para;</a></h2><p>This guide details the changes required to migrate to new versions of OpenSSL. Currently this covers OpenSSL 3.0. For earlier versions refer to <a href=https://github.com/openssl/openssl/blob/master/CHANGES.md>https://github.com/openssl/openssl/blob/master/CHANGES.md</a>. For an overview of some of the key concepts introduced in OpenSSL 3.0 see <a href=../crypto/ >crypto(7)</a>.</p><h2 id=openssl-30>OPENSSL 3.0<a class=headerlink href=#openssl-30 title="Permanent link">&para;</a></h2><h3 id=main-changes-from-openssl-111>Main Changes from OpenSSL 1.1.1<a class=headerlink href=#main-changes-from-openssl-111 title="Permanent link">&para;</a></h3><h4 id=major-release>Major Release<a class=headerlink href=#major-release title="Permanent link">&para;</a></h4><p>OpenSSL 3.0 is a major release and consequently any application that currently uses an older version of OpenSSL will at the very least need to be recompiled in order to work with the new version. It is the intention that the large majority of applications will work unchanged with OpenSSL 3.0 if those applications previously worked with OpenSSL 1.1.1. However this is not guaranteed and some changes may be required in some cases. Changes may also be required if applications need to take advantage of some of the new features available in OpenSSL 3.0 such as the availability of the FIPS module.</p><h4 id=license-change>License Change<a class=headerlink href=#license-change title="Permanent link">&para;</a></h4><p>In previous versions, OpenSSL was licensed under the <a href=https://www.openssl.org/source/license-openssl-ssleay.txt>dual OpenSSL and SSLeay licenses</a> (both licenses apply). From OpenSSL 3.0 this is replaced by the <a href=https://www.openssl.org/source/apache-license-2.0.txt>Apache License v2</a>.</p><h4 id=providers-and-fips-support>Providers and FIPS support<a class=headerlink href=#providers-and-fips-support title="Permanent link">&para;</a></h4><p>One of the key changes from OpenSSL 1.1.1 is the introduction of the Provider concept. Providers collect together and make available algorithm implementations. With OpenSSL 3.0 it is possible to specify, either programmatically or via a config file, which providers you want to use for any given application. OpenSSL 3.0 comes with 5 different providers as standard. Over time third parties may distribute additional providers that can be plugged into OpenSSL. All algorithm implementations available via providers are accessed through the &quot;high level&quot; APIs (for example those functions prefixed with <code>EVP</code>). They cannot be accessed using the <a href=#low-level-apis>&quot;Low Level APIs&quot;</a>.</p><p>One of the standard providers available is the FIPS provider. This makes available FIPS validated cryptographic algorithms. The FIPS provider is disabled by default and needs to be enabled explicitly at configuration time using the <code>enable-fips</code> option. If it is enabled, the FIPS provider gets built and installed in addition to the other standard providers. No separate installation procedure is necessary. There is however a dedicated <code>install_fips</code> make target, which serves the special purpose of installing only the FIPS provider into an existing OpenSSL installation.</p><p>Not all algorithms may be available for the application at a particular moment. If the application code uses any digest or cipher algorithm via the EVP interface, the application should verify the result of the <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptInit(3)</a>, <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptInit_ex(3)</a>, and <a href=../../man3/EVP_DigestInit/ >EVP_DigestInit(3)</a> functions. In case when the requested algorithm is not available, these functions will fail.</p><p>See also <a href=#legacy-algorithms>&quot;Legacy Algorithms&quot;</a> for information on the legacy provider.</p><p>See also <a href=#completing-the-installation-of-the-fips-module>&quot;Completing the installation of the FIPS Module&quot;</a> and <a href=#using-the-fips-module-in-applications>&quot;Using the FIPS Module in applications&quot;</a>.</p><h4 id=low-level-apis>Low Level APIs<a class=headerlink href=#low-level-apis title="Permanent link">&para;</a></h4><p>OpenSSL has historically provided two sets of APIs for invoking cryptographic algorithms: the &quot;high level&quot; APIs (such as the <code>EVP</code> APIs) and the &quot;low level&quot; APIs. The high level APIs are typically designed to work across all algorithm types. The &quot;low level&quot; APIs are targeted at a specific algorithm implementation. For example, the EVP APIs provide the functions <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptInit_ex(3)</a>, <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptUpdate(3)</a> and <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptFinal(3)</a> to perform symmetric encryption. Those functions can be used with the algorithms AES, CHACHA, 3DES etc. On the other hand, to do AES encryption using the low level APIs you would have to call AES specific functions such as <a href=../../man3/AES_set_encrypt_key>AES_set_encrypt_key(3)</a>, <a href=../../man3/AES_encrypt>AES_encrypt(3)</a>, and so on. The functions for 3DES are different. Use of the low level APIs has been informally discouraged by the OpenSSL development team for a long time. However in OpenSSL 3.0 this is made more formal. All such low level APIs have been deprecated. You may still use them in your applications, but you may start to see deprecation warnings during compilation (dependent on compiler support for this). Deprecated APIs may be removed from future versions of OpenSSL so you are strongly encouraged to update your code to use the high level APIs instead.</p><p>This is described in more detail in <a href=#deprecation-of-low-level-functions>&quot;Deprecation of Low Level Functions&quot;</a></p><h4 id=legacy-algorithms>Legacy Algorithms<a class=headerlink href=#legacy-algorithms title="Permanent link">&para;</a></h4><p>Some cryptographic algorithms such as <strong>MD2</strong> and <strong>DES</strong> that were available via the EVP APIs are now considered legacy and their use is strongly discouraged. These legacy EVP algorithms are still available in OpenSSL 3.0 but not by default. If you want to use them then you must load the legacy provider. This can be as simple as a config file change, or can be done programmatically. See <a href=../OSSL_PROVIDER-legacy/ >OSSL_PROVIDER-legacy(7)</a> for a complete list of algorithms. Applications using the EVP APIs to access these algorithms should instead use more modern algorithms. If that is not possible then these applications should ensure that the legacy provider has been loaded. This can be achieved either programmatically or via configuration. See <a href=../crypto/ >crypto(7)</a> man page for more information about providers.</p><h4 id=engines-and-method-apis>Engines and &quot;METHOD&quot; APIs<a class=headerlink href=#engines-and-method-apis title="Permanent link">&para;</a></h4><p>The refactoring to support Providers conflicts internally with the APIs used to support engines, including the ENGINE API and any function that creates or modifies custom &quot;METHODS&quot; (for example <a href=../../man3/EVP_MD_meth_new/ >EVP_MD_meth_new(3)</a>, <a href=../../man3/EVP_CIPHER_meth_new/ >EVP_CIPHER_meth_new(3)</a>, <a href=../../man3/EVP_PKEY_meth_new/ >EVP_PKEY_meth_new(3)</a>, <a href=../../man3/RSA_meth_new/ >RSA_meth_new(3)</a>, <a href=../../man3/EC_KEY_METHOD_new>EC_KEY_METHOD_new(3)</a>, etc.). These functions are being deprecated in OpenSSL 3.0, and users of these APIs should know that their use can likely bypass provider selection and configuration, with unintended consequences. This is particularly relevant for applications written to use the OpenSSL 3.0 FIPS module, as detailed below. Authors and maintainers of external engines are strongly encouraged to refactor their code transforming engines into providers using the new Provider API and avoiding deprecated methods.</p><h4 id=support-of-legacy-engines>Support of legacy engines<a class=headerlink href=#support-of-legacy-engines title="Permanent link">&para;</a></h4><p>If openssl is not built without engine support or deprecated API support, engines will still work. However, their applicability will be limited.</p><p>New algorithms provided via engines will still work.</p><p>Engine-backed keys can be loaded via custom <strong>OSSL_STORE</strong> implementation. In this case the <strong>EVP_PKEY</strong> objects created via <a href=../../man3/ENGINE_add/ >ENGINE_load_private_key(3)</a> will be considered legacy and will continue to work.</p><p>To ensure the future compatibility, the engines should be turned to providers. To prefer the provider-based hardware offload, you can specify the default properties to prefer your provider.</p><p>Setting engine-based or application-based default low-level crypto method such as <strong>RSA_METHOD</strong> or <strong>EC_KEY_METHOD</strong> is still possible and keys inside the default provider will use the engine-based implementation for the crypto operations. However <strong>EVP_PKEY</strong>s created by decoding by using <strong>OSSL_DECODER</strong>, <strong>PEM_</strong> or <strong>d2i_</strong> APIs will be provider-based. To create a fully legacy <strong>EVP_PKEY</strong>s <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_set1_RSA(3)</a>, <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_set1_EC_KEY(3)</a> or similar functions must be used.</p><h4 id=versioning-scheme>Versioning Scheme<a class=headerlink href=#versioning-scheme title="Permanent link">&para;</a></h4><p>The OpenSSL versioning scheme has changed with the OpenSSL 3.0 release. The new versioning scheme has this format:</p><p>MAJOR.MINOR.PATCH</p><p>For OpenSSL 1.1.1 and below, different patch levels were indicated by a letter at the end of the release version number. This will no longer be used and instead the patch level is indicated by the final number in the version. A change in the second (MINOR) number indicates that new features may have been added. OpenSSL versions with the same major number are API and ABI compatible. If the major number changes then API and ABI compatibility is not guaranteed.</p><p>For more information, see <a href=../../man3/OpenSSL_version/ >OpenSSL_version(3)</a>.</p><h4 id=other-major-new-features>Other major new features<a class=headerlink href=#other-major-new-features title="Permanent link">&para;</a></h4><h5 id=certificate-management-protocol-cmp-rfc-4210>Certificate Management Protocol (CMP, RFC 4210)<a class=headerlink href=#certificate-management-protocol-cmp-rfc-4210 title="Permanent link">&para;</a></h5><p>This also covers CRMF (RFC 4211) and HTTP transfer (RFC 6712) See <a href=../../man1/openssl-cmp/ >openssl-cmp(1)</a> and <a href=../../man3/OSSL_CMP_exec_certreq/ >OSSL_CMP_exec_certreq(3)</a> as starting points.</p><h5 id=https-client>HTTP(S) client<a class=headerlink href=#https-client title="Permanent link">&para;</a></h5><p>A proper HTTP(S) client that supports GET and POST, redirection, plain and ASN.1-encoded contents, proxies, and timeouts.</p><h5 id=key-derivation-function-api-evp_kdf>Key Derivation Function API (EVP_KDF)<a class=headerlink href=#key-derivation-function-api-evp_kdf title="Permanent link">&para;</a></h5><p>This simplifies the process of adding new KDF and PRF implementations.</p><p>Previously KDF algorithms had been shoe-horned into using the EVP_PKEY object which was not a logical mapping. Existing applications that use KDF algorithms using EVP_PKEY (scrypt, TLS1 PRF and HKDF) may be slower as they use an EVP_KDF bridge internally. All new applications should use the new <a href=../../man3/EVP_KDF/ >EVP_KDF(3)</a> interface. See also <a href=../OSSL_PROVIDER-default/ >&quot;Key Derivation Function (KDF)&quot; in OSSL_PROVIDER-default(7)</a> and <a href=../OSSL_PROVIDER-FIPS/ >&quot;Key Derivation Function (KDF)&quot; in OSSL_PROVIDER-FIPS(7)</a>.</p><h5 id=message-authentication-code-api-evp_mac>Message Authentication Code API (EVP_MAC)<a class=headerlink href=#message-authentication-code-api-evp_mac title="Permanent link">&para;</a></h5><p>This simplifies the process of adding MAC implementations.</p><p>This includes a generic EVP_PKEY to EVP_MAC bridge, to facilitate the continued use of MACs through raw private keys in functionality such as <a href=../../man3/EVP_DigestSignInit/ >EVP_DigestSign(3)</a> and <a href=../../man3/EVP_DigestVerifyInit/ >EVP_DigestVerify(3)</a>.</p><p>All new applications should use the new <a href=../../man3/EVP_MAC/ >EVP_MAC(3)</a> interface. See also <a href=../OSSL_PROVIDER-default/ >&quot;Message Authentication Code (MAC)&quot; in OSSL_PROVIDER-default(7)</a> and <a href=../OSSL_PROVIDER-FIPS/ >&quot;Message Authentication Code (MAC)&quot; in OSSL_PROVIDER-FIPS(7)</a>.</p><h5 id=algorithm-fetching>Algorithm Fetching<a class=headerlink href=#algorithm-fetching title="Permanent link">&para;</a></h5><p>Using calls to convenience functions such as EVP_sha256() and EVP_aes_256_gcm() may incur a performance penalty when using providers. Retrieving algorithms from providers involves searching for an algorithm by name. This is much slower than directly accessing a method table. It is recommended to prefetch algorithms if an algorithm is used many times. See <a href=../crypto/ >&quot;Performance&quot; in crypto(7)</a>, <a href=../crypto/ >&quot;Explicit fetching&quot; in crypto(7)</a> and <a href=../crypto/ >&quot;Implicit fetching&quot; in crypto(7)</a>.</p><h5 id=support-for-linux-kernel-tls>Support for Linux Kernel TLS<a class=headerlink href=#support-for-linux-kernel-tls title="Permanent link">&para;</a></h5><p>In order to use KTLS, support for it must be compiled in using the <code>enable-ktls</code> configuration option. It must also be enabled at run time using the <strong>SSL_OP_ENABLE_KTLS</strong> option.</p><h5 id=new-algorithms>New Algorithms<a class=headerlink href=#new-algorithms title="Permanent link">&para;</a></h5><ul><li><p>KDF algorithms &quot;SINGLE STEP&quot; and &quot;SSH&quot;</p><p>See <a href=../EVP_KDF-SS/ >EVP_KDF-SS(7)</a> and <a href=../EVP_KDF-SSHKDF/ >EVP_KDF-SSHKDF(7)</a></p></li><li><p>MAC Algorithms &quot;GMAC&quot; and &quot;KMAC&quot;</p><p>See <a href=../EVP_MAC-GMAC/ >EVP_MAC-GMAC(7)</a> and <a href=../EVP_MAC-KMAC/ >EVP_MAC-KMAC(7)</a>.</p></li><li><p>KEM Algorithm &quot;RSASVE&quot;</p><p>See <a href=../EVP_KEM-RSA/ >EVP_KEM-RSA(7)</a>.</p></li><li><p>Cipher Algorithm &quot;AES-SIV&quot;</p><p>See <a href=../../man3/EVP_EncryptInit/ >&quot;SIV Mode&quot; in EVP_EncryptInit(3)</a>.</p></li><li><p>AES Key Wrap inverse ciphers supported by EVP layer.</p><p>The inverse ciphers use AES decryption for wrapping, and AES encryption for unwrapping. The algorithms are: &quot;AES-128-WRAP-INV&quot;, &quot;AES-192-WRAP-INV&quot;, &quot;AES-256-WRAP-INV&quot;, &quot;AES-128-WRAP-PAD-INV&quot;, &quot;AES-192-WRAP-PAD-INV&quot; and &quot;AES-256-WRAP-PAD-INV&quot;.</p></li><li><p>CTS ciphers added to EVP layer.</p><p>The algorithms are &quot;AES-128-CBC-CTS&quot;, &quot;AES-192-CBC-CTS&quot;, &quot;AES-256-CBC-CTS&quot;, &quot;CAMELLIA-128-CBC-CTS&quot;, &quot;CAMELLIA-192-CBC-CTS&quot; and &quot;CAMELLIA-256-CBC-CTS&quot;. CS1, CS2 and CS3 variants are supported.</p></li></ul><h5 id=cms-and-pkcs7-updates>CMS and PKCS#7 updates<a class=headerlink href=#cms-and-pkcs7-updates title="Permanent link">&para;</a></h5><ul><li>Added CAdES-BES signature verification support.</li><li>Added CAdES-BES signature scheme and attributes support (RFC 5126) to CMS API.</li><li><p>Added AuthEnvelopedData content type structure (RFC 5083) using AES_GCM</p><p>This uses the AES-GCM parameter (RFC 5084) for the Cryptographic Message Syntax. Its purpose is to support encryption and decryption of a digital envelope that is both authenticated and encrypted using AES GCM mode.</p></li><li><p><a href=../../man3/PKCS7_get_octet_string/ >PKCS7_get_octet_string(3)</a> and <a href=../../man3/PKCS7_type_is_other/ >PKCS7_type_is_other(3)</a> were made public.</p></li></ul><h5 id=pkcs12-api-updates>PKCS#12 API updates<a class=headerlink href=#pkcs12-api-updates title="Permanent link">&para;</a></h5><p>The default algorithms for pkcs12 creation with the PKCS12_create() function were changed to more modern PBKDF2 and AES based algorithms. The default MAC iteration count was changed to PKCS12_DEFAULT_ITER to make it equal with the password-based encryption iteration count. The default digest algorithm for the MAC computation was changed to SHA-256. The pkcs12 application now supports -legacy option that restores the previous default algorithms to support interoperability with legacy systems.</p><p>Added enhanced PKCS#12 APIs which accept a library context <strong>OSSL_LIB_CTX</strong> and (where relevant) a property query. Other APIs which handle PKCS#7 and PKCS#8 objects have also been enhanced where required. This includes:</p><p><a href=../../man3/PKCS12_add_cert/ >PKCS12_add_key_ex(3)</a>, <a href=../../man3/PKCS12_add_safe/ >PKCS12_add_safe_ex(3)</a>, <a href=../../man3/PKCS12_add_safe/ >PKCS12_add_safes_ex(3)</a>, <a href=../../man3/PKCS12_create/ >PKCS12_create_ex(3)</a>, <a href=../../man3/PKCS12_decrypt_skey/ >PKCS12_decrypt_skey_ex(3)</a>, <a href=../../man3/PKCS12_init/ >PKCS12_init_ex(3)</a>, <a href=../../man3/PKCS12_item_decrypt_d2i/ >PKCS12_item_decrypt_d2i_ex(3)</a>, <a href=../../man3/PKCS12_item_decrypt_d2i/ >PKCS12_item_i2d_encrypt_ex(3)</a>, <a href=../../man3/PKCS12_key_gen_utf8_ex/ >PKCS12_key_gen_asc_ex(3)</a>, <a href=../../man3/PKCS12_key_gen_utf8_ex/ >PKCS12_key_gen_uni_ex(3)</a>, <a href=../../man3/PKCS12_key_gen_utf8_ex/ >PKCS12_key_gen_utf8_ex(3)</a>, <a href=../../man3/PKCS12_pack_p7encdata/ >PKCS12_pack_p7encdata_ex(3)</a>, <a href=../../man3/PKCS12_PBE_keyivgen/ >PKCS12_pbe_crypt_ex(3)</a>, <a href=../../man3/PKCS12_PBE_keyivgen/ >PKCS12_PBE_keyivgen_ex(3)</a>, <a href=../../man3/PKCS12_SAFEBAG_create_cert/ >PKCS12_SAFEBAG_create_pkcs8_encrypt_ex(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbe2_set_iv_ex(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbe_set0_algor_ex(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbe_set_ex(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbkdf2_set_ex(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_v2_PBE_keyivgen_ex(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_v2_scrypt_keyivgen_ex(3)</a>, <a href=../../man3/PKCS8_encrypt/ >PKCS8_decrypt_ex(3)</a>, <a href=../../man3/PKCS8_encrypt/ >PKCS8_encrypt_ex(3)</a>, <a href=../../man3/PKCS8_encrypt/ >PKCS8_set0_pbe_ex(3)</a>.</p><p>As part of this change the EVP_PBE_xxx APIs can also accept a library context and property query and will call an extended version of the key/IV derivation function which supports these parameters. This includes <a href=../../man3/EVP_PBE_CipherInit/ >EVP_PBE_CipherInit_ex(3)</a>, <a href=../../man3/EVP_PBE_CipherInit/ >EVP_PBE_find_ex(3)</a> and <a href=../../man3/PKCS5_PBE_keyivgen/ >EVP_PBE_scrypt_ex(3)</a>.</p><h5 id=pkcs12-kdf-versus-fips>PKCS#12 KDF versus FIPS<a class=headerlink href=#pkcs12-kdf-versus-fips title="Permanent link">&para;</a></h5><p>Unlike in 1.x.y, the PKCS12KDF algorithm used when a PKCS#12 structure is created with a MAC that does not work with the FIPS provider as the PKCS12KDF is not a FIPS approvable mechanism.</p><p>See <a href=../EVP_KDF-PKCS12KDF/ >EVP_KDF-PKCS12KDF(7)</a>, <a href=../../man3/PKCS12_create/ >PKCS12_create(3)</a>, <a href=../../man1/openssl-pkcs12/ >openssl-pkcs12(1)</a>, <a href=../OSSL_PROVIDER-FIPS/ >OSSL_PROVIDER-FIPS(7)</a>.</p><h5 id=windows-thread-synchronization-changes>Windows thread synchronization changes<a class=headerlink href=#windows-thread-synchronization-changes title="Permanent link">&para;</a></h5><p>Windows thread synchronization uses read/write primitives (SRWLock) when supported by the OS, otherwise CriticalSection continues to be used.</p><h5 id=trace-api>Trace API<a class=headerlink href=#trace-api title="Permanent link">&para;</a></h5><p>A new generic trace API has been added which provides support for enabling instrumentation through trace output. This feature is mainly intended as an aid for developers and is disabled by default. To utilize it, OpenSSL needs to be configured with the <code>enable-trace</code> option.</p><p>If the tracing API is enabled, the application can activate trace output by registering BIOs as trace channels for a number of tracing and debugging categories. See <a href=../../man3/OSSL_trace_enabled/ >OSSL_trace_enabled(3)</a>.</p><h5 id=key-validation-updates>Key validation updates<a class=headerlink href=#key-validation-updates title="Permanent link">&para;</a></h5><p><a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_public_check(3)</a> and <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_param_check(3)</a> now work for more key types. This includes RSA, DSA, ED25519, X25519, ED448 and X448. Previously (in 1.1.1) they would return -2. For key types that do not have parameters then <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_param_check(3)</a> will always return 1.</p><h4 id=other-notable-deprecations-and-changes>Other notable deprecations and changes<a class=headerlink href=#other-notable-deprecations-and-changes title="Permanent link">&para;</a></h4><h5 id=the-function-code-part-of-an-openssl-error-code-is-no-longer-relevant>The function code part of an OpenSSL error code is no longer relevant<a class=headerlink href=#the-function-code-part-of-an-openssl-error-code-is-no-longer-relevant title="Permanent link">&para;</a></h5><p>This code is now always set to zero. Related functions are deprecated.</p><h5 id=stack-and-hash-macros-have-been-cleaned-up>STACK and HASH macros have been cleaned up<a class=headerlink href=#stack-and-hash-macros-have-been-cleaned-up title="Permanent link">&para;</a></h5><p>The type-safe wrappers are declared everywhere and implemented once. See <a href=../../man3/DEFINE_STACK_OF/ >DEFINE_STACK_OF(3)</a> and <a href=../../man3/OPENSSL_LH_COMPFUNC/ >DECLARE_LHASH_OF(3)</a>.</p><h5 id=the-rand_drbg-subsystem-has-been-removed>The RAND_DRBG subsystem has been removed<a class=headerlink href=#the-rand_drbg-subsystem-has-been-removed title="Permanent link">&para;</a></h5><p>The new <a href=../../man3/EVP_RAND/ >EVP_RAND(3)</a> is a partial replacement: the DRBG callback framework is absent. The RAND_DRBG API did not fit well into the new provider concept as implemented by EVP_RAND and EVP_RAND_CTX.</p><h5 id=removed-fips_mode-and-fips_mode_set>Removed FIPS_mode() and FIPS_mode_set()<a class=headerlink href=#removed-fips_mode-and-fips_mode_set title="Permanent link">&para;</a></h5><p>These functions are legacy APIs that are not applicable to the new provider model. Applications should instead use <a href=../../man3/EVP_set_default_properties/ >EVP_default_properties_is_fips_enabled(3)</a> and <a href=../../man3/EVP_set_default_properties/ >EVP_default_properties_enable_fips(3)</a>.</p><h5 id=key-generation-is-slower>Key generation is slower<a class=headerlink href=#key-generation-is-slower title="Permanent link">&para;</a></h5><p>The Miller-Rabin test now uses 64 rounds, which is used for all prime generation, including RSA key generation. This affects the time for larger keys sizes.</p><p>The default key generation method for the regular 2-prime RSA keys was changed to the FIPS186-4 B.3.6 method (Generation of Probable Primes with Conditions Based on Auxiliary Probable Primes). This method is slower than the original method.</p><h5 id=change-pbkdf2-to-conform-to-sp800-132-instead-of-the-older-pkcs5-rfc2898>Change PBKDF2 to conform to SP800-132 instead of the older PKCS5 RFC2898<a class=headerlink href=#change-pbkdf2-to-conform-to-sp800-132-instead-of-the-older-pkcs5-rfc2898 title="Permanent link">&para;</a></h5><p>This checks that the salt length is at least 128 bits, the derived key length is at least 112 bits, and that the iteration count is at least 1000. For backwards compatibility these checks are disabled by default in the default provider, but are enabled by default in the FIPS provider.</p><p>To enable or disable the checks see <strong>OSSL_KDF_PARAM_PKCS5</strong> in <a href=../EVP_KDF-PBKDF2/ >EVP_KDF-PBKDF2(7)</a>. The parameter can be set using <a href=../../man3/EVP_KDF/ >EVP_KDF_derive(3)</a>.</p><h5 id=enforce-a-minimum-dh-modulus-size-of-512-bits>Enforce a minimum DH modulus size of 512 bits<a class=headerlink href=#enforce-a-minimum-dh-modulus-size-of-512-bits title="Permanent link">&para;</a></h5><p>Smaller sizes now result in an error.</p><h5 id=sm2-key-changes>SM2 key changes<a class=headerlink href=#sm2-key-changes title="Permanent link">&para;</a></h5><p>EC EVP_PKEYs with the SM2 curve have been reworked to automatically become EVP_PKEY_SM2 rather than EVP_PKEY_EC.</p><p>Unlike in previous OpenSSL versions, this means that applications cannot call <code>EVP_PKEY_set_alias_type(pkey, EVP_PKEY_SM2)</code> to get SM2 computations.</p><p>Parameter and key generation is also reworked to make it possible to generate EVP_PKEY_SM2 parameters and keys. Applications must now generate SM2 keys directly and must not create an EVP_PKEY_EC key first. It is no longer possible to import an SM2 key with domain parameters other than the SM2 elliptic curve ones.</p><p>Validation of SM2 keys has been separated from the validation of regular EC keys, allowing to improve the SM2 validation process to reject loaded private keys that are not conforming to the SM2 ISO standard. In particular, a private scalar <em>k</em> outside the range <em>1 &lt;= k &lt; n-1</em> is now correctly rejected.</p><h5 id=evp_pkey_set_alias_type-method-has-been-removed>EVP_PKEY_set_alias_type() method has been removed<a class=headerlink href=#evp_pkey_set_alias_type-method-has-been-removed title="Permanent link">&para;</a></h5><p>This function made a <strong>EVP_PKEY</strong> object mutable after it had been set up. In OpenSSL 3.0 it was decided that a provided key should not be able to change its type, so this function has been removed.</p><h5 id=functions-that-return-an-internal-key-should-be-treated-as-read-only>Functions that return an internal key should be treated as read only<a class=headerlink href=#functions-that-return-an-internal-key-should-be-treated-as-read-only title="Permanent link">&para;</a></h5><p>Functions such as <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get0_RSA(3)</a> behave slightly differently in OpenSSL 3.0. Previously they returned a pointer to the low-level key used internally by libcrypto. From OpenSSL 3.0 this key may now be held in a provider. Calling these functions will only return a handle on the internal key where the EVP_PKEY was constructed using this key in the first place, for example using a function or macro such as <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_assign_RSA(3)</a>, <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_set1_RSA(3)</a>, etc. Where the EVP_PKEY holds a provider managed key, then these functions now return a cached copy of the key. Changes to the internal provider key that take place after the first time the cached key is accessed will not be reflected back in the cached copy. Similarly any changes made to the cached copy by application code will not be reflected back in the internal provider key.</p><p>For the above reasons the keys returned from these functions should typically be treated as read-only. To emphasise this the value returned from <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get0_RSA(3)</a>, <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get0_DSA(3)</a>, <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get0_EC_KEY(3)</a> and <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get0_DH(3)</a> have been made const. This may break some existing code. Applications broken by this change should be modified. The preferred solution is to refactor the code to avoid the use of these deprecated functions. Failing this the code should be modified to use a const pointer instead. The <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get1_RSA(3)</a>, <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get1_DSA(3)</a>, <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get1_EC_KEY(3)</a> and <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get1_DH(3)</a> functions continue to return a non-const pointer to enable them to be &quot;freed&quot;. However they should also be treated as read-only.</p><h5 id=the-public-key-check-has-moved-from-evp_pkey_derive-to-evp_pkey_derive_set_peer>The public key check has moved from EVP_PKEY_derive() to EVP_PKEY_derive_set_peer()<a class=headerlink href=#the-public-key-check-has-moved-from-evp_pkey_derive-to-evp_pkey_derive_set_peer title="Permanent link">&para;</a></h5><p>This may mean result in an error in <a href=../../man3/EVP_PKEY_derive/ >EVP_PKEY_derive_set_peer(3)</a> rather than during <a href=../../man3/EVP_PKEY_derive/ >EVP_PKEY_derive(3)</a>. To disable this check use EVP_PKEY_derive_set_peer_ex(dh, peer, 0).</p><h5 id=the-print-format-has-cosmetic-changes-for-some-functions>The print format has cosmetic changes for some functions<a class=headerlink href=#the-print-format-has-cosmetic-changes-for-some-functions title="Permanent link">&para;</a></h5><p>The output from numerous &quot;printing&quot; functions such as <a href=../../man3/X509_signature_print>X509_signature_print(3)</a>, <a href=../../man3/X509_print_ex>X509_print_ex(3)</a>, <a href=../../man3/X509_CRL_print_ex>X509_CRL_print_ex(3)</a>, and other similar functions has been amended such that there may be cosmetic differences between the output observed in 1.1.1 and 3.0. This also applies to the <strong>-text</strong> output from the <strong>openssl x509</strong> and <strong>openssl crl</strong> applications.</p><h5 id=interactive-mode-from-the-openssl-program-has-been-removed>Interactive mode from the <strong>openssl</strong> program has been removed<a class=headerlink href=#interactive-mode-from-the-openssl-program-has-been-removed title="Permanent link">&para;</a></h5><p>From now on, running it without arguments is equivalent to <strong>openssl help</strong>.</p><h5 id=the-error-return-values-from-some-control-calls-ctrl-have-changed>The error return values from some control calls (ctrl) have changed<a class=headerlink href=#the-error-return-values-from-some-control-calls-ctrl-have-changed title="Permanent link">&para;</a></h5><p>One significant change is that controls which used to return -2 for invalid inputs, now return -1 indicating a generic error condition instead.</p><h5 id=dh-and-dhx-key-types-have-different-settable-parameters>DH and DHX key types have different settable parameters<a class=headerlink href=#dh-and-dhx-key-types-have-different-settable-parameters title="Permanent link">&para;</a></h5><p>Previously (in 1.1.1) these conflicting parameters were allowed, but will now result in errors. See <a href=../EVP_PKEY-DH/ >EVP_PKEY-DH(7)</a> for further details. This affects the behaviour of <a href=../../man1/openssl-genpkey/ >openssl-genpkey(1)</a> for DH parameter generation.</p><h5 id=evp_cipher_ctx_set_flags-ordering-change>EVP_CIPHER_CTX_set_flags() ordering change<a class=headerlink href=#evp_cipher_ctx_set_flags-ordering-change title="Permanent link">&para;</a></h5><p>If using a cipher from a provider the <strong>EVP_CIPH_FLAG_LENGTH_BITS</strong> flag can only be set <strong>after</strong> the cipher has been assigned to the cipher context. See <a href=../../man3/EVP_EncryptInit/ >&quot;FLAGS&quot; in EVP_EncryptInit(3)</a> for more information.</p><h5 id=validation-of-operation-context-parameters>Validation of operation context parameters<a class=headerlink href=#validation-of-operation-context-parameters title="Permanent link">&para;</a></h5><p>Due to move of the implementation of cryptographic operations to the providers, validation of various operation parameters can be postponed until the actual operation is executed where previously it happened immediately when an operation parameter was set.</p><p>For example when setting an unsupported curve with EVP_PKEY_CTX_set_ec_paramgen_curve_nid() this function call will not fail but later keygen operations with the EVP_PKEY_CTX will fail.</p><h5 id=removal-of-function-code-from-the-error-codes>Removal of function code from the error codes<a class=headerlink href=#removal-of-function-code-from-the-error-codes title="Permanent link">&para;</a></h5><p>The function code part of the error code is now always set to 0. For that reason the ERR_GET_FUNC() macro was removed. Applications must resolve the error codes only using the library number and the reason code.</p><h5 id=chacha20-poly1305-cipher-does-not-allow-a-truncated-iv-length-to-be-used>ChaCha20-Poly1305 cipher does not allow a truncated IV length to be used<a class=headerlink href=#chacha20-poly1305-cipher-does-not-allow-a-truncated-iv-length-to-be-used title="Permanent link">&para;</a></h5><p>In OpenSSL 3.0 setting the IV length to any value other than 12 will result in an error. Prior to OpenSSL 3.0 the ivlen could be smaller that the required 12 byte length, using EVP_CIPHER_CTX_ctrl(ctx, EVP_CRTL_AEAD_SET_IVLEN, ivlen, NULL). This resulted in an IV that had leading zero padding.</p><h3 id=installation-and-compilation>Installation and Compilation<a class=headerlink href=#installation-and-compilation title="Permanent link">&para;</a></h3><p>Please refer to the INSTALL.md file in the top of the distribution for instructions on how to build and install OpenSSL 3.0. Please also refer to the various platform specific NOTES files for your specific platform.</p><h3 id=upgrading-from-openssl-111>Upgrading from OpenSSL 1.1.1<a class=headerlink href=#upgrading-from-openssl-111 title="Permanent link">&para;</a></h3><p>Upgrading to OpenSSL 3.0 from OpenSSL 1.1.1 should be relatively straight forward in most cases. The most likely area where you will encounter problems is if you have used low level APIs in your code (as discussed above). In that case you are likely to start seeing deprecation warnings when compiling your application. If this happens you have 3 options:</p><ol><li>Ignore the warnings. They are just warnings. The deprecated functions are still present and you may still use them. However be aware that they may be removed from a future version of OpenSSL.</li><li>Suppress the warnings. Refer to your compiler documentation on how to do this.</li><li>Remove your usage of the low level APIs. In this case you will need to rewrite your code to use the high level APIs instead</li></ol><h4 id=error-code-changes>Error code changes<a class=headerlink href=#error-code-changes title="Permanent link">&para;</a></h4><p>As OpenSSL 3.0 provides a brand new Encoder/Decoder mechanism for working with widely used file formats, application code that checks for particular error reason codes on key loading failures might need an update.</p><p>Password-protected keys may deserve special attention. If only some errors are treated as an indicator that the user should be asked about the password again, it&#39;s worth testing these scenarios and processing the newly relevant codes.</p><p>There may be more cases to treat specially, depending on the calling application code.</p><h3 id=upgrading-from-openssl-102>Upgrading from OpenSSL 1.0.2<a class=headerlink href=#upgrading-from-openssl-102 title="Permanent link">&para;</a></h3><p>Upgrading to OpenSSL 3.0 from OpenSSL 1.0.2 is likely to be significantly more difficult. In addition to the issues discussed above in the section about <a href=#upgrading-from-openssl-1-1-1>&quot;Upgrading from OpenSSL 1.1.1&quot;</a>, the main things to be aware of are:</p><ol><li><p>The build and installation procedure has changed significantly.</p><p>Check the file INSTALL.md in the top of the installation for instructions on how to build and install OpenSSL for your platform. Also read the various NOTES files in the same directory, as applicable for your platform.</p></li><li><p>Many structures have been made opaque in OpenSSL 3.0.</p><p>The structure definitions have been removed from the public header files and moved to internal header files. In practice this means that you can no longer stack allocate some structures. Instead they must be heap allocated through some function call (typically those function names have a <code>_new</code> suffix to them). Additionally you must use &quot;setter&quot; or &quot;getter&quot; functions to access the fields within those structures.</p><p>For example code that previously looked like this:</p><div class=highlight><pre><span></span><code>EVP_MD_CTX md_ctx;

/* This line will now generate compiler errors */
EVP_MD_CTX_init(&amp;md_ctx);
</code></pre></div><p>The code needs to be amended to look like this:</p><div class=highlight><pre><span></span><code>EVP_MD_CTX *md_ctx;

md_ctx = EVP_MD_CTX_new();
...
...
EVP_MD_CTX_free(md_ctx);
</code></pre></div></li><li><p>Support for TLSv1.3 has been added.</p><p>This has a number of implications for SSL/TLS applications. See the <a href=https://wiki.openssl.org/index.php/TLS1.3>TLS1.3 page</a> for further details.</p></li></ol><p>More details about the breaking changes between OpenSSL versions 1.0.2 and 1.1.0 can be found on the <a href=https://wiki.openssl.org/index.php/OpenSSL_1.1.0_Changes>OpenSSL 1.1.0 Changes page</a>.</p><h4 id=upgrading-from-the-openssl-20-fips-object-module>Upgrading from the OpenSSL 2.0 FIPS Object Module<a class=headerlink href=#upgrading-from-the-openssl-20-fips-object-module title="Permanent link">&para;</a></h4><p>The OpenSSL 2.0 FIPS Object Module was a separate download that had to be built separately and then integrated into your main OpenSSL 1.0.2 build. In OpenSSL 3.0 the FIPS support is fully integrated into the mainline version of OpenSSL and is no longer a separate download. For further information see <a href=#completing-the-installation-of-the-fips-module>&quot;Completing the installation of the FIPS Module&quot;</a>.</p><p>The function calls FIPS_mode() and FIPS_mode_set() have been removed from OpenSSL 3.0. You should rewrite your application to not use them. See <a href=../fips_module/ >fips_module(7)</a> and <a href=../OSSL_PROVIDER-FIPS/ >OSSL_PROVIDER-FIPS(7)</a> for details.</p><h3 id=completing-the-installation-of-the-fips-module>Completing the installation of the FIPS Module<a class=headerlink href=#completing-the-installation-of-the-fips-module title="Permanent link">&para;</a></h3><p>The FIPS Module will be built and installed automatically if FIPS support has been configured. The current documentation can be found in the <a href=https://github.com/openssl/openssl/blob/master/README-FIPS.md>README-FIPS</a> file.</p><h3 id=programming>Programming<a class=headerlink href=#programming title="Permanent link">&para;</a></h3><p>Applications written to work with OpenSSL 1.1.1 will mostly just work with OpenSSL 3.0. However changes will be required if you want to take advantage of some of the new features that OpenSSL 3.0 makes available. In order to do that you need to understand some new concepts introduced in OpenSSL 3.0. Read <a href=../crypto/ >&quot;Library contexts&quot; in crypto(7)</a> for further information.</p><h4 id=library-context>Library Context<a class=headerlink href=#library-context title="Permanent link">&para;</a></h4><p>A library context allows different components of a complex application to each use a different library context and have different providers loaded with different configuration settings. See <a href=../crypto/ >&quot;Library contexts&quot; in crypto(7)</a> for further info.</p><p>If the user creates an <strong>OSSL_LIB_CTX</strong> via <a href=../../man3/OSSL_LIB_CTX/ >OSSL_LIB_CTX_new(3)</a> then many functions may need to be changed to pass additional parameters to handle the library context.</p><h5 id=using-a-library-context-old-functions-that-should-be-changed>Using a Library Context - Old functions that should be changed<a class=headerlink href=#using-a-library-context-old-functions-that-should-be-changed title="Permanent link">&para;</a></h5><p>If a library context is needed then all EVP_* digest functions that return a <strong>const EVP_MD *</strong> such as EVP_sha256() should be replaced with a call to <a href=../../man3/EVP_DigestInit/ >EVP_MD_fetch(3)</a>. See <a href=../crypto/ >&quot;ALGORITHM FETCHING&quot; in crypto(7)</a>.</p><p>If a library context is needed then all EVP_* cipher functions that return a <strong>const EVP_CIPHER *</strong> such as EVP_aes_128_cbc() should be replaced vith a call to <a href=../../man3/EVP_EncryptInit/ >EVP_CIPHER_fetch(3)</a>. See <a href=../crypto/ >&quot;ALGORITHM FETCHING&quot; in crypto(7)</a>.</p><p>Some functions can be passed an object that has already been set up with a library context such as <a href=../../man3/d2i_X509/ >d2i_X509(3)</a>, <a href=../../man3/d2i_X509/ >d2i_X509_CRL(3)</a>, <a href=../../man3/d2i_X509/ >d2i_X509_REQ(3)</a> and <a href=../../man3/d2i_X509/ >d2i_X509_PUBKEY(3)</a>. If NULL is passed instead then the created object will be set up with the default library context. Use <a href=../../man3/X509_new/ >X509_new_ex(3)</a>, <a href=../../man3/X509_dup/ >X509_CRL_new_ex(3)</a>, <a href=../../man3/X509_dup/ >X509_REQ_new_ex(3)</a> and <a href=../../man3/X509_PUBKEY_new/ >X509_PUBKEY_new_ex(3)</a> if a library context is required.</p><p>All functions listed below with a <em>NAME</em> have a replacement function <em>NAME_ex</em> that takes <strong>OSSL_LIB_CTX</strong> as an additional argument. Functions that have other mappings are listed along with the respective name.</p><ul><li><a href=../../man3/ASN1_item_new/ >ASN1_item_new(3)</a>, <a href=../../man3/ASN1_item_d2i_bio/ >ASN1_item_d2i(3)</a>, <a href=../../man3/ASN1_item_d2i_bio/ >ASN1_item_d2i_fp(3)</a>, <a href=../../man3/ASN1_item_d2i_bio/ >ASN1_item_d2i_bio(3)</a>, <a href=../../man3/ASN1_item_sign/ >ASN1_item_sign(3)</a> and <a href=../../man3/ASN1_item_sign/ >ASN1_item_verify(3)</a></li><li><a href=../../man3/BIO_new/ >BIO_new(3)</a></li><li>b2i_RSA_PVK_bio() and i2b_PVK_bio()</li><li><a href=../../man3/BN_CTX_new/ >BN_CTX_new(3)</a> and <a href=../../man3/BN_CTX_new/ >BN_CTX_secure_new(3)</a></li><li><a href=../../man3/CMS_EnvelopedData_create/ >CMS_AuthEnvelopedData_create(3)</a>, <a href=../../man3/X509_dup/ >CMS_ContentInfo_new(3)</a>, <a href=../../man3/CMS_data_create/ >CMS_data_create(3)</a>, <a href=../../man3/CMS_digest_create/ >CMS_digest_create(3)</a>, <a href=../../man3/CMS_EncryptedData_encrypt/ >CMS_EncryptedData_encrypt(3)</a>, <a href=../../man3/CMS_encrypt/ >CMS_encrypt(3)</a>, <a href=../../man3/CMS_EnvelopedData_create/ >CMS_EnvelopedData_create(3)</a>, <a href=../../man3/CMS_get1_ReceiptRequest/ >CMS_ReceiptRequest_create0(3)</a> and <a href=../../man3/CMS_sign/ >CMS_sign(3)</a></li><li><a href=../../man3/CONF_modules_load_file/ >CONF_modules_load_file(3)</a></li><li><a href=../../man3/CTLOG_new/ >CTLOG_new(3)</a>, <a href=../../man3/CTLOG_new/ >CTLOG_new_from_base64(3)</a> and <a href=../../man3/CTLOG_STORE_new/ >CTLOG_STORE_new(3)</a></li><li><a href=../../man3/CT_POLICY_EVAL_CTX_new/ >CT_POLICY_EVAL_CTX_new(3)</a></li><li><a href=../../man3/d2i_PrivateKey/ >d2i_AutoPrivateKey(3)</a>, <a href=../../man3/d2i_PrivateKey/ >d2i_PrivateKey(3)</a> and <a href=../../man3/X509_PUBKEY_new/ >d2i_PUBKEY(3)</a></li><li><p><a href=../../man3/d2i_PrivateKey/ >d2i_PrivateKey_bio(3)</a> and <a href=../../man3/d2i_PrivateKey/ >d2i_PrivateKey_fp(3)</a></p><p>Use <a href=../../man3/d2i_PrivateKey/ >d2i_PrivateKey_ex_bio(3)</a> and <a href=../../man3/d2i_PrivateKey/ >d2i_PrivateKey_ex_fp(3)</a></p></li><li><p><a href=../../man3/EC_GROUP_new/ >EC_GROUP_new(3)</a></p><p>Use <a href=../../man3/EC_GROUP_new/ >EC_GROUP_new_by_curve_name_ex(3)</a> or <a href=../../man3/EC_GROUP_new/ >EC_GROUP_new_from_params(3)</a>.</p></li><li><p><a href=../../man3/EVP_DigestSignInit/ >EVP_DigestSignInit(3)</a> and <a href=../../man3/EVP_DigestVerifyInit/ >EVP_DigestVerifyInit(3)</a></p></li><li><a href=../../man3/EVP_PBE_CipherInit/ >EVP_PBE_CipherInit(3)</a>, <a href=../../man3/EVP_PBE_CipherInit/ >EVP_PBE_find(3)</a> and <a href=../../man3/PKCS5_PBE_keyivgen/ >EVP_PBE_scrypt(3)</a></li><li><a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_PBE_keyivgen(3)</a></li><li><a href=../../man3/EVP_PKEY2PKCS8/ >EVP_PKCS82PKEY(3)</a></li><li><p><a href=../../man3/EVP_PKEY_CTX_new/ >EVP_PKEY_CTX_new_id(3)</a></p><p>Use <a href=../../man3/EVP_PKEY_CTX_new/ >EVP_PKEY_CTX_new_from_name(3)</a></p></li><li><p><a href=../../man3/EVP_PKEY_derive/ >EVP_PKEY_derive_set_peer(3)</a>, <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_new_raw_private_key(3)</a> and <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_new_raw_public_key(3)</a></p></li><li><a href=../../man3/EVP_SignInit/ >EVP_SignFinal(3)</a> and <a href=../../man3/EVP_VerifyInit/ >EVP_VerifyFinal(3)</a></li><li><a href=../../man3/NCONF_new_ex/ >NCONF_new(3)</a></li><li><a href=../../man3/OCSP_response_status/ >OCSP_RESPID_match(3)</a> and <a href=../../man3/OCSP_response_status/ >OCSP_RESPID_set_by_key(3)</a></li><li><a href=../../man3/OPENSSL_init_crypto/ >OPENSSL_thread_stop(3)</a></li><li><a href=../../man3/OSSL_STORE_open/ >OSSL_STORE_open(3)</a></li><li><a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_read_bio_Parameters(3)</a>, <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_read_bio_PrivateKey(3)</a>, <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_read_bio_PUBKEY(3)</a>, <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_read_PrivateKey(3)</a> and <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_read_PUBKEY(3)</a></li><li><a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_write_bio_PrivateKey(3)</a>, <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_write_bio_PUBKEY(3)</a>, <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_write_PrivateKey(3)</a> and <a href=../../man3/PEM_read_bio_PrivateKey/ >PEM_write_PUBKEY(3)</a></li><li><a href=../../man3/PEM_X509_INFO_read_bio_ex/ >PEM_X509_INFO_read_bio(3)</a> and <a href=../../man3/PEM_X509_INFO_read_bio_ex/ >PEM_X509_INFO_read(3)</a></li><li><a href=../../man3/PKCS12_add_cert/ >PKCS12_add_key(3)</a>, <a href=../../man3/PKCS12_add_safe/ >PKCS12_add_safe(3)</a>, <a href=../../man3/PKCS12_add_safe/ >PKCS12_add_safes(3)</a>, <a href=../../man3/PKCS12_create/ >PKCS12_create(3)</a>, <a href=../../man3/PKCS12_decrypt_skey/ >PKCS12_decrypt_skey(3)</a>, <a href=../../man3/PKCS12_init/ >PKCS12_init(3)</a>, <a href=../../man3/PKCS12_item_decrypt_d2i/ >PKCS12_item_decrypt_d2i(3)</a>, <a href=../../man3/PKCS12_item_decrypt_d2i/ >PKCS12_item_i2d_encrypt(3)</a>, <a href=../../man3/PKCS12_key_gen_utf8_ex/ >PKCS12_key_gen_asc(3)</a>, <a href=../../man3/PKCS12_key_gen_utf8_ex/ >PKCS12_key_gen_uni(3)</a>, <a href=../../man3/PKCS12_key_gen_utf8_ex/ >PKCS12_key_gen_utf8(3)</a>, <a href=../../man3/PKCS12_pack_p7encdata/ >PKCS12_pack_p7encdata(3)</a>, <a href=../../man3/PKCS12_PBE_keyivgen/ >PKCS12_pbe_crypt(3)</a>, <a href=../../man3/PKCS12_PBE_keyivgen/ >PKCS12_PBE_keyivgen(3)</a>, <a href=../../man3/PKCS12_SAFEBAG_create_cert/ >PKCS12_SAFEBAG_create_pkcs8_encrypt(3)</a></li><li><a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbe_set0_algor(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbe_set(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbe2_set_iv(3)</a>, <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_pbkdf2_set(3)</a> and <a href=../../man3/PKCS5_PBE_keyivgen/ >PKCS5_v2_scrypt_keyivgen(3)</a></li><li><a href=../../man3/PKCS7_encrypt/ >PKCS7_encrypt(3)</a>, <a href=../../man3/X509_dup/ >PKCS7_new(3)</a> and <a href=../../man3/PKCS7_sign/ >PKCS7_sign(3)</a></li><li><a href=../../man3/PKCS8_encrypt/ >PKCS8_decrypt(3)</a>, <a href=../../man3/PKCS8_encrypt/ >PKCS8_encrypt(3)</a> and <a href=../../man3/PKCS8_encrypt/ >PKCS8_set0_pbe(3)</a></li><li><a href=../../man3/RAND_bytes/ >RAND_bytes(3)</a> and <a href=../../man3/RAND_bytes/ >RAND_priv_bytes(3)</a></li><li><a href=../../man3/SMIME_write_ASN1/ >SMIME_write_ASN1(3)</a></li><li><a href=../../man3/SSL_load_client_CA_file/ >SSL_load_client_CA_file(3)</a></li><li><a href=../../man3/SSL_CTX_new/ >SSL_CTX_new(3)</a></li><li><a href=../../man3/TS_RESP_CTX_new/ >TS_RESP_CTX_new(3)</a></li><li><a href=../../man3/X509_dup/ >X509_CRL_new(3)</a></li><li><a href=../../man3/X509_LOOKUP_hash_dir/ >X509_load_cert_crl_file(3)</a> and <a href=../../man3/X509_LOOKUP_hash_dir/ >X509_load_cert_file(3)</a></li><li><a href=../../man3/X509_LOOKUP/ >X509_LOOKUP_by_subject(3)</a> and <a href=../../man3/X509_LOOKUP/ >X509_LOOKUP_ctrl(3)</a></li><li><a href=../../man3/X509_get_subject_name/ >X509_NAME_hash(3)</a></li><li><a href=../../man3/X509_new/ >X509_new(3)</a></li><li><a href=../../man3/X509_dup/ >X509_REQ_new(3)</a> and <a href=../../man3/X509_verify/ >X509_REQ_verify(3)</a></li><li><a href=../../man3/X509_STORE_CTX_new/ >X509_STORE_CTX_new(3)</a>, <a href=../../man3/X509_STORE_add_cert/ >X509_STORE_set_default_paths(3)</a>, <a href=../../man3/X509_STORE_add_cert/ >X509_STORE_load_file(3)</a>, <a href=../../man3/X509_STORE_add_cert/ >X509_STORE_load_locations(3)</a> and <a href=../../man3/X509_STORE_add_cert/ >X509_STORE_load_store(3)</a></li></ul><h5 id=new-functions-that-use-a-library-context>New functions that use a Library context<a class=headerlink href=#new-functions-that-use-a-library-context title="Permanent link">&para;</a></h5><p>The following functions can be passed a library context if required. Passing NULL will use the default library context.</p><ul><li><a href=../../man3/BIO_s_core/ >BIO_new_from_core_bio(3)</a></li><li><a href=../../man3/EVP_ASYM_CIPHER_free/ >EVP_ASYM_CIPHER_fetch(3)</a> and <a href=../../man3/EVP_ASYM_CIPHER_free/ >EVP_ASYM_CIPHER_do_all_provided(3)</a></li><li><a href=../../man3/EVP_EncryptInit/ >EVP_CIPHER_fetch(3)</a> and <a href=../../man3/EVP_EncryptInit/ >EVP_CIPHER_do_all_provided(3)</a></li><li><a href=../../man3/EVP_set_default_properties/ >EVP_default_properties_enable_fips(3)</a> and <a href=../../man3/EVP_set_default_properties/ >EVP_default_properties_is_fips_enabled(3)</a></li><li><a href=../../man3/EVP_KDF/ >EVP_KDF_fetch(3)</a> and <a href=../../man3/EVP_KDF/ >EVP_KDF_do_all_provided(3)</a></li><li><a href=../../man3/EVP_KEM_free/ >EVP_KEM_fetch(3)</a> and <a href=../../man3/EVP_KEM_free/ >EVP_KEM_do_all_provided(3)</a></li><li><a href=../../man3/EVP_KEYEXCH_free/ >EVP_KEYEXCH_fetch(3)</a> and <a href=../../man3/EVP_KEYEXCH_free/ >EVP_KEYEXCH_do_all_provided(3)</a></li><li><a href=../../man3/EVP_KEYMGMT/ >EVP_KEYMGMT_fetch(3)</a> and <a href=../../man3/EVP_KEYMGMT/ >EVP_KEYMGMT_do_all_provided(3)</a></li><li><a href=../../man3/EVP_MAC/ >EVP_MAC_fetch(3)</a> and <a href=../../man3/EVP_MAC/ >EVP_MAC_do_all_provided(3)</a></li><li><a href=../../man3/EVP_DigestInit/ >EVP_MD_fetch(3)</a> and <a href=../../man3/EVP_DigestInit/ >EVP_MD_do_all_provided(3)</a></li><li><a href=../../man3/EVP_PKEY_CTX_new/ >EVP_PKEY_CTX_new_from_pkey(3)</a></li><li><a href=../../man3/EVP_PKEY_keygen/ >EVP_PKEY_Q_keygen(3)</a></li><li><a href=../../man3/EVP_MAC/ >EVP_Q_mac(3)</a> and <a href=../../man3/EVP_DigestInit/ >EVP_Q_digest(3)</a></li><li><a href=../../man3/EVP_RAND/ >EVP_RAND(3)</a> and <a href=../../man3/EVP_RAND/ >EVP_RAND_do_all_provided(3)</a></li><li><a href=../../man3/EVP_set_default_properties/ >EVP_set_default_properties(3)</a></li><li><a href=../../man3/EVP_SIGNATURE/ >EVP_SIGNATURE_fetch(3)</a> and <a href=../../man3/EVP_SIGNATURE/ >EVP_SIGNATURE_do_all_provided(3)</a></li><li><a href=../../man3/OSSL_CMP_CTX_new/ >OSSL_CMP_CTX_new(3)</a> and <a href=../../man3/OSSL_CMP_SRV_CTX_new/ >OSSL_CMP_SRV_CTX_new(3)</a></li><li><a href=../../man3/OSSL_CRMF_MSG_get0_tmpl/ >OSSL_CRMF_ENCRYPTEDVALUE_get1_encCert(3)</a></li><li><a href=../../man3/OSSL_CRMF_MSG_set0_validity/ >OSSL_CRMF_MSG_create_popo(3)</a> and <a href=../../man3/OSSL_CRMF_MSG_set0_validity/ >OSSL_CRMF_MSGS_verify_popo(3)</a></li><li><a href=../../man3/OSSL_CRMF_pbmp_new/ >OSSL_CRMF_pbm_new(3)</a> and <a href=../../man3/OSSL_CRMF_pbmp_new/ >OSSL_CRMF_pbmp_new(3)</a></li><li><a href=../../man3/OSSL_DECODER_CTX/ >OSSL_DECODER_CTX_add_extra(3)</a> and <a href=../../man3/OSSL_DECODER_CTX_new_for_pkey/ >OSSL_DECODER_CTX_new_for_pkey(3)</a></li><li><a href=../../man3/OSSL_DECODER/ >OSSL_DECODER_fetch(3)</a> and <a href=../../man3/OSSL_DECODER/ >OSSL_DECODER_do_all_provided(3)</a></li><li><a href=../../man3/OSSL_ENCODER_CTX/ >OSSL_ENCODER_CTX_add_extra(3)</a></li><li><a href=../../man3/OSSL_ENCODER/ >OSSL_ENCODER_fetch(3)</a> and <a href=../../man3/OSSL_ENCODER/ >OSSL_ENCODER_do_all_provided(3)</a></li><li><a href=../../man3/OSSL_LIB_CTX/ >OSSL_LIB_CTX_free(3)</a>, <a href=../../man3/OSSL_LIB_CTX/ >OSSL_LIB_CTX_load_config(3)</a> and <a href=../../man3/OSSL_LIB_CTX/ >OSSL_LIB_CTX_set0_default(3)</a></li><li><a href=../../man3/OSSL_PROVIDER/ >OSSL_PROVIDER_add_builtin(3)</a>, <a href=../../man3/OSSL_PROVIDER/ >OSSL_PROVIDER_available(3)</a>, <a href=../../man3/OSSL_PROVIDER/ >OSSL_PROVIDER_do_all(3)</a>, <a href=../../man3/OSSL_PROVIDER/ >OSSL_PROVIDER_load(3)</a>, <a href=../../man3/OSSL_PROVIDER/ >OSSL_PROVIDER_set_default_search_path(3)</a> and <a href=../../man3/OSSL_PROVIDER/ >OSSL_PROVIDER_try_load(3)</a></li><li><a href=../../man3/OSSL_SELF_TEST_set_callback/ >OSSL_SELF_TEST_get_callback(3)</a> and <a href=../../man3/OSSL_SELF_TEST_set_callback/ >OSSL_SELF_TEST_set_callback(3)</a></li><li><a href=../../man3/OSSL_STORE_attach/ >OSSL_STORE_attach(3)</a></li><li><a href=../../man3/OSSL_STORE_LOADER/ >OSSL_STORE_LOADER_fetch(3)</a> and <a href=../../man3/OSSL_STORE_LOADER/ >OSSL_STORE_LOADER_do_all_provided(3)</a></li><li><a href=../../man3/RAND_get0_primary/ >RAND_get0_primary(3)</a>, <a href=../../man3/RAND_get0_primary/ >RAND_get0_private(3)</a>, <a href=../../man3/RAND_get0_primary/ >RAND_get0_public(3)</a>, <a href=../../man3/RAND_set_DRBG_type/ >RAND_set_DRBG_type(3)</a> and <a href=../../man3/RAND_set_DRBG_type/ >RAND_set_seed_source_type(3)</a></li></ul><h4 id=providers>Providers<a class=headerlink href=#providers title="Permanent link">&para;</a></h4><p>Providers are described in detail here <a href=../crypto/ >&quot;Providers&quot; in crypto(7)</a>. See also <a href=../crypto/ >&quot;OPENSSL PROVIDERS&quot; in crypto(7)</a>.</p><h4 id=fetching-algorithms-and-property-queries>Fetching algorithms and property queries<a class=headerlink href=#fetching-algorithms-and-property-queries title="Permanent link">&para;</a></h4><p>Implicit and Explicit Fetching is described in detail here <a href=../crypto/ >&quot;ALGORITHM FETCHING&quot; in crypto(7)</a>.</p><h4 id=mapping-evp-controls-and-flags-to-provider-ossl_param3-parameters>Mapping EVP controls and flags to provider <a href=../../man3/OSSL_PARAM/ >OSSL_PARAM(3)</a> parameters<a class=headerlink href=#mapping-evp-controls-and-flags-to-provider-ossl_param3-parameters title="Permanent link">&para;</a></h4><p>The existing functions for controls (such as <a href=../../man3/EVP_EncryptInit/ >EVP_CIPHER_CTX_ctrl(3)</a>) and manipulating flags (such as <a href=../../man3/EVP_DigestInit/ >EVP_MD_CTX_set_flags(3)</a>)internally use <strong>OSSL_PARAMS</strong> to pass information to/from provider objects. See <a href=../../man3/OSSL_PARAM/ >OSSL_PARAM(3)</a> for additional information related to parameters.</p><p>For ciphers see <a href=../../man3/EVP_EncryptInit/ >&quot;CONTROLS&quot; in EVP_EncryptInit(3)</a>, <a href=../../man3/EVP_EncryptInit/ >&quot;FLAGS&quot; in EVP_EncryptInit(3)</a> and <a href=../../man3/EVP_EncryptInit/ >&quot;PARAMETERS&quot; in EVP_EncryptInit(3)</a>.</p><p>For digests see <a href=../../man3/EVP_DigestInit/ >&quot;CONTROLS&quot; in EVP_DigestInit(3)</a>, <a href=../../man3/EVP_DigestInit/ >&quot;FLAGS&quot; in EVP_DigestInit(3)</a> and <a href=../../man3/EVP_DigestInit/ >&quot;PARAMETERS&quot; in EVP_DigestInit(3)</a>.</p><h4 id=deprecation-of-low-level-functions>Deprecation of Low Level Functions<a class=headerlink href=#deprecation-of-low-level-functions title="Permanent link">&para;</a></h4><p>A significant number of APIs have been deprecated in OpenSSL 3.0. This section describes some common categories of deprecations. See <a href=#deprecated-function-mappings>&quot;Deprecated function mappings&quot;</a> for the list of deprecated functions that refer to these categories.</p><h5 id=providers-are-a-replacement-for-engines-and-low-level-method-overrides>Providers are a replacement for engines and low-level method overrides<a class=headerlink href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides title="Permanent link">&para;</a></h5><p>Any accessor that uses an ENGINE is deprecated (such as EVP_PKEY_set1_engine()). Applications using engines should instead use providers.</p><p>Before providers were added algorithms were overridden by changing the methods used by algorithms. All these methods such as RSA_new_method() and RSA_meth_new() are now deprecated and can be replaced by using providers instead.</p><h5 id=deprecated-i2d-and-d2i-functions-for-low-level-key-types>Deprecated i2d and d2i functions for low-level key types<a class=headerlink href=#deprecated-i2d-and-d2i-functions-for-low-level-key-types title="Permanent link">&para;</a></h5><p>Any i2d and d2i functions such as d2i_DHparams() that take a low-level key type have been deprecated. Applications should instead use the <a href=../../man3/OSSL_DECODER/ >OSSL_DECODER(3)</a> and <a href=../../man3/OSSL_ENCODER/ >OSSL_ENCODER(3)</a> APIs to read and write files. See <a href=../../man3/d2i_RSAPrivateKey/ >&quot;Migration&quot; in d2i_RSAPrivateKey(3)</a> for further details.</p><h5 id=deprecated-low-level-key-object-getters-and-setters>Deprecated low-level key object getters and setters<a class=headerlink href=#deprecated-low-level-key-object-getters-and-setters title="Permanent link">&para;</a></h5><p>Applications that set or get low-level key objects (such as EVP_PKEY_set1_DH() or EVP_PKEY_get0()) should instead use the OSSL_ENCODER (See <a href=../../man3/OSSL_ENCODER_to_bio/ >OSSL_ENCODER_to_bio(3)</a>) or OSSL_DECODER (See <a href=../../man3/OSSL_DECODER_from_bio/ >OSSL_DECODER_from_bio(3)</a>) APIs, or alternatively use <a href=../../man3/EVP_PKEY_fromdata/ >EVP_PKEY_fromdata(3)</a> or <a href=../../man3/EVP_PKEY_todata/ >EVP_PKEY_todata(3)</a>.</p><h5 id=deprecated-low-level-key-parameter-getters>Deprecated low-level key parameter getters<a class=headerlink href=#deprecated-low-level-key-parameter-getters title="Permanent link">&para;</a></h5><p>Functions that access low-level objects directly such as <a href=../../man3/RSA_get0_key/ >RSA_get0_n(3)</a> are now deprecated. Applications should use one of <a href=../../man3/EVP_PKEY_gettable_params/ >EVP_PKEY_get_bn_param(3)</a>, <a href=../../man3/EVP_PKEY_gettable_params/ >EVP_PKEY_get_int_param(3)</a>, l&lt;EVP_PKEY_get_size_t_param(3)&gt;, <a href=../../man3/EVP_PKEY_gettable_params/ >EVP_PKEY_get_utf8_string_param(3)</a>, <a href=../../man3/EVP_PKEY_gettable_params/ >EVP_PKEY_get_octet_string_param(3)</a> or <a href=../../man3/EVP_PKEY_gettable_params/ >EVP_PKEY_get_params(3)</a> to access fields from an EVP_PKEY. Gettable parameters are listed in <a href=../EVP_PKEY-RSA/ >&quot;Common RSA parameters&quot; in EVP_PKEY-RSA(7)</a>, <a href=../EVP_PKEY-DH/ >&quot;DH parameters&quot; in EVP_PKEY-DH(7)</a>, <a href=../EVP_PKEY-DSA/ >&quot;DSA parameters&quot; in EVP_PKEY-DSA(7)</a>, <a href=../EVP_PKEY-FFC/ >&quot;FFC parameters&quot; in EVP_PKEY-FFC(7)</a>, <a href=../EVP_PKEY-EC/ >&quot;Common EC parameters&quot; in EVP_PKEY-EC(7)</a> and <a href=../EVP_PKEY-X25519/ >&quot;Common X25519, X448, ED25519 and ED448 parameters&quot; in EVP_PKEY-X25519(7)</a>. Applications may also use <a href=../../man3/EVP_PKEY_todata/ >EVP_PKEY_todata(3)</a> to return all fields.</p><h5 id=deprecated-low-level-key-parameter-setters>Deprecated low-level key parameter setters<a class=headerlink href=#deprecated-low-level-key-parameter-setters title="Permanent link">&para;</a></h5><p>Functions that access low-level objects directly such as <a href=../../man3/RSA_get0_key/ >RSA_set0_crt_params(3)</a> are now deprecated. Applications should use <a href=../../man3/EVP_PKEY_fromdata/ >EVP_PKEY_fromdata(3)</a> to create new keys from user provided key data. Keys should be immutable once they are created, so if required the user may use <a href=../../man3/EVP_PKEY_todata/ >EVP_PKEY_todata(3)</a>, <a href=../../man3/OSSL_PARAM_dup/ >OSSL_PARAM_merge(3)</a>, and <a href=../../man3/EVP_PKEY_fromdata/ >EVP_PKEY_fromdata(3)</a> to create a modified key. See <a href=../EVP_PKEY-DH/ >&quot;Examples&quot; in EVP_PKEY-DH(7)</a> for more information. See <a href=#deprecated-low-level-key-generation-functions>&quot;Deprecated low-level key generation functions&quot;</a> for information on generating a key using parameters.</p><h5 id=deprecated-low-level-object-creation>Deprecated low-level object creation<a class=headerlink href=#deprecated-low-level-object-creation title="Permanent link">&para;</a></h5><p>Low-level objects were created using methods such as <a href=../../man3/RSA_new/ >RSA_new(3)</a>, <a href=../../man3/RSA_up_ref>RSA_up_ref(3)</a> and <a href=../../man3/RSA_new/ >RSA_free(3)</a>. Applications should instead use the high-level EVP_PKEY APIs, e.g. <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_new(3)</a>, <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_up_ref(3)</a> and <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_free(3)</a>. See also <a href=../../man3/EVP_PKEY_CTX_new/ >EVP_PKEY_CTX_new_from_name(3)</a> and <a href=../../man3/EVP_PKEY_CTX_new/ >EVP_PKEY_CTX_new_from_pkey(3)</a>.</p><p>EVP_PKEYs may be created in a variety of ways: See also <a href=#deprecated-low-level-key-generation-functions>&quot;Deprecated low-level key generation functions&quot;</a>, <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a> and <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a>.</p><h5 id=deprecated-low-level-encryption-functions>Deprecated low-level encryption functions<a class=headerlink href=#deprecated-low-level-encryption-functions title="Permanent link">&para;</a></h5><p>Low-level encryption functions such as <a href=../../man3/AES_encrypt>AES_encrypt(3)</a> and <a href=../../man3/AES_decrypt>AES_decrypt(3)</a> have been informally discouraged from use for a long time. Applications should instead use the high level EVP APIs <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptInit_ex(3)</a>, <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptUpdate(3)</a>, and <a href=../../man3/EVP_EncryptInit/ >EVP_EncryptFinal_ex(3)</a> or <a href=../../man3/EVP_EncryptInit/ >EVP_DecryptInit_ex(3)</a>, <a href=../../man3/EVP_EncryptInit/ >EVP_DecryptUpdate(3)</a> and <a href=../../man3/EVP_EncryptInit/ >EVP_DecryptFinal_ex(3)</a>.</p><h5 id=deprecated-low-level-digest-functions>Deprecated low-level digest functions<a class=headerlink href=#deprecated-low-level-digest-functions title="Permanent link">&para;</a></h5><p>Use of low-level digest functions such as <a href=../../man3/SHA256_Init/ >SHA1_Init(3)</a> have been informally discouraged from use for a long time. Applications should instead use the the high level EVP APIs <a href=../../man3/EVP_DigestInit/ >EVP_DigestInit_ex(3)</a>, <a href=../../man3/EVP_DigestInit/ >EVP_DigestUpdate(3)</a> and <a href=../../man3/EVP_DigestInit/ >EVP_DigestFinal_ex(3)</a>, or the quick one-shot <a href=../../man3/EVP_DigestInit/ >EVP_Q_digest(3)</a>.</p><p>Note that the functions <a href=../../man3/SHA256_Init/ >SHA1(3)</a>, <a href=../../man3/SHA256_Init/ >SHA224(3)</a>, <a href=../../man3/SHA256_Init/ >SHA256(3)</a>, <a href=../../man3/SHA256_Init/ >SHA384(3)</a> and <a href=../../man3/SHA256_Init/ >SHA512(3)</a> have changed to macros that use <a href=../../man3/EVP_DigestInit/ >EVP_Q_digest(3)</a>.</p><h5 id=deprecated-low-level-signing-functions>Deprecated low-level signing functions<a class=headerlink href=#deprecated-low-level-signing-functions title="Permanent link">&para;</a></h5><p>Use of low-level signing functions such as <a href=../../man3/DSA_sign/ >DSA_sign(3)</a> have been informally discouraged for a long time. Instead applications should use <a href=../../man3/EVP_DigestSignInit/ >EVP_DigestSign(3)</a> and <a href=../../man3/EVP_DigestVerifyInit/ >EVP_DigestVerify(3)</a>. See also <a href=../EVP_SIGNATURE-RSA/ >EVP_SIGNATURE-RSA(7)</a>, <a href=../EVP_SIGNATURE-DSA/ >EVP_SIGNATURE-DSA(7)</a>, <a href=../EVP_SIGNATURE-ECDSA/ >EVP_SIGNATURE-ECDSA(7)</a> and <a href=../EVP_SIGNATURE-ED25519/ >EVP_SIGNATURE-ED25519(7)</a>.</p><h5 id=deprecated-low-level-mac-functions>Deprecated low-level MAC functions<a class=headerlink href=#deprecated-low-level-mac-functions title="Permanent link">&para;</a></h5><p>Low-level mac functions such as <a href=../../man3/CMAC_Init>CMAC_Init(3)</a> are deprecated. Applications should instead use the new <a href=../../man3/EVP_MAC/ >EVP_MAC(3)</a> interface, using <a href=../../man3/EVP_MAC/ >EVP_MAC_CTX_new(3)</a>, <a href=../../man3/EVP_MAC/ >EVP_MAC_CTX_free(3)</a>, <a href=../../man3/EVP_MAC/ >EVP_MAC_init(3)</a>, <a href=../../man3/EVP_MAC/ >EVP_MAC_update(3)</a> and <a href=../../man3/EVP_MAC/ >EVP_MAC_final(3)</a> or the single-shot MAC function <a href=../../man3/EVP_MAC/ >EVP_Q_mac(3)</a>. See <a href=../../man3/EVP_MAC/ >EVP_MAC(3)</a>, <a href=../EVP_MAC-HMAC/ >EVP_MAC-HMAC(7)</a>, <a href=../EVP_MAC-CMAC/ >EVP_MAC-CMAC(7)</a>, <a href=../EVP_MAC-GMAC/ >EVP_MAC-GMAC(7)</a>, <a href=../EVP_MAC-KMAC/ >EVP_MAC-KMAC(7)</a>, <a href=../EVP_MAC-BLAKE2/ >EVP_MAC-BLAKE2(7)</a>, <a href=../EVP_MAC-Poly1305/ >EVP_MAC-Poly1305(7)</a> and <a href=../EVP_MAC-Siphash/ >EVP_MAC-Siphash(7)</a> for additional information.</p><p>Note that the one-shot method HMAC() is still available for compatibility purposes, but this can also be replaced by using EVP_Q_MAC if a library context is required.</p><h5 id=deprecated-low-level-validation-functions>Deprecated low-level validation functions<a class=headerlink href=#deprecated-low-level-validation-functions title="Permanent link">&para;</a></h5><p>Low-level validation functions such as <a href=../../man3/DH_generate_parameters/ >DH_check(3)</a> have been informally discouraged from use for a long time. Applications should instead use the high-level EVP_PKEY APIs such as <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_check(3)</a>, <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_param_check(3)</a>, <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_param_check_quick(3)</a>, <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_public_check(3)</a>, <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_public_check_quick(3)</a>, <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_private_check(3)</a>, and <a href=../../man3/EVP_PKEY_check/ >EVP_PKEY_pairwise_check(3)</a>.</p><h5 id=deprecated-low-level-key-exchange-functions>Deprecated low-level key exchange functions<a class=headerlink href=#deprecated-low-level-key-exchange-functions title="Permanent link">&para;</a></h5><p>Many low-level functions have been informally discouraged from use for a long time. Applications should instead use <a href=../../man3/EVP_PKEY_derive/ >EVP_PKEY_derive(3)</a>. See <a href=../EVP_KEYEXCH-DH/ >EVP_KEYEXCH-DH(7)</a>, <a href=../EVP_KEYEXCH-ECDH/ >EVP_KEYEXCH-ECDH(7)</a> and <a href=../EVP_KEYEXCH-X25519/ >EVP_KEYEXCH-X25519(7)</a>.</p><h5 id=deprecated-low-level-key-generation-functions>Deprecated low-level key generation functions<a class=headerlink href=#deprecated-low-level-key-generation-functions title="Permanent link">&para;</a></h5><p>Many low-level functions have been informally discouraged from use for a long time. Applications should instead use <a href=../../man3/EVP_PKEY_keygen/ >EVP_PKEY_keygen_init(3)</a> and <a href=../../man3/EVP_PKEY_keygen/ >EVP_PKEY_generate(3)</a> as described in <a href=../EVP_PKEY-DSA/ >EVP_PKEY-DSA(7)</a>, <a href=../EVP_PKEY-DH/ >EVP_PKEY-DH(7)</a>, <a href=../EVP_PKEY-RSA/ >EVP_PKEY-RSA(7)</a>, <a href=../EVP_PKEY-EC/ >EVP_PKEY-EC(7)</a> and <a href=../EVP_PKEY-X25519/ >EVP_PKEY-X25519(7)</a>. The &#39;quick&#39; one-shot function <a href=../../man3/EVP_PKEY_keygen/ >EVP_PKEY_Q_keygen(3)</a> and macros for the most common cases: &lt;EVP_RSA_gen(3)&gt; and <a href=../../man3/EC_KEY_new/ >EVP_EC_gen(3)</a> may also be used.</p><h5 id=deprecated-low-level-key-reading-and-writing-functions>Deprecated low-level key reading and writing functions<a class=headerlink href=#deprecated-low-level-key-reading-and-writing-functions title="Permanent link">&para;</a></h5><p>Use of low-level objects (such as DSA) has been informally discouraged from use for a long time. Functions to read and write these low-level objects (such as PEM_read_DSA_PUBKEY()) should be replaced. Applications should instead use <a href=../../man3/OSSL_ENCODER_to_bio/ >OSSL_ENCODER_to_bio(3)</a> and <a href=../../man3/OSSL_DECODER_from_bio/ >OSSL_DECODER_from_bio(3)</a>.</p><h5 id=deprecated-low-level-key-printing-functions>Deprecated low-level key printing functions<a class=headerlink href=#deprecated-low-level-key-printing-functions title="Permanent link">&para;</a></h5><p>Use of low-level objects (such as DSA) has been informally discouraged from use for a long time. Functions to print these low-level objects such as DSA_print() should be replaced with the equivalent EVP_PKEY functions. Application should use one of <a href=../../man3/EVP_PKEY_print_private/ >EVP_PKEY_print_public(3)</a>, <a href=../../man3/EVP_PKEY_print_private/ >EVP_PKEY_print_private(3)</a>, <a href=../../man3/EVP_PKEY_print_private/ >EVP_PKEY_print_params(3)</a>, <a href=../../man3/EVP_PKEY_print_private/ >EVP_PKEY_print_public_fp(3)</a>, <a href=../../man3/EVP_PKEY_print_private/ >EVP_PKEY_print_private_fp(3)</a> or <a href=../../man3/EVP_PKEY_print_private/ >EVP_PKEY_print_params_fp(3)</a>. Note that internally these use <a href=../../man3/OSSL_ENCODER_to_bio/ >OSSL_ENCODER_to_bio(3)</a> and <a href=../../man3/OSSL_DECODER_from_bio/ >OSSL_DECODER_from_bio(3)</a>.</p><h4 id=deprecated-function-mappings>Deprecated function mappings<a class=headerlink href=#deprecated-function-mappings title="Permanent link">&para;</a></h4><p>The following functions have been deprecated in 3.0.</p><ul><li><p>AES_bi_ige_encrypt() and AES_ige_encrypt()</p><p>There is no replacement for the IGE functions. New code should not use these modes. These undocumented functions were never integrated into the EVP layer. They implemented the AES Infinite Garble Extension (IGE) mode and AES Bi-directional IGE mode. These modes were never formally standardised and usage of these functions is believed to be very small. In particular AES_bi_ige_encrypt() has a known bug. It accepts 2 AES keys, but only one is ever used. The security implications are believed to be minimal, but this issue was never fixed for backwards compatibility reasons.</p></li><li><p>AES_encrypt(), AES_decrypt(), AES_set_encrypt_key(), AES_set_decrypt_key(), AES_cbc_encrypt(), AES_cfb128_encrypt(), AES_cfb1_encrypt(), AES_cfb8_encrypt(), AES_ecb_encrypt(), AES_ofb128_encrypt()</p></li><li><p>AES_unwrap_key(), AES_wrap_key()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a></p></li><li><p>AES_options()</p><p>There is no replacement. It returned a string indicating if the AES code was unrolled.</p></li><li><p>ASN1_digest(), ASN1_sign(), ASN1_verify()</p><p>There are no replacements. These old functions are not used, and could be disabled with the macro NO_ASN1_OLD since OpenSSL 0.9.7.</p></li><li><p>ASN1_STRING_length_set()</p><p>Use <a href=../../man3/ASN1_STRING_length/ >ASN1_STRING_set(3)</a> or <a href=../../man3/ASN1_STRING_set0>ASN1_STRING_set0(3)</a> instead. This was a potentially unsafe function that could change the bounds of a previously passed in pointer.</p></li><li><p>BF_encrypt(), BF_decrypt(), BF_set_key(), BF_cbc_encrypt(), BF_cfb64_encrypt(), BF_ecb_encrypt(), BF_ofb64_encrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. The Blowfish algorithm has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>BF_options()</p><p>There is no replacement. This option returned a constant string.</p></li><li><p>BIO_get_callback(), BIO_set_callback(), BIO_debug_callback()</p><p>Use the respective non-deprecated _ex() functions.</p></li><li><p>BN_is_prime_ex(), BN_is_prime_fasttest_ex()</p><p>Use <a href=../../man3/BN_generate_prime/ >BN_check_prime(3)</a> which avoids possible misuse and always uses at least 64 rounds of the Miller-Rabin primality test.</p></li><li><p>BN_pseudo_rand(), BN_pseudo_rand_range()</p><p>Use <a href=../../man3/BN_rand/ >BN_rand(3)</a> and <a href=../../man3/BN_rand/ >BN_rand_range(3)</a>.</p></li><li><p>BN_X931_derive_prime_ex(), BN_X931_generate_prime_ex(), BN_X931_generate_Xpq()</p><p>There are no replacements for these low-level functions. They were used internally by RSA_X931_derive_ex() and RSA_X931_generate_key_ex() which are also deprecated. Use <a href=../../man3/EVP_PKEY_keygen/ >EVP_PKEY_keygen(3)</a> instead.</p></li><li><p>Camellia_encrypt(), Camellia_decrypt(), Camellia_set_key(), Camellia_cbc_encrypt(), Camellia_cfb128_encrypt(), Camellia_cfb1_encrypt(), Camellia_cfb8_encrypt(), Camellia_ctr128_encrypt(), Camellia_ecb_encrypt(), Camellia_ofb128_encrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>.</p></li><li><p>CAST_encrypt(), CAST_decrypt(), CAST_set_key(), CAST_cbc_encrypt(), CAST_cfb64_encrypt(), CAST_ecb_encrypt(), CAST_ofb64_encrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. The CAST algorithm has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>CMAC_CTX_new(), CMAC_CTX_cleanup(), CMAC_CTX_copy(), CMAC_CTX_free(), CMAC_CTX_get0_cipher_ctx()</p><p>See <a href=#deprecated-low-level-mac-functions>&quot;Deprecated low-level MAC functions&quot;</a>.</p></li><li><p>CMAC_Init(), CMAC_Update(), CMAC_Final(), CMAC_resume()</p><p>See <a href=#deprecated-low-level-mac-functions>&quot;Deprecated low-level MAC functions&quot;</a>.</p></li><li><p>CRYPTO_mem_ctrl(), CRYPTO_mem_debug_free(), CRYPTO_mem_debug_malloc(), CRYPTO_mem_debug_pop(), CRYPTO_mem_debug_push(), CRYPTO_mem_debug_realloc(), CRYPTO_mem_leaks(), CRYPTO_mem_leaks_cb(), CRYPTO_mem_leaks_fp(), CRYPTO_set_mem_debug()</p><p>Memory-leak checking has been deprecated in favor of more modern development tools, such as compiler memory and leak sanitizers or Valgrind.</p></li><li><p>CRYPTO_cts128_encrypt_block(), CRYPTO_cts128_encrypt(), CRYPTO_cts128_decrypt_block(), CRYPTO_cts128_decrypt(), CRYPTO_nistcts128_encrypt_block(), CRYPTO_nistcts128_encrypt(), CRYPTO_nistcts128_decrypt_block(), CRYPTO_nistcts128_decrypt()</p><p>Use the higher level functions EVP_CipherInit_ex2(), EVP_CipherUpdate() and EVP_CipherFinal_ex() instead. See the &quot;cts_mode&quot; parameter in <a href=../../man3/EVP_EncryptInit/ >&quot;Gettable and Settable EVP_CIPHER_CTX parameters&quot; in EVP_EncryptInit(3)</a>. See <a href=../../man3/EVP_EncryptInit/ >&quot;EXAMPLES&quot; in EVP_EncryptInit(3)</a> for a AES-256-CBC-CTS example.</p></li><li><p>d2i_DHparams(), d2i_DHxparams(), d2i_DSAparams(), d2i_DSAPrivateKey(), d2i_DSAPrivateKey_bio(), d2i_DSAPrivateKey_fp(), d2i_DSA_PUBKEY(), d2i_DSA_PUBKEY_bio(), d2i_DSA_PUBKEY_fp(), d2i_DSAPublicKey(), d2i_ECParameters(), d2i_ECPrivateKey(), d2i_ECPrivateKey_bio(), d2i_ECPrivateKey_fp(), d2i_EC_PUBKEY(), d2i_EC_PUBKEY_bio(), d2i_EC_PUBKEY_fp(), d2i_RSAPrivateKey(), d2i_RSAPrivateKey_bio(), d2i_RSAPrivateKey_fp(), d2i_RSA_PUBKEY(), d2i_RSA_PUBKEY_bio(), d2i_RSA_PUBKEY_fp(), d2i_RSAPublicKey(), d2i_RSAPublicKey_bio(), d2i_RSAPublicKey_fp()</p><p>See <a href=#deprecated-i2d-and-d2i-functions-for-low-level-key-types>&quot;Deprecated i2d and d2i functions for low-level key types&quot;</a></p></li><li><p>o2i_ECPublicKey()</p><p>Use <a href=../../man3/EVP_PKEY_set1_encoded_public_key/ >EVP_PKEY_set1_encoded_public_key(3)</a>. See <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a></p></li><li><p>DES_crypt(), DES_fcrypt(), DES_encrypt1(), DES_encrypt2(), DES_encrypt3(), DES_decrypt3(), DES_ede3_cbc_encrypt(), DES_ede3_cfb64_encrypt(), DES_ede3_cfb_encrypt(),DES_ede3_ofb64_encrypt(), DES_ecb_encrypt(), DES_ecb3_encrypt(), DES_ofb64_encrypt(), DES_ofb_encrypt(), DES_cfb64_encrypt DES_cfb_encrypt(), DES_cbc_encrypt(), DES_ncbc_encrypt(), DES_pcbc_encrypt(), DES_xcbc_encrypt(), DES_cbc_cksum(), DES_quad_cksum(), DES_check_key_parity(), DES_is_weak_key(), DES_key_sched(), DES_options(), DES_random_key(), DES_set_key(), DES_set_key_checked(), DES_set_key_unchecked(), DES_set_odd_parity(), DES_string_to_2keys(), DES_string_to_key()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. Algorithms for &quot;DESX-CBC&quot;, &quot;DES-ECB&quot;, &quot;DES-CBC&quot;, &quot;DES-OFB&quot;, &quot;DES-CFB&quot;, &quot;DES-CFB1&quot; and &quot;DES-CFB8&quot; have been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>DH_bits(), DH_security_bits(), DH_size()</p><p>Use <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_bits(3)</a>, <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_security_bits(3)</a> and <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_size(3)</a>.</p></li><li><p>DH_check(), DH_check_ex(), DH_check_params(), DH_check_params_ex(), DH_check_pub_key(), DH_check_pub_key_ex()</p><p>See <a href=#deprecated-low-level-validation-functions>&quot;Deprecated low-level validation functions&quot;</a></p></li><li><p>DH_clear_flags(), DH_test_flags(), DH_set_flags()</p><p>The <strong>DH_FLAG_CACHE_MONT_P</strong> flag has been deprecated without replacement. The <strong>DH_FLAG_TYPE_DH</strong> and <strong>DH_FLAG_TYPE_DHX</strong> have been deprecated. Use EVP_PKEY_is_a() to determine the type of a key. There is no replacement for setting these flags.</p></li><li><p>DH_compute_key() DH_compute_key_padded()</p><p>See <a href=#deprecated-low-level-key-exchange-functions>&quot;Deprecated low-level key exchange functions&quot;</a>.</p></li><li><p>DH_new(), DH_new_by_nid(), DH_free(), DH_up_ref()</p><p>See <a href=#deprecated-low-level-object-creation>&quot;Deprecated low-level object creation&quot;</a></p></li><li><p>DH_generate_key(), DH_generate_parameters_ex()</p><p>See <a href=#deprecated-low-level-key-generation-functions>&quot;Deprecated low-level key generation functions&quot;</a>.</p></li><li><p>DH_get0_pqg(), DH_get0_p(), DH_get0_q(), DH_get0_g(), DH_get0_key(), DH_get0_priv_key(), DH_get0_pub_key(), DH_get_length(), DH_get_nid()</p><p>See <a href=#deprecated-low-level-key-parameter-getters>&quot;Deprecated low-level key parameter getters&quot;</a></p></li><li><p>DH_get_1024_160(), DH_get_2048_224(), DH_get_2048_256()</p><p>Applications should instead set the <strong>OSSL_PKEY_PARAM_GROUP_NAME</strong> as specified in <a href=../EVP_PKEY-DH/ >&quot;DH parameters&quot; in EVP_PKEY-DH(7)</a>) to one of &quot;dh_1024_160&quot;, &quot;dh_2048_224&quot; or &quot;dh_2048_256&quot; when generating a DH key.</p></li><li><p>DH_KDF_X9_42()</p><p>Applications should use <a href=../../man3/EVP_PKEY_CTX_ctrl/ >EVP_PKEY_CTX_set_dh_kdf_type(3)</a> instead.</p></li><li><p>DH_get_default_method(), DH_get0_engine(), DH_meth_*(), DH_new_method(), DH_OpenSSL(), DH_get_ex_data(), DH_set_default_method(), DH_set_method(), DH_set_ex_data()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a></p></li><li><p>DHparams_print(), DHparams_print_fp()</p><p>See <a href=#deprecated-low-level-key-printing-functions>&quot;Deprecated low-level key printing functions&quot;</a></p></li><li><p>DH_set0_key(), DH_set0_pqg(), DH_set_length()</p><p>See <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a></p></li><li><p>DSA_bits(), DSA_security_bits(), DSA_size()</p><p>Use <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_bits(3)</a>, <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_security_bits(3)</a> and <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_size(3)</a>.</p></li><li><p>DHparams_dup(), DSA_dup_DH()</p><p>There is no direct replacement. Applications may use <a href=../../man3/EVP_PKEY_copy_parameters/ >EVP_PKEY_copy_parameters(3)</a> and <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_dup(3)</a> instead.</p></li><li><p>DSA_generate_key(), DSA_generate_parameters_ex()</p><p>See <a href=#deprecated-low-level-key-generation-functions>&quot;Deprecated low-level key generation functions&quot;</a>.</p></li><li><p>DSA_get0_engine(), DSA_get_default_method(), DSA_get_ex_data(), DSA_get_method(), DSA_meth_*(), DSA_new_method(), DSA_OpenSSL(), DSA_set_default_method(), DSA_set_ex_data(), DSA_set_method()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p>DSA_get0_p(), DSA_get0_q(), DSA_get0_g(), DSA_get0_pqg(), DSA_get0_key(), DSA_get0_priv_key(), DSA_get0_pub_key()</p><p>See <a href=#deprecated-low-level-key-parameter-getters>&quot;Deprecated low-level key parameter getters&quot;</a>.</p></li><li><p>DSA_new(), DSA_free(), DSA_up_ref()</p><p>See <a href=#deprecated-low-level-object-creation>&quot;Deprecated low-level object creation&quot;</a></p></li><li><p>DSAparams_dup()</p><p>There is no direct replacement. Applications may use <a href=../../man3/EVP_PKEY_copy_parameters/ >EVP_PKEY_copy_parameters(3)</a> and <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_dup(3)</a> instead.</p></li><li><p>DSAparams_print(), DSAparams_print_fp(), DSA_print(), DSA_print_fp()</p><p>See <a href=#deprecated-low-level-key-printing-functions>&quot;Deprecated low-level key printing functions&quot;</a></p></li><li><p>DSA_set0_key(), DSA_set0_pqg()</p><p>See <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a></p></li><li><p>DSA_set_flags(), DSA_clear_flags(), DSA_test_flags()</p><p>The <strong>DSA_FLAG_CACHE_MONT_P</strong> flag has been deprecated without replacement.</p></li><li><p>DSA_sign(), DSA_do_sign(), DSA_sign_setup(), DSA_verify(), DSA_do_verify()</p><p>See <a href=#deprecated-low-level-signing-functions>&quot;Deprecated low-level signing functions&quot;</a>.</p></li><li><p>ECDH_compute_key()</p><p>See <a href=#deprecated-low-level-key-exchange-functions>&quot;Deprecated low-level key exchange functions&quot;</a>.</p></li><li><p>ECDH_KDF_X9_62()</p><p>Applications may either set this using the helper function <a href=../../man3/EVP_PKEY_CTX_ctrl/ >EVP_PKEY_CTX_set_ecdh_kdf_type(3)</a> or by setting an <a href=../../man3/OSSL_PARAM/ >OSSL_PARAM(3)</a> using the &quot;kdf-type&quot; as shown in <a href=../EVP_KEYEXCH-ECDH/ >&quot;EXAMPLES&quot; in EVP_KEYEXCH-ECDH(7)</a></p></li><li><p>ECDSA_sign(), ECDSA_sign_ex(), ECDSA_sign_setup(), ECDSA_do_sign(), ECDSA_do_sign_ex(), ECDSA_verify(), ECDSA_do_verify()</p><p>See <a href=#deprecated-low-level-signing-functions>&quot;Deprecated low-level signing functions&quot;</a>.</p></li><li><p>ECDSA_size()</p><p>Applications should use <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_size(3)</a>.</p></li><li><p>EC_GF2m_simple_method(), EC_GFp_mont_method(), EC_GFp_nist_method(), EC_GFp_nistp224_method(), EC_GFp_nistp256_method(), EC_GFp_nistp521_method(), EC_GFp_simple_method()</p><p>There are no replacements for these functions. Applications should rely on the library automatically assigning a suitable method internally when an EC_GROUP is constructed.</p></li><li><p>EC_GROUP_clear_free()</p><p>Use <a href=../../man3/EC_GROUP_new/ >EC_GROUP_free(3)</a> instead.</p></li><li><p>EC_GROUP_get_curve_GF2m(), EC_GROUP_get_curve_GFp(), EC_GROUP_set_curve_GF2m(), EC_GROUP_set_curve_GFp()</p><p>Applications should use <a href=../../man3/EC_GROUP_new/ >EC_GROUP_get_curve(3)</a> and <a href=../../man3/EC_GROUP_new/ >EC_GROUP_set_curve(3)</a>.</p></li><li><p>EC_GROUP_have_precompute_mult(), EC_GROUP_precompute_mult(), EC_KEY_precompute_mult()</p><p>These functions are not widely used. Applications should instead switch to named curves which OpenSSL has hardcoded lookup tables for.</p></li><li><p>EC_GROUP_new(), EC_GROUP_method_of(), EC_POINT_method_of()</p><p>EC_METHOD is now an internal-only concept and a suitable EC_METHOD is assigned internally without application intervention. Users of EC_GROUP_new() should switch to a different suitable constructor.</p></li><li><p>EC_KEY_can_sign()</p><p>Applications should use <a href=../../man3/EVP_PKEY_is_a/ >EVP_PKEY_can_sign(3)</a> instead.</p></li><li><p>EC_KEY_check_key()</p><p>See <a href=#deprecated-low-level-validation-functions>&quot;Deprecated low-level validation functions&quot;</a></p></li><li><p>EC_KEY_set_flags(), EC_KEY_get_flags(), EC_KEY_clear_flags()</p><p>See <a href=../EVP_PKEY-EC/ >&quot;Common EC parameters&quot; in EVP_PKEY-EC(7)</a> which handles flags as separate parameters for <strong>OSSL_PKEY_PARAM_EC_POINT_CONVERSION_FORMAT</strong>, <strong>OSSL_PKEY_PARAM_EC_GROUP_CHECK_TYPE</strong>, <strong>OSSL_PKEY_PARAM_EC_ENCODING</strong>, <strong>OSSL_PKEY_PARAM_USE_COFACTOR_ECDH</strong> and <strong>OSSL_PKEY_PARAM_EC_INCLUDE_PUBLIC</strong>. See also <a href=../EVP_PKEY-EC/ >&quot;EXAMPLES&quot; in EVP_PKEY-EC(7)</a></p></li><li><p>EC_KEY_dup(), EC_KEY_copy()</p><p>There is no direct replacement. Applications may use <a href=../../man3/EVP_PKEY_copy_parameters/ >EVP_PKEY_copy_parameters(3)</a> and <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_dup(3)</a> instead.</p></li><li><p>EC_KEY_decoded_from_explicit_params()</p><p>There is no replacement.</p></li><li><p>EC_KEY_generate_key()</p><p>See <a href=#deprecated-low-level-key-generation-functions>&quot;Deprecated low-level key generation functions&quot;</a>.</p></li><li><p>EC_KEY_get0_group(), EC_KEY_get0_private_key(), EC_KEY_get0_public_key(), EC_KEY_get_conv_form(), EC_KEY_get_enc_flags()</p><p>See <a href=#deprecated-low-level-key-parameter-getters>&quot;Deprecated low-level key parameter getters&quot;</a>.</p></li><li><p>EC_KEY_get0_engine(), EC_KEY_get_default_method(), EC_KEY_get_method(), EC_KEY_new_method(), EC_KEY_get_ex_data(), EC_KEY_OpenSSL(), EC_KEY_set_ex_data(), EC_KEY_set_default_method(), EC_KEY_METHOD_*(), EC_KEY_set_method()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a></p></li><li><p>EC_METHOD_get_field_type()</p><p>Use <a href=../../man3/EC_GROUP_copy/ >EC_GROUP_get_field_type(3)</a> instead. See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a></p></li><li><p>EC_KEY_key2buf(), EC_KEY_oct2key(), EC_KEY_oct2priv(), EC_KEY_priv2buf(), EC_KEY_priv2oct()</p><p>There are no replacements for these.</p></li><li><p>EC_KEY_new(), EC_KEY_new_by_curve_name(), EC_KEY_free(), EC_KEY_up_ref()</p><p>See <a href=#deprecated-low-level-object-creation>&quot;Deprecated low-level object creation&quot;</a></p></li><li><p>EC_KEY_print(), EC_KEY_print_fp()</p><p>See <a href=#deprecated-low-level-key-printing-functions>&quot;Deprecated low-level key printing functions&quot;</a></p></li><li><p>EC_KEY_set_asn1_flag(), EC_KEY_set_conv_form(), EC_KEY_set_enc_flags()</p><p>See <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a>.</p></li><li><p>EC_KEY_set_group(), EC_KEY_set_private_key(), EC_KEY_set_public_key(), EC_KEY_set_public_key_affine_coordinates()</p><p>See <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a>.</p></li><li><p>ECParameters_print(), ECParameters_print_fp(), ECPKParameters_print(), ECPKParameters_print_fp()</p><p>See <a href=#deprecated-low-level-key-printing-functions>&quot;Deprecated low-level key printing functions&quot;</a></p></li><li><p>EC_POINT_bn2point(), EC_POINT_point2bn()</p><p>These functions were not particularly useful, since EC point serialization formats are not individual big-endian integers.</p></li><li><p>EC_POINT_get_affine_coordinates_GF2m(), EC_POINT_get_affine_coordinates_GFp(), EC_POINT_set_affine_coordinates_GF2m(), EC_POINT_set_affine_coordinates_GFp()</p><p>Applications should use <a href=../../man3/EC_POINT_new/ >EC_POINT_get_affine_coordinates(3)</a> and <a href=../../man3/EC_POINT_new/ >EC_POINT_set_affine_coordinates(3)</a> instead.</p></li><li><p>EC_POINT_get_Jprojective_coordinates_GFp(), EC_POINT_set_Jprojective_coordinates_GFp()</p><p>These functions are not widely used. Applications should instead use the <a href=../../man3/EC_POINT_new/ >EC_POINT_set_affine_coordinates(3)</a> and <a href=../../man3/EC_POINT_new/ >EC_POINT_get_affine_coordinates(3)</a> functions.</p></li><li><p>EC_POINT_make_affine(), EC_POINTs_make_affine()</p><p>There is no replacement. These functions were not widely used, and OpenSSL automatically performs this conversion when needed.</p></li><li><p>EC_POINT_set_compressed_coordinates_GF2m(), EC_POINT_set_compressed_coordinates_GFp()</p><p>Applications should use <a href=../../man3/EC_POINT_new/ >EC_POINT_set_compressed_coordinates(3)</a> instead.</p></li><li><p>EC_POINTs_mul()</p><p>This function is not widely used. Applications should instead use the <a href=../../man3/EC_POINT_add/ >EC_POINT_mul(3)</a> function.</p></li><li><p><strong>ENGINE_*()</strong></p><p>All engine functions are deprecated. An engine should be rewritten as a provider. See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p><strong>ERR_load_*()</strong>, ERR_func_error_string(), ERR_get_error_line(), ERR_get_error_line_data(), ERR_get_state()</p><p>OpenSSL now loads error strings automatically so these functions are not needed.</p></li><li><p>ERR_peek_error_line_data(), ERR_peek_last_error_line_data()</p><p>The new functions are <a href=../../man3/ERR_get_error/ >ERR_peek_error_func(3)</a>, <a href=../../man3/ERR_get_error/ >ERR_peek_last_error_func(3)</a>, <a href=../../man3/ERR_get_error/ >ERR_peek_error_data(3)</a>, <a href=../../man3/ERR_get_error/ >ERR_peek_last_error_data(3)</a>, <a href=../../man3/ERR_get_error/ >ERR_get_error_all(3)</a>, <a href=../../man3/ERR_get_error/ >ERR_peek_error_all(3)</a> and <a href=../../man3/ERR_get_error/ >ERR_peek_last_error_all(3)</a>. Applications should use <a href=../../man3/ERR_get_error/ >ERR_get_error_all(3)</a>, or pick information with ERR_peek functions and finish off with getting the error code by using <a href=../../man3/ERR_get_error/ >ERR_get_error(3)</a>.</p></li><li><p>EVP_CIPHER_CTX_iv(), EVP_CIPHER_CTX_iv_noconst(), EVP_CIPHER_CTX_original_iv()</p><p>Applications should instead use <a href=../../man3/EVP_CIPHER_CTX_get_original_iv/ >EVP_CIPHER_CTX_get_updated_iv(3)</a>, <a href=../../man3/EVP_CIPHER_CTX_get_original_iv/ >EVP_CIPHER_CTX_get_updated_iv(3)</a> and <a href=../../man3/EVP_CIPHER_CTX_get_original_iv/ >EVP_CIPHER_CTX_get_original_iv(3)</a> respectively. See <a href=../../man3/EVP_CIPHER_CTX_get_original_iv/ >EVP_CIPHER_CTX_get_original_iv(3)</a> for further information.</p></li><li><p><strong>EVP_CIPHER_meth_*()</strong>, EVP_MD_CTX_set_update_fn(), EVP_MD_CTX_update_fn(), <strong>EVP_MD_meth_*()</strong></p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p>EVP_PKEY_CTRL_PKCS7_ENCRYPT(), EVP_PKEY_CTRL_PKCS7_DECRYPT(), EVP_PKEY_CTRL_PKCS7_SIGN(), EVP_PKEY_CTRL_CMS_ENCRYPT(), EVP_PKEY_CTRL_CMS_DECRYPT(), and EVP_PKEY_CTRL_CMS_SIGN()</p><p>These control operations are not invoked by the OpenSSL library anymore and are replaced by direct checks of the key operation against the key type when the operation is initialized.</p></li><li><p>EVP_PKEY_CTX_get0_dh_kdf_ukm(), EVP_PKEY_CTX_get0_ecdh_kdf_ukm()</p><p>See the &quot;kdf-ukm&quot; item in <a href=../EVP_KEYEXCH-DH/ >&quot;DH key exchange parameters&quot; in EVP_KEYEXCH-DH(7)</a> and <a href=../EVP_KEYEXCH-ECDH/ >&quot;ECDH Key Exchange parameters&quot; in EVP_KEYEXCH-ECDH(7)</a>. These functions are obsolete and should not be required.</p></li><li><p>EVP_PKEY_CTX_set_rsa_keygen_pubexp()</p><p>Applications should use <a href=../../man3/EVP_PKEY_CTX_ctrl/ >EVP_PKEY_CTX_set1_rsa_keygen_pubexp(3)</a> instead.</p></li><li><p>EVP_PKEY_cmp(), EVP_PKEY_cmp_parameters()</p><p>Applications should use <a href=../../man3/EVP_PKEY_copy_parameters/ >EVP_PKEY_eq(3)</a> and <a href=../../man3/EVP_PKEY_copy_parameters/ >EVP_PKEY_parameters_eq(3)</a> instead. See <a href=../../man3/EVP_PKEY_copy_parameters/ >EVP_PKEY_copy_parameters(3)</a> for further details.</p></li><li><p>EVP_PKEY_encrypt_old(), EVP_PKEY_decrypt_old(),</p><p>Applications should use <a href=../../man3/EVP_PKEY_encrypt/ >EVP_PKEY_encrypt_init(3)</a> and <a href=../../man3/EVP_PKEY_encrypt/ >EVP_PKEY_encrypt(3)</a> or <a href=../../man3/EVP_PKEY_decrypt/ >EVP_PKEY_decrypt_init(3)</a> and <a href=../../man3/EVP_PKEY_decrypt/ >EVP_PKEY_decrypt(3)</a> instead.</p></li><li><p>EVP_PKEY_get0()</p><p>This function returns NULL if the key comes from a provider.</p></li><li><p>EVP_PKEY_get0_DH(), EVP_PKEY_get0_DSA(), EVP_PKEY_get0_EC_KEY(), EVP_PKEY_get0_RSA(), EVP_PKEY_get1_DH(), EVP_PKEY_get1_DSA(), EVP_PKEY_get1_EC_KEY and EVP_PKEY_get1_RSA(), EVP_PKEY_get0_hmac(), EVP_PKEY_get0_poly1305(), EVP_PKEY_get0_siphash()</p><p>See <a href=#functions-that-return-an-internal-key-should-be-treated-as-read-only>&quot;Functions that return an internal key should be treated as read only&quot;</a>.</p></li><li><p><strong>EVP_PKEY_meth_*()</strong></p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p>EVP_PKEY_new_CMAC_key()</p><p>See <a href=#deprecated-low-level-mac-functions>&quot;Deprecated low-level MAC functions&quot;</a>.</p></li><li><p>EVP_PKEY_assign(), EVP_PKEY_set1_DH(), EVP_PKEY_set1_DSA(), EVP_PKEY_set1_EC_KEY(), EVP_PKEY_set1_RSA()</p><p>See <a href=#deprecated-low-level-key-object-getters-and-setters>&quot;Deprecated low-level key object getters and setters&quot;</a></p></li><li><p>EVP_PKEY_set1_tls_encodedpoint() EVP_PKEY_get1_tls_encodedpoint()</p><p>These functions were previously used by libssl to set or get an encoded public key into/from an EVP_PKEY object. With OpenSSL 3.0 these are replaced by the more generic functions <a href=../../man3/EVP_PKEY_set1_encoded_public_key/ >EVP_PKEY_set1_encoded_public_key(3)</a> and <a href=../../man3/EVP_PKEY_set1_encoded_public_key/ >EVP_PKEY_get1_encoded_public_key(3)</a>. The old versions have been converted to deprecated macros that just call the new functions.</p></li><li><p>EVP_PKEY_set1_engine(), EVP_PKEY_get0_engine()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p>EVP_PKEY_set_alias_type()</p><p>This function has been removed. There is no replacement. See <a href=#evp_pkey_set_alias_type-method-has-been-removed>&quot;EVP_PKEY_set_alias_type() method has been removed&quot;</a></p></li><li><p>HMAC_Init_ex(), HMAC_Update(), HMAC_Final(), HMAC_size()</p><p>See <a href=#deprecated-low-level-mac-functions>&quot;Deprecated low-level MAC functions&quot;</a>.</p></li><li><p>HMAC_CTX_new(), HMAC_CTX_free(), HMAC_CTX_copy(), HMAC_CTX_reset(), HMAC_CTX_set_flags(), HMAC_CTX_get_md()</p><p>See <a href=#deprecated-low-level-mac-functions>&quot;Deprecated low-level MAC functions&quot;</a>.</p></li><li><p>i2d_DHparams(), i2d_DHxparams()</p><p>See <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a> and <a href=../../man3/d2i_RSAPrivateKey/ >&quot;Migration&quot; in d2i_RSAPrivateKey(3)</a></p></li><li><p>i2d_DSAparams(), i2d_DSAPrivateKey(), i2d_DSAPrivateKey_bio(), i2d_DSAPrivateKey_fp(), i2d_DSA_PUBKEY(), i2d_DSA_PUBKEY_bio(), i2d_DSA_PUBKEY_fp(), i2d_DSAPublicKey()</p><p>See <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a> and <a href=../../man3/d2i_RSAPrivateKey/ >&quot;Migration&quot; in d2i_RSAPrivateKey(3)</a></p></li><li><p>i2d_ECParameters(), i2d_ECPrivateKey(), i2d_ECPrivateKey_bio(), i2d_ECPrivateKey_fp(), i2d_EC_PUBKEY(), i2d_EC_PUBKEY_bio(), i2d_EC_PUBKEY_fp()</p><p>See <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a> and <a href=../../man3/d2i_RSAPrivateKey/ >&quot;Migration&quot; in d2i_RSAPrivateKey(3)</a></p></li><li><p>i2o_ECPublicKey()</p><p>Use <a href=../../man3/EVP_PKEY_set1_encoded_public_key/ >EVP_PKEY_get1_encoded_public_key(3)</a>. See <a href=#deprecated-low-level-key-parameter-getters>&quot;Deprecated low-level key parameter getters&quot;</a></p></li><li><p>i2d_RSAPrivateKey(), i2d_RSAPrivateKey_bio(), i2d_RSAPrivateKey_fp(), i2d_RSA_PUBKEY(), i2d_RSA_PUBKEY_bio(), i2d_RSA_PUBKEY_fp(), i2d_RSAPublicKey(), i2d_RSAPublicKey_bio(), i2d_RSAPublicKey_fp()</p><p>See <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a> and <a href=../../man3/d2i_RSAPrivateKey/ >&quot;Migration&quot; in d2i_RSAPrivateKey(3)</a></p></li><li><p>IDEA_encrypt(), IDEA_set_decrypt_key(), IDEA_set_encrypt_key(), IDEA_cbc_encrypt(), IDEA_cfb64_encrypt(), IDEA_ecb_encrypt(), IDEA_ofb64_encrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. IDEA has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>IDEA_options()</p><p>There is no replacement. This function returned a constant string.</p></li><li><p>MD2(), MD2_Init(), MD2_Update(), MD2_Final()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. MD2 has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>MD2_options()</p><p>There is no replacement. This function returned a constant string.</p></li><li><p>MD4(), MD4_Init(), MD4_Update(), MD4_Final(), MD4_Transform()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. MD4 has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>MDC2(), MDC2_Init(), MDC2_Update(), MDC2_Final()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. MDC2 has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>MD5(), MD5_Init(), MD5_Update(), MD5_Final(), MD5_Transform()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>.</p></li><li><p>NCONF_WIN32()</p><p>This undocumented function has no replacement. See <a href=../../man5/config/ >&quot;HISTORY&quot; in config(5)</a> for more details.</p></li><li><p>OCSP_parse_url()</p><p>Use <a href=../../man3/OSSL_HTTP_parse_url/ >OSSL_HTTP_parse_url(3)</a> instead.</p></li><li><p><strong>OCSP_REQ_CTX</strong> type and <strong>OCSP_REQ_CTX_*()</strong> functions</p><p>These methods were used to collect all necessary data to form a HTTP request, and to perform the HTTP transfer with that request. With OpenSSL 3.0, the type is <strong>OSSL_HTTP_REQ_CTX</strong>, and the deprecated functions are replaced with <strong>OSSL_HTTP_REQ_CTX_*()</strong>. See <a href=../../man3/OSSL_HTTP_REQ_CTX/ >OSSL_HTTP_REQ_CTX(3)</a> for additional details.</p></li><li><p>OPENSSL_fork_child(), OPENSSL_fork_parent(), OPENSSL_fork_prepare()</p><p>There is no replacement for these functions. These pthread fork support methods were unused by OpenSSL.</p></li><li><p>OSSL_STORE_ctrl(), OSSL_STORE_do_all_loaders(), OSSL_STORE_LOADER_get0_engine(), OSSL_STORE_LOADER_get0_scheme(), OSSL_STORE_LOADER_new(), OSSL_STORE_LOADER_set_attach(), OSSL_STORE_LOADER_set_close(), OSSL_STORE_LOADER_set_ctrl(), OSSL_STORE_LOADER_set_eof(), OSSL_STORE_LOADER_set_error(), OSSL_STORE_LOADER_set_expect(), OSSL_STORE_LOADER_set_find(), OSSL_STORE_LOADER_set_load(), OSSL_STORE_LOADER_set_open(), OSSL_STORE_LOADER_set_open_ex(), OSSL_STORE_register_loader(), OSSL_STORE_unregister_loader(), OSSL_STORE_vctrl()</p><p>These functions helped applications and engines create loaders for schemes they supported. These are all deprecated and discouraged in favour of provider implementations, see <a href=../provider-storemgmt/ >provider-storemgmt(7)</a>.</p></li><li><p>PEM_read_DHparams(), PEM_read_bio_DHparams(), PEM_read_DSAparams(), PEM_read_bio_DSAparams(), PEM_read_DSAPrivateKey(), PEM_read_DSA_PUBKEY(), PEM_read_bio_DSAPrivateKey and PEM_read_bio_DSA_PUBKEY(), PEM_read_ECPKParameters(), PEM_read_ECPrivateKey(), PEM_read_EC_PUBKEY(), PEM_read_bio_ECPKParameters(), PEM_read_bio_ECPrivateKey(), PEM_read_bio_EC_PUBKEY(), PEM_read_RSAPrivateKey(), PEM_read_RSA_PUBKEY(), PEM_read_RSAPublicKey(), PEM_read_bio_RSAPrivateKey(), PEM_read_bio_RSA_PUBKEY(), PEM_read_bio_RSAPublicKey(), PEM_write_bio_DHparams(), PEM_write_bio_DHxparams(), PEM_write_DHparams(), PEM_write_DHxparams(), PEM_write_DSAparams(), PEM_write_DSAPrivateKey(), PEM_write_DSA_PUBKEY(), PEM_write_bio_DSAparams(), PEM_write_bio_DSAPrivateKey(), PEM_write_bio_DSA_PUBKEY(), PEM_write_ECPKParameters(), PEM_write_ECPrivateKey(), PEM_write_EC_PUBKEY(), PEM_write_bio_ECPKParameters(), PEM_write_bio_ECPrivateKey(), PEM_write_bio_EC_PUBKEY(), PEM_write_RSAPrivateKey(), PEM_write_RSA_PUBKEY(), PEM_write_RSAPublicKey(), PEM_write_bio_RSAPrivateKey(), PEM_write_bio_RSA_PUBKEY(), PEM_write_bio_RSAPublicKey(),</p><p>See <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a></p></li><li><p>PKCS1_MGF1()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>.</p></li><li><p>RAND_get_rand_method(), RAND_set_rand_method(), RAND_OpenSSL(), RAND_set_rand_engine()</p><p>Applications should instead use <a href=../../man3/RAND_set_DRBG_type/ >RAND_set_DRBG_type(3)</a>, <a href=../../man3/EVP_RAND/ >EVP_RAND(3)</a> and <a href=../EVP_RAND/ >EVP_RAND(7)</a>. See <a href=../../man3/RAND_set_rand_method/ >RAND_set_rand_method(3)</a> for more details.</p></li><li><p>RC2_encrypt(), RC2_decrypt(), RC2_set_key(), RC2_cbc_encrypt(), RC2_cfb64_encrypt(), RC2_ecb_encrypt(), RC2_ofb64_encrypt(), RC4(), RC4_set_key(), RC4_options(), RC5_32_encrypt(), RC5_32_set_key(), RC5_32_decrypt(), RC5_32_cbc_encrypt(), RC5_32_cfb64_encrypt(), RC5_32_ecb_encrypt(), RC5_32_ofb64_encrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. The Algorithms &quot;RC2&quot;, &quot;RC4&quot; and &quot;RC5&quot; have been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>RIPEMD160(), RIPEMD160_Init(), RIPEMD160_Update(), RIPEMD160_Final(), RIPEMD160_Transform()</p><p>See <a href=#deprecated-low-level-digest-functions>&quot;Deprecated low-level digest functions&quot;</a>. The RIPE algorithm has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>RSA_bits(), RSA_security_bits(), RSA_size()</p><p>Use <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_bits(3)</a>, <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_security_bits(3)</a> and <a href=../../man3/EVP_PKEY_get_size/ >EVP_PKEY_get_size(3)</a>.</p></li><li><p>RSA_check_key(), RSA_check_key_ex()</p><p>See <a href=#deprecated-low-level-validation-functions>&quot;Deprecated low-level validation functions&quot;</a></p></li><li><p>RSA_clear_flags(), RSA_flags(), RSA_set_flags(), RSA_test_flags(), RSA_setup_blinding(), RSA_blinding_off(), RSA_blinding_on()</p><p>All of these RSA flags have been deprecated without replacement:</p><p><strong>RSA_FLAG_BLINDING</strong>, <strong>RSA_FLAG_CACHE_PRIVATE</strong>, <strong>RSA_FLAG_CACHE_PUBLIC</strong>, <strong>RSA_FLAG_EXT_PKEY</strong>, <strong>RSA_FLAG_NO_BLINDING</strong>, <strong>RSA_FLAG_THREAD_SAFE</strong><strong>RSA_METHOD_FLAG_NO_CHECK</strong></p></li><li><p>RSA_generate_key_ex(), RSA_generate_multi_prime_key()</p><p>See <a href=#deprecated-low-level-key-generation-functions>&quot;Deprecated low-level key generation functions&quot;</a>.</p></li><li><p>RSA_get0_engine()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a></p></li><li><p>RSA_get0_crt_params(), RSA_get0_d(), RSA_get0_dmp1(), RSA_get0_dmq1(), RSA_get0_e(), RSA_get0_factors(), RSA_get0_iqmp(), RSA_get0_key(), RSA_get0_multi_prime_crt_params(), RSA_get0_multi_prime_factors(), RSA_get0_n(), RSA_get0_p(), RSA_get0_pss_params(), RSA_get0_q(), RSA_get_multi_prime_extra_count()</p><p>See <a href=#deprecated-low-level-key-parameter-getters>&quot;Deprecated low-level key parameter getters&quot;</a></p></li><li><p>RSA_new(), RSA_free(), RSA_up_ref()</p><p>See <a href=#deprecated-low-level-object-creation>&quot;Deprecated low-level object creation&quot;</a>.</p></li><li><p>RSA_get_default_method(), RSA_get_ex_data and RSA_get_method()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p>RSA_get_version()</p><p>There is no replacement.</p></li><li><p><strong>RSA_meth_*()</strong>, RSA_new_method(), RSA_null_method and RSA_PKCS1_OpenSSL()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a>.</p></li><li><p><strong>RSA_padding_add_*()</strong>, <strong>RSA_padding_check_*()</strong></p><p>See <a href=#deprecated-low-level-signing-functions>&quot;Deprecated low-level signing functions&quot;</a> and <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>.</p></li><li><p>RSA_print(), RSA_print_fp()</p><p>See <a href=#deprecated-low-level-key-printing-functions>&quot;Deprecated low-level key printing functions&quot;</a></p></li><li><p>RSA_public_encrypt(), RSA_private_decrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a></p></li><li><p>RSA_private_encrypt(), RSA_public_decrypt()</p><p>This is equivalent to doing sign and verify recover operations (with a padding mode of none). See <a href=#deprecated-low-level-signing-functions>&quot;Deprecated low-level signing functions&quot;</a>.</p></li><li><p>RSAPrivateKey_dup(), RSAPublicKey_dup()</p><p>There is no direct replacement. Applications may use <a href=../../man3/EVP_PKEY_new/ >EVP_PKEY_dup(3)</a>.</p></li><li><p>RSAPublicKey_it(), RSAPrivateKey_it()</p><p>See <a href=#deprecated-low-level-key-reading-and-writing-functions>&quot;Deprecated low-level key reading and writing functions&quot;</a></p></li><li><p>RSA_set0_crt_params(), RSA_set0_factors(), RSA_set0_key(), RSA_set0_multi_prime_params()</p><p>See <a href=#deprecated-low-level-key-parameter-setters>&quot;Deprecated low-level key parameter setters&quot;</a>.</p></li><li><p>RSA_set_default_method(), RSA_set_method(), RSA_set_ex_data()</p><p>See <a href=#providers-are-a-replacement-for-engines-and-low-level-method-overrides>&quot;Providers are a replacement for engines and low-level method overrides&quot;</a></p></li><li><p>RSA_sign(), RSA_sign_ASN1_OCTET_STRING(), RSA_verify(), RSA_verify_ASN1_OCTET_STRING(), RSA_verify_PKCS1_PSS(), RSA_verify_PKCS1_PSS_mgf1()</p><p>See <a href=#deprecated-low-level-signing-functions>&quot;Deprecated low-level signing functions&quot;</a>.</p></li><li><p>RSA_X931_derive_ex(), RSA_X931_generate_key_ex(), RSA_X931_hash_id()</p><p>There are no replacements for these functions. X931 padding can be set using <a href=../EVP_SIGNATURE-RSA/ >&quot;Signature Parameters&quot; in EVP_SIGNATURE-RSA(7)</a>. See <strong>OSSL_SIGNATURE_PARAM_PAD_MODE</strong>.</p></li><li><p>SEED_encrypt(), SEED_decrypt(), SEED_set_key(), SEED_cbc_encrypt(), SEED_cfb128_encrypt(), SEED_ecb_encrypt(), SEED_ofb128_encrypt()</p><p>See <a href=#deprecated-low-level-encryption-functions>&quot;Deprecated low-level encryption functions&quot;</a>. The SEED algorithm has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>SHA1_Init(), SHA1_Update(), SHA1_Final(), SHA1_Transform(), SHA224_Init(), SHA224_Update(), SHA224_Final(), SHA256_Init(), SHA256_Update(), SHA256_Final(), SHA256_Transform(), SHA384_Init(), SHA384_Update(), SHA384_Final(), SHA512_Init(), SHA512_Update(), SHA512_Final(), SHA512_Transform()</p><p>See <a href=#deprecated-low-level-digest-functions>&quot;Deprecated low-level digest functions&quot;</a>.</p></li><li><p>SRP_Calc_A(), SRP_Calc_B(), SRP_Calc_client_key(), SRP_Calc_server_key(), SRP_Calc_u(), SRP_Calc_x(), SRP_check_known_gN_param(), SRP_create_verifier(), SRP_create_verifier_BN(), SRP_get_default_gN(), SRP_user_pwd_free(), SRP_user_pwd_new(), SRP_user_pwd_set0_sv(), SRP_user_pwd_set1_ids(), SRP_user_pwd_set_gN(), SRP_VBASE_add0_user(), SRP_VBASE_free(), SRP_VBASE_get1_by_user(), SRP_VBASE_init(), SRP_VBASE_new(), SRP_Verify_A_mod_N(), SRP_Verify_B_mod_N()</p><p>There are no replacements for the SRP functions.</p></li><li><p>SSL_CTX_set_tmp_dh_callback(), SSL_set_tmp_dh_callback(), SSL_CTX_set_tmp_dh(), SSL_set_tmp_dh()</p><p>These are used to set the Diffie-Hellman (DH) parameters that are to be used by servers requiring ephemeral DH keys. Instead applications should consider using the built-in DH parameters that are available by calling <a href=../../man3/SSL_CTX_set_tmp_dh_callback/ >SSL_CTX_set_dh_auto(3)</a> or <a href=../../man3/SSL_CTX_set_tmp_dh_callback/ >SSL_set_dh_auto(3)</a>. If custom parameters are necessary then applications can use the alternative functions <a href=../../man3/SSL_CTX_set_tmp_dh_callback/ >SSL_CTX_set0_tmp_dh_pkey(3)</a> and <a href=../../man3/SSL_CTX_set_tmp_dh_callback/ >SSL_set0_tmp_dh_pkey(3)</a>. There is no direct replacement for the &quot;callback&quot; functions. The callback was originally useful in order to have different parameters for export and non-export ciphersuites. Export ciphersuites are no longer supported by OpenSSL. Use of the callback functions should be replaced by one of the other methods described above.</p></li><li><p>SSL_CTX_set_tlsext_ticket_key_cb()</p><p>Use the new <a href=../../man3/SSL_CTX_set_tlsext_ticket_key_cb/ >SSL_CTX_set_tlsext_ticket_key_evp_cb(3)</a> function instead.</p></li><li><p>WHIRLPOOL(), WHIRLPOOL_Init(), WHIRLPOOL_Update(), WHIRLPOOL_Final(), WHIRLPOOL_BitUpdate()</p><p>See <a href=#deprecated-low-level-digest-functions>&quot;Deprecated low-level digest functions&quot;</a>. The Whirlpool algorithm has been moved to the <a href=#legacy-algorithms>Legacy Provider</a>.</p></li><li><p>X509_certificate_type()</p><p>This was an undocumented function. Applications can use <a href=../../man3/X509_get_pubkey/ >X509_get0_pubkey(3)</a> and <a href=../../man3/X509_get0_signature/ >X509_get0_signature(3)</a> instead.</p></li><li><p>X509_http_nbio(), X509_CRL_http_nbio()</p><p>Use <a href=../../man3/X509_load_http/ >X509_load_http(3)</a> and <a href=../../man3/X509_load_http/ >X509_CRL_load_http(3)</a> instead.</p></li></ul><h4 id=nid-handling-for-provided-keys-and-algorithms>NID handling for provided keys and algorithms<a class=headerlink href=#nid-handling-for-provided-keys-and-algorithms title="Permanent link">&para;</a></h4><p>The following functions for NID (numeric id) handling have changed semantics.</p><ul><li><p>EVP_PKEY_id(), EVP_PKEY_get_id()</p><p>This function was previously used to reliably return the NID of an EVP_PKEY object, e.g., to look up the name of the algorithm of such EVP_PKEY by calling <a href=../../man3/OBJ_nid2obj/ >OBJ_nid2sn(3)</a>. With the introduction of <a href=../provider/ >provider(7)</a>s EVP_PKEY_id() or its new equivalent <a href=../../man3/EVP_PKEY_set1_RSA/ >EVP_PKEY_get_id(3)</a> might now also return the value -1 (<strong>EVP_PKEY_KEYMGMT</strong>) indicating the use of a provider to implement the EVP_PKEY object. Therefore, the use of <a href=../../man3/EVP_PKEY_is_a/ >EVP_PKEY_get0_type_name(3)</a> is recommended for retrieving the name of the EVP_PKEY algorithm.</p></li></ul><h3 id=using-the-fips-module-in-applications>Using the FIPS Module in applications<a class=headerlink href=#using-the-fips-module-in-applications title="Permanent link">&para;</a></h3><p>See <a href=../fips_module/ >fips_module(7)</a> and <a href=../OSSL_PROVIDER-FIPS/ >OSSL_PROVIDER-FIPS(7)</a> for details.</p><h3 id=openssl-command-line-application-changes>OpenSSL command line application changes<a class=headerlink href=#openssl-command-line-application-changes title="Permanent link">&para;</a></h3><h4 id=new-applications>New applications<a class=headerlink href=#new-applications title="Permanent link">&para;</a></h4><p><a href=../../man1/openssl-kdf/ ><strong>openssl kdf</strong></a> uses the new <a href=../../man3/EVP_KDF/ >EVP_KDF(3)</a> API. <a href=../../man1/openssl-mac/ ><strong>openssl kdf</strong></a> uses the new <a href=../../man3/EVP_MAC/ >EVP_MAC(3)</a> API.</p><h4 id=added-options>Added options<a class=headerlink href=#added-options title="Permanent link">&para;</a></h4><p><strong>-provider_path</strong> and <strong>-provider</strong> are available to all apps and can be used multiple times to load any providers, such as the &#39;legacy&#39; provider or third party providers. If used then the &#39;default&#39; provider would also need to be specified if required. The <strong>-provider_path</strong> must be specified before the <strong>-provider</strong> option.</p><p>The <strong>list</strong> app has many new options. See <a href=../../man1/openssl-list/ >openssl-list(1)</a> for more information.</p><p><strong>-crl_lastupdate</strong> and <strong>-crl_nextupdate</strong> used by <strong>openssl ca</strong> allows explicit setting of fields in the generated CRL.</p><h4 id=removed-options>Removed options<a class=headerlink href=#removed-options title="Permanent link">&para;</a></h4><p>Interactive mode is not longer available.</p><p>The <strong>-crypt</strong> option used by <strong>openssl passwd</strong>. The <strong>-c</strong> option used by <strong>openssl x509</strong>, <strong>openssl dhparam</strong>, <strong>openssl dsaparam</strong>, and <strong>openssl ecparam</strong>.</p><h4 id=other-changes>Other Changes<a class=headerlink href=#other-changes title="Permanent link">&para;</a></h4><p>The output of Command line applications may have minor changes. These are primarily changes in capitalisation and white space. However, in some cases, there are additional differences. For example, the DH parameters output from <strong>openssl dhparam</strong> now lists &#39;P&#39;, &#39;Q&#39;, &#39;G&#39; and &#39;pcounter&#39; instead of &#39;prime&#39;, &#39;generator&#39;, &#39;subgroup order&#39; and &#39;counter&#39; respectively.</p><p>The <strong>openssl</strong> commands that read keys, certificates, and CRLs now automatically detect the PEM or DER format of the input files so it is not necessary to explicitly specify the input format anymore. However if the input format option is used the specified format will be required.</p><p><strong>openssl speed</strong> no longer uses low-level API calls. This implies some of the performance numbers might not be comparable with the previous releases due to higher overhead. This applies particularly to measuring performance on smaller data chunks.</p><p>b&lt;openssl dhparam&gt;, <strong>openssl dsa</strong>, <strong>openssl gendsa</strong>, <strong>openssl dsaparam</strong>, <strong>openssl genrsa</strong> and <strong>openssl rsa</strong> have been modified to use PKEY APIs. <strong>openssl genrsa</strong> and <strong>openssl rsa</strong> now write PKCS #8 keys by default.</p><h4 id=default-settings>Default settings<a class=headerlink href=#default-settings title="Permanent link">&para;</a></h4><p>&quot;SHA256&quot; is now the default digest for TS query used by <strong>openssl ts</strong>.</p><h4 id=deprecated-apps>Deprecated apps<a class=headerlink href=#deprecated-apps title="Permanent link">&para;</a></h4><p><strong>openssl rsautl</strong> is deprecated, use <strong>openssl pkeyutl</strong> instead. <strong>openssl dhparam</strong>, <strong>openssl dsa</strong>, <strong>openssl gendsa</strong>, <strong>openssl dsaparam</strong>, <strong>openssl genrsa</strong>, <strong>openssl rsa</strong>, <strong>openssl genrsa</strong> and <strong>openssl rsa</strong> are now in maintenance mode and no new features will be added to them.</p><h3 id=tls-changes>TLS Changes<a class=headerlink href=#tls-changes title="Permanent link">&para;</a></h3><ul><li><p>TLS 1.3 FFDHE key exchange support added</p><p>This uses DH safe prime named groups.</p></li><li><p>Support for fully &quot;pluggable&quot; TLSv1.3 groups.</p><p>This means that providers may supply their own group implementations (using either the &quot;key exchange&quot; or the &quot;key encapsulation&quot; methods) which will automatically be detected and used by libssl.</p></li><li><p>SSL and SSL_CTX options are now 64 bit instead of 32 bit.</p><p>The signatures of the functions to get and set options on SSL and SSL_CTX objects changed from &quot;unsigned long&quot; to &quot;uint64_t&quot; type.</p><p>This may require source code changes. For example it is no longer possible to use the <strong>SSL_OP_</strong> macro values in preprocessor <code>#if</code> conditions. However it is still possible to test whether these macros are defined or not.</p><p>See <a href=../../man3/SSL_CTX_set_options/ >SSL_CTX_get_options(3)</a>, <a href=../../man3/SSL_CTX_set_options/ >SSL_CTX_set_options(3)</a>, <a href=../../man3/SSL_CTX_set_options/ >SSL_get_options(3)</a> and <a href=../../man3/SSL_CTX_set_options/ >SSL_set_options(3)</a>.</p></li><li><p>SSL_set1_host() and SSL_add1_host() Changes</p><p>These functions now take IP literal addresses as well as actual hostnames.</p></li><li><p>Added SSL option SSL_OP_CLEANSE_PLAINTEXT</p><p>If the option is set, openssl cleanses (zeroizes) plaintext bytes from internal buffers after delivering them to the application. Note, the application is still responsible for cleansing other copies (e.g.: data received by <a href=../../man3/SSL_read/ >SSL_read(3)</a>).</p></li><li><p>Client-initiated renegotiation is disabled by default.</p><p>To allow it, use the <strong>-client_renegotiation</strong> option, the <strong>SSL_OP_ALLOW_CLIENT_RENEGOTIATION</strong> flag, or the <code>ClientRenegotiation</code> config parameter as appropriate.</p></li><li><p>Secure renegotiation is now required by default for TLS connections</p><p>Support for RFC 5746 secure renegotiation is now required by default for SSL or TLS connections to succeed. Applications that require the ability to connect to legacy peers will need to explicitly set SSL_OP_LEGACY_SERVER_CONNECT. Accordingly, SSL_OP_LEGACY_SERVER_CONNECT is no longer set as part of SSL_OP_ALL.</p></li><li><p>Combining the Configure options no-ec and no-dh no longer disables TLSv1.3</p><p>Typically if OpenSSL has no EC or DH algorithms then it cannot support connections with TLSv1.3. However OpenSSL now supports &quot;pluggable&quot; groups through providers. Therefore third party providers may supply group implementations even where there are no built-in ones. Attempting to create TLS connections in such a build without also disabling TLSv1.3 at run time or using third party provider groups may result in handshake failures. TLSv1.3 can be disabled at compile time using the &quot;no-tls1_3&quot; Configure option.</p></li><li><p>SSL_CTX_set_ciphersuites() and SSL_set_ciphersuites() changes.</p><p>The methods now ignore unknown ciphers.</p></li><li><p>Security callback change.</p><p>The security callback, which can be customised by application code, supports the security operation SSL_SECOP_TMP_DH. This is defined to take an EVP_PKEY in the &quot;other&quot; parameter. In most places this is what is passed. All these places occur server side. However there was one client side call of this security operation and it passed a DH object instead. This is incorrect according to the definition of SSL_SECOP_TMP_DH, and is inconsistent with all of the other locations. Therefore this client side call has been changed to pass an EVP_PKEY instead.</p></li><li><p>New SSL option SSL_OP_IGNORE_UNEXPECTED_EOF</p><p>The SSL option SSL_OP_IGNORE_UNEXPECTED_EOF is introduced. If that option is set, an unexpected EOF is ignored, it pretends a close notify was received instead and so the returned error becomes SSL_ERROR_ZERO_RETURN.</p></li><li><p>The security strength of SHA1 and MD5 based signatures in TLS has been reduced.</p><p>This results in SSL 3, TLS 1.0, TLS 1.1 and DTLS 1.0 no longer working at the default security level of 1 and instead requires security level 0. The security level can be changed either using the cipher string with <code>@SECLEVEL</code>, or calling <a href=../../man3/SSL_CTX_set_security_level/ >SSL_CTX_set_security_level(3)</a>. This also means that where the signature algorithms extension is missing from a ClientHello then the handshake will fail in TLS 1.2 at security level 1. This is because, although this extension is optional, failing to provide one means that OpenSSL will fallback to a default set of signature algorithms. This default set requires the availability of SHA1.</p></li><li><p>X509 certificates signed using SHA1 are no longer allowed at security level 1 and above.</p><p>In TLS/SSL the default security level is 1. It can be set either using the cipher string with <code>@SECLEVEL</code>, or calling <a href=../../man3/SSL_CTX_set_security_level/ >SSL_CTX_set_security_level(3)</a>. If the leaf certificate is signed with SHA-1, a call to <a href=../../man3/SSL_CTX_use_certificate/ >SSL_CTX_use_certificate(3)</a> will fail if the security level is not lowered first. Outside TLS/SSL, the default security level is -1 (effectively 0). It can be set using <a href=../../man3/X509_VERIFY_PARAM_set_flags/ >X509_VERIFY_PARAM_set_auth_level(3)</a> or using the <strong>-auth_level</strong> options of the commands.</p></li></ul><h2 id=see-also>SEE ALSO<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2><p><a href=../fips_module/ >fips_module(7)</a></p><h2 id=history>HISTORY<a class=headerlink href=#history title="Permanent link">&para;</a></h2><p>The migration guide was created for OpenSSL 3.0.</p><h2 id=copyright>COPYRIGHT<a class=headerlink href=#copyright title="Permanent link">&para;</a></h2><p>Copyright 2021-2024 The OpenSSL Project Authors. All Rights Reserved.</p><p>Licensed under the Apache License 2.0 (the &quot;License&quot;). You may not use this file except in compliance with the License. You can obtain a copy in the file LICENSE in the source distribution or at <a href=https://www.openssl.org/source/license.html>https://www.openssl.org/source/license.html</a>.</p></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "master", "provider": "mike"}}</script><script src=../../assets/javascripts/bundle.ad660dcc.min.js></script></body></html>