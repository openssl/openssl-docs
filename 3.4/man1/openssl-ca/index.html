<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://docs.openssl.org/3.4/man1/openssl-ca/ rel=canonical><link href=../openssl-asn1parse/ rel=prev><link href=../openssl-ciphers/ rel=next><link rel=icon href=../../images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.27"><title>openssl-ca - OpenSSL Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head><body dir=ltr data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo><input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off><input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off><label class=md-overlay for=__drawer></label><div data-md-component=skip><a href=#openssl-ca class=md-skip> Skip to content </a></div><div data-md-component=announce></div><div data-md-color-scheme=default data-md-component=outdated hidden></div><header class="md-header md-header--shadow md-header--lifted" data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a href=../.. title="OpenSSL Documentation" class="md-header__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a><label class="md-header__button md-icon" for=__drawer><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> OpenSSL Documentation </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> openssl-ca </span></div></div></div><form class=md-header__option data-md-component=palette><input class=md-option data-md-color-media data-md-color-scheme=openssl data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label><input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg></label></form><script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required><label class="md-search__icon md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav class=md-search__options aria-label=Search><button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav><div class=md-search__suggest data-md-component=search-suggest></div></form><div class=md-search__output><div class=md-search__scrollwrap tabindex=0 data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta> Initializing search </div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div></nav><nav class=md-tabs aria-label=Tabs data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a href=../.. class=md-tabs__link> Home </a></li><li class=md-tabs__item><a href=../../fips/ class=md-tabs__link> FIPS-140 </a></li><li class="md-tabs__item md-tabs__item--active"><a href=../ class=md-tabs__link> Commands </a></li><li class=md-tabs__item><a href=../../man3/ class=md-tabs__link> Libraries </a></li><li class=md-tabs__item><a href=../../man5/ class=md-tabs__link> File Formats </a></li><li class=md-tabs__item><a href=../../man7/ class=md-tabs__link> Overviews </a></li></ul></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a href=../.. title="OpenSSL Documentation" class="md-nav__button md-logo" aria-label="OpenSSL Documentation" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a> OpenSSL Documentation </label><div class=md-nav__source><a href=https://github.com/openssl/openssl title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> GitHub </div></a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../.. class=md-nav__link title=Home><span class=md-ellipsis-custom> Home </span></a></li><li class=md-nav__item><a href=../../fips/ class=md-nav__link title=FIPS-140><span class=md-ellipsis-custom> FIPS-140 </span></a></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked><div class="md-nav__link md-nav__container"><a href=../ class="md-nav__link "><span class=md-ellipsis-custom> Commands </span></a><label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex><span class="md-nav__icon md-icon"></span></label></div><nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true><label class=md-nav__title for=__nav_3><span class="md-nav__icon md-icon"></span> Commands </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../CA.pl/ class=md-nav__link title=CA.pl><span class=md-ellipsis-custom> CA.pl </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=asn1parse><span class=md-ellipsis-custom> asn1parse </span></a></li><li class=md-nav__item><a href=../openssl-rehash class=md-nav__link title=c_rehash><span class=md-ellipsis-custom> c_rehash </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=ca><span class=md-ellipsis-custom> ca </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=ciphers><span class=md-ellipsis-custom> ciphers </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=cmp><span class=md-ellipsis-custom> cmp </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=cms><span class=md-ellipsis-custom> cms </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=crl><span class=md-ellipsis-custom> crl </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=crl2pkcs7><span class=md-ellipsis-custom> crl2pkcs7 </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=dgst><span class=md-ellipsis-custom> dgst </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=dhparam><span class=md-ellipsis-custom> dhparam </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=dsa><span class=md-ellipsis-custom> dsa </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=dsaparam><span class=md-ellipsis-custom> dsaparam </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=ec><span class=md-ellipsis-custom> ec </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=ecparam><span class=md-ellipsis-custom> ecparam </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=enc><span class=md-ellipsis-custom> enc </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=engine><span class=md-ellipsis-custom> engine </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=errstr><span class=md-ellipsis-custom> errstr </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=gendsa><span class=md-ellipsis-custom> gendsa </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=genpkey><span class=md-ellipsis-custom> genpkey </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=genrsa><span class=md-ellipsis-custom> genrsa </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=info><span class=md-ellipsis-custom> info </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=kdf><span class=md-ellipsis-custom> kdf </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=mac><span class=md-ellipsis-custom> mac </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=nseq><span class=md-ellipsis-custom> nseq </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=ocsp><span class=md-ellipsis-custom> ocsp </span></a></li><li class=md-nav__item><a href=../openssl/ class=md-nav__link title=openssl><span class=md-ellipsis-custom> openssl </span></a></li><li class=md-nav__item><a href=../openssl-asn1parse/ class=md-nav__link title=openssl-asn1parse><span class=md-ellipsis-custom> openssl-asn1parse </span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type=checkbox id=__toc><label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis-custom> openssl-ca </span><span class="md-nav__icon md-icon"></span></label><a href=./ class="md-nav__link md-nav__link--active"><span class=md-ellipsis-custom> openssl-ca </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#synopsis class=md-nav__link><span class=md-ellipsis> SYNOPSIS </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#options class=md-nav__link><span class=md-ellipsis> OPTIONS </span></a></li><li class=md-nav__item><a href=#crl-options class=md-nav__link><span class=md-ellipsis> CRL OPTIONS </span></a></li><li class=md-nav__item><a href=#configuration-file-options class=md-nav__link><span class=md-ellipsis> CONFIGURATION FILE OPTIONS </span></a></li><li class=md-nav__item><a href=#policy-format class=md-nav__link><span class=md-ellipsis> POLICY FORMAT </span></a></li><li class=md-nav__item><a href=#spkac-format class=md-nav__link><span class=md-ellipsis> SPKAC FORMAT </span></a></li><li class=md-nav__item><a href=#examples class=md-nav__link><span class=md-ellipsis> EXAMPLES </span></a></li><li class=md-nav__item><a href=#files class=md-nav__link><span class=md-ellipsis> FILES </span></a></li><li class=md-nav__item><a href=#restrictions class=md-nav__link><span class=md-ellipsis> RESTRICTIONS </span></a></li><li class=md-nav__item><a href=#bugs class=md-nav__link><span class=md-ellipsis> BUGS </span></a></li><li class=md-nav__item><a href=#warnings class=md-nav__link><span class=md-ellipsis> WARNINGS </span></a></li><li class=md-nav__item><a href=#history class=md-nav__link><span class=md-ellipsis> HISTORY </span></a></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li><li class=md-nav__item><a href=#copyright class=md-nav__link><span class=md-ellipsis> COPYRIGHT </span></a></li></ul></nav></li><li class=md-nav__item><a href=../openssl-ciphers/ class=md-nav__link title=openssl-ciphers><span class=md-ellipsis-custom> openssl-ciphers </span></a></li><li class=md-nav__item><a href=../openssl-cmds/ class=md-nav__link title=openssl-cmds><span class=md-ellipsis-custom> openssl-cmds </span></a></li><li class=md-nav__item><a href=../openssl-cmp/ class=md-nav__link title=openssl-cmp><span class=md-ellipsis-custom> openssl-cmp </span></a></li><li class=md-nav__item><a href=../openssl-cms/ class=md-nav__link title=openssl-cms><span class=md-ellipsis-custom> openssl-cms </span></a></li><li class=md-nav__item><a href=../openssl-crl/ class=md-nav__link title=openssl-crl><span class=md-ellipsis-custom> openssl-crl </span></a></li><li class=md-nav__item><a href=../openssl-crl2pkcs7/ class=md-nav__link title=openssl-crl2pkcs7><span class=md-ellipsis-custom> openssl-crl2pkcs7 </span></a></li><li class=md-nav__item><a href=../openssl-dgst/ class=md-nav__link title=openssl-dgst><span class=md-ellipsis-custom> openssl-dgst </span></a></li><li class=md-nav__item><a href=../openssl-dhparam/ class=md-nav__link title=openssl-dhparam><span class=md-ellipsis-custom> openssl-dhparam </span></a></li><li class=md-nav__item><a href=../openssl-dsa/ class=md-nav__link title=openssl-dsa><span class=md-ellipsis-custom> openssl-dsa </span></a></li><li class=md-nav__item><a href=../openssl-dsaparam/ class=md-nav__link title=openssl-dsaparam><span class=md-ellipsis-custom> openssl-dsaparam </span></a></li><li class=md-nav__item><a href=../openssl-ec/ class=md-nav__link title=openssl-ec><span class=md-ellipsis-custom> openssl-ec </span></a></li><li class=md-nav__item><a href=../openssl-ecparam/ class=md-nav__link title=openssl-ecparam><span class=md-ellipsis-custom> openssl-ecparam </span></a></li><li class=md-nav__item><a href=../openssl-enc/ class=md-nav__link title=openssl-enc><span class=md-ellipsis-custom> openssl-enc </span></a></li><li class=md-nav__item><a href=../openssl-engine/ class=md-nav__link title=openssl-engine><span class=md-ellipsis-custom> openssl-engine </span></a></li><li class=md-nav__item><a href=../openssl-errstr/ class=md-nav__link title=openssl-errstr><span class=md-ellipsis-custom> openssl-errstr </span></a></li><li class=md-nav__item><a href=../openssl-fipsinstall/ class=md-nav__link title=openssl-fipsinstall><span class=md-ellipsis-custom> openssl-fipsinstall </span></a></li><li class=md-nav__item><a href=../openssl-format-options/ class=md-nav__link title=openssl-format-options><span class=md-ellipsis-custom> openssl-format-options </span></a></li><li class=md-nav__item><a href=../openssl-gendsa/ class=md-nav__link title=openssl-gendsa><span class=md-ellipsis-custom> openssl-gendsa </span></a></li><li class=md-nav__item><a href=../openssl-genpkey/ class=md-nav__link title=openssl-genpkey><span class=md-ellipsis-custom> openssl-genpkey </span></a></li><li class=md-nav__item><a href=../openssl-genrsa/ class=md-nav__link title=openssl-genrsa><span class=md-ellipsis-custom> openssl-genrsa </span></a></li><li class=md-nav__item><a href=../openssl-info/ class=md-nav__link title=openssl-info><span class=md-ellipsis-custom> openssl-info </span></a></li><li class=md-nav__item><a href=../openssl-kdf/ class=md-nav__link title=openssl-kdf><span class=md-ellipsis-custom> openssl-kdf </span></a></li><li class=md-nav__item><a href=../openssl-list/ class=md-nav__link title=openssl-list><span class=md-ellipsis-custom> openssl-list </span></a></li><li class=md-nav__item><a href=../openssl-mac/ class=md-nav__link title=openssl-mac><span class=md-ellipsis-custom> openssl-mac </span></a></li><li class=md-nav__item><a href=../openssl-namedisplay-options/ class=md-nav__link title=openssl-namedisplay-options><span class=md-ellipsis-custom> openssl-namedisplay-options </span></a></li><li class=md-nav__item><a href=../openssl-nseq/ class=md-nav__link title=openssl-nseq><span class=md-ellipsis-custom> openssl-nseq </span></a></li><li class=md-nav__item><a href=../openssl-ocsp/ class=md-nav__link title=openssl-ocsp><span class=md-ellipsis-custom> openssl-ocsp </span></a></li><li class=md-nav__item><a href=../openssl-passphrase-options/ class=md-nav__link title=openssl-passphrase-options><span class=md-ellipsis-custom> openssl-passphrase-options </span></a></li><li class=md-nav__item><a href=../openssl-passwd/ class=md-nav__link title=openssl-passwd><span class=md-ellipsis-custom> openssl-passwd </span></a></li><li class=md-nav__item><a href=../openssl-pkcs12/ class=md-nav__link title=openssl-pkcs12><span class=md-ellipsis-custom> openssl-pkcs12 </span></a></li><li class=md-nav__item><a href=../openssl-pkcs7/ class=md-nav__link title=openssl-pkcs7><span class=md-ellipsis-custom> openssl-pkcs7 </span></a></li><li class=md-nav__item><a href=../openssl-pkcs8/ class=md-nav__link title=openssl-pkcs8><span class=md-ellipsis-custom> openssl-pkcs8 </span></a></li><li class=md-nav__item><a href=../openssl-pkey/ class=md-nav__link title=openssl-pkey><span class=md-ellipsis-custom> openssl-pkey </span></a></li><li class=md-nav__item><a href=../openssl-pkeyparam/ class=md-nav__link title=openssl-pkeyparam><span class=md-ellipsis-custom> openssl-pkeyparam </span></a></li><li class=md-nav__item><a href=../openssl-pkeyutl/ class=md-nav__link title=openssl-pkeyutl><span class=md-ellipsis-custom> openssl-pkeyutl </span></a></li><li class=md-nav__item><a href=../openssl-prime/ class=md-nav__link title=openssl-prime><span class=md-ellipsis-custom> openssl-prime </span></a></li><li class=md-nav__item><a href=../openssl-rand/ class=md-nav__link title=openssl-rand><span class=md-ellipsis-custom> openssl-rand </span></a></li><li class=md-nav__item><a href=../openssl-rehash/ class=md-nav__link title=openssl-rehash><span class=md-ellipsis-custom> openssl-rehash </span></a></li><li class=md-nav__item><a href=../openssl-req/ class=md-nav__link title=openssl-req><span class=md-ellipsis-custom> openssl-req </span></a></li><li class=md-nav__item><a href=../openssl-rsa/ class=md-nav__link title=openssl-rsa><span class=md-ellipsis-custom> openssl-rsa </span></a></li><li class=md-nav__item><a href=../openssl-rsautl/ class=md-nav__link title=openssl-rsautl><span class=md-ellipsis-custom> openssl-rsautl </span></a></li><li class=md-nav__item><a href=../openssl-s_client/ class=md-nav__link title=openssl-s_client><span class=md-ellipsis-custom> openssl-s_client </span></a></li><li class=md-nav__item><a href=../openssl-s_server/ class=md-nav__link title=openssl-s_server><span class=md-ellipsis-custom> openssl-s_server </span></a></li><li class=md-nav__item><a href=../openssl-s_time/ class=md-nav__link title=openssl-s_time><span class=md-ellipsis-custom> openssl-s_time </span></a></li><li class=md-nav__item><a href=../openssl-sess_id/ class=md-nav__link title=openssl-sess_id><span class=md-ellipsis-custom> openssl-sess_id </span></a></li><li class=md-nav__item><a href=../openssl-smime/ class=md-nav__link title=openssl-smime><span class=md-ellipsis-custom> openssl-smime </span></a></li><li class=md-nav__item><a href=../openssl-speed/ class=md-nav__link title=openssl-speed><span class=md-ellipsis-custom> openssl-speed </span></a></li><li class=md-nav__item><a href=../openssl-spkac/ class=md-nav__link title=openssl-spkac><span class=md-ellipsis-custom> openssl-spkac </span></a></li><li class=md-nav__item><a href=../openssl-srp/ class=md-nav__link title=openssl-srp><span class=md-ellipsis-custom> openssl-srp </span></a></li><li class=md-nav__item><a href=../openssl-storeutl/ class=md-nav__link title=openssl-storeutl><span class=md-ellipsis-custom> openssl-storeutl </span></a></li><li class=md-nav__item><a href=../openssl-ts/ class=md-nav__link title=openssl-ts><span class=md-ellipsis-custom> openssl-ts </span></a></li><li class=md-nav__item><a href=../openssl-verification-options/ class=md-nav__link title=openssl-verification-options><span class=md-ellipsis-custom> openssl-verification-options </span></a></li><li class=md-nav__item><a href=../openssl-verify/ class=md-nav__link title=openssl-verify><span class=md-ellipsis-custom> openssl-verify </span></a></li><li class=md-nav__item><a href=../openssl-version/ class=md-nav__link title=openssl-version><span class=md-ellipsis-custom> openssl-version </span></a></li><li class=md-nav__item><a href=../openssl-x509/ class=md-nav__link title=openssl-x509><span class=md-ellipsis-custom> openssl-x509 </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=passwd><span class=md-ellipsis-custom> passwd </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=pkcs12><span class=md-ellipsis-custom> pkcs12 </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=pkcs7><span class=md-ellipsis-custom> pkcs7 </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=pkcs8><span class=md-ellipsis-custom> pkcs8 </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=pkey><span class=md-ellipsis-custom> pkey </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=pkeyparam><span class=md-ellipsis-custom> pkeyparam </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=pkeyutl><span class=md-ellipsis-custom> pkeyutl </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=prime><span class=md-ellipsis-custom> prime </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=rand><span class=md-ellipsis-custom> rand </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=rehash><span class=md-ellipsis-custom> rehash </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=req><span class=md-ellipsis-custom> req </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=rsa><span class=md-ellipsis-custom> rsa </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=rsautl><span class=md-ellipsis-custom> rsautl </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=s_client><span class=md-ellipsis-custom> s_client </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=s_server><span class=md-ellipsis-custom> s_server </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=s_time><span class=md-ellipsis-custom> s_time </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=sess_id><span class=md-ellipsis-custom> sess_id </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=smime><span class=md-ellipsis-custom> smime </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=speed><span class=md-ellipsis-custom> speed </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=spkac><span class=md-ellipsis-custom> spkac </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=srp><span class=md-ellipsis-custom> srp </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=storeutl><span class=md-ellipsis-custom> storeutl </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=ts><span class=md-ellipsis-custom> ts </span></a></li><li class=md-nav__item><a href=../tsget/ class=md-nav__link title=tsget><span class=md-ellipsis-custom> tsget </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=verify><span class=md-ellipsis-custom> verify </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=version><span class=md-ellipsis-custom> version </span></a></li><li class=md-nav__item><a href=../openssl-cmds class=md-nav__link title=x509><span class=md-ellipsis-custom> x509 </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man3/ class=md-nav__link><span class=md-ellipsis-custom> Libraries </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man5/ class=md-nav__link><span class=md-ellipsis-custom> File Formats </span><span class="md-nav__icon md-icon"></span></a></li><li class="md-nav__item md-nav__item--pruned md-nav__item--nested"><a href=../../man7/ class=md-nav__link><span class=md-ellipsis-custom> Overviews </span><span class="md-nav__icon md-icon"></span></a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#name class=md-nav__link><span class=md-ellipsis> NAME </span></a></li><li class=md-nav__item><a href=#synopsis class=md-nav__link><span class=md-ellipsis> SYNOPSIS </span></a></li><li class=md-nav__item><a href=#description class=md-nav__link><span class=md-ellipsis> DESCRIPTION </span></a></li><li class=md-nav__item><a href=#options class=md-nav__link><span class=md-ellipsis> OPTIONS </span></a></li><li class=md-nav__item><a href=#crl-options class=md-nav__link><span class=md-ellipsis> CRL OPTIONS </span></a></li><li class=md-nav__item><a href=#configuration-file-options class=md-nav__link><span class=md-ellipsis> CONFIGURATION FILE OPTIONS </span></a></li><li class=md-nav__item><a href=#policy-format class=md-nav__link><span class=md-ellipsis> POLICY FORMAT </span></a></li><li class=md-nav__item><a href=#spkac-format class=md-nav__link><span class=md-ellipsis> SPKAC FORMAT </span></a></li><li class=md-nav__item><a href=#examples class=md-nav__link><span class=md-ellipsis> EXAMPLES </span></a></li><li class=md-nav__item><a href=#files class=md-nav__link><span class=md-ellipsis> FILES </span></a></li><li class=md-nav__item><a href=#restrictions class=md-nav__link><span class=md-ellipsis> RESTRICTIONS </span></a></li><li class=md-nav__item><a href=#bugs class=md-nav__link><span class=md-ellipsis> BUGS </span></a></li><li class=md-nav__item><a href=#warnings class=md-nav__link><span class=md-ellipsis> WARNINGS </span></a></li><li class=md-nav__item><a href=#history class=md-nav__link><span class=md-ellipsis> HISTORY </span></a></li><li class=md-nav__item><a href=#see-also class=md-nav__link><span class=md-ellipsis> SEE ALSO </span></a></li><li class=md-nav__item><a href=#copyright class=md-nav__link><span class=md-ellipsis> COPYRIGHT </span></a></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=openssl-ca>openssl-ca<a class=headerlink href=#openssl-ca title="Permanent link">&para;</a></h1><h2 id=name>NAME<a class=headerlink href=#name title="Permanent link">&para;</a></h2><p>openssl-ca - sample minimal CA application</p><h2 id=synopsis>SYNOPSIS<a class=headerlink href=#synopsis title="Permanent link">&para;</a></h2><p><strong>openssl</strong> <strong>ca</strong> [<strong>-help</strong>] [<strong>-verbose</strong>] [<strong>-quiet</strong>] [<strong>-config</strong> <em>filename</em>] [<strong>-name</strong> <em>section</em>] [<strong>-section</strong> <em>section</em>] [<strong>-gencrl</strong>] [<strong>-revoke</strong> <em>file</em>] [<strong>-valid</strong> <em>file</em>] [<strong>-status</strong> <em>serial</em>] [<strong>-updatedb</strong>] [<strong>-crl_reason</strong> <em>reason</em>] [<strong>-crl_hold</strong> <em>instruction</em>] [<strong>-crl_compromise</strong> <em>time</em>] [<strong>-crl_CA_compromise</strong> <em>time</em>] [<strong>-crl_lastupdate</strong> <em>date</em>] [<strong>-crl_nextupdate</strong> <em>date</em>] [<strong>-crldays</strong> <em>days</em>] [<strong>-crlhours</strong> <em>hours</em>] [<strong>-crlsec</strong> <em>seconds</em>] [<strong>-crlexts</strong> <em>section</em>] [<strong>-startdate</strong> <em>date</em>] [<strong>-not_before</strong> <em>date</em>] [<strong>-enddate</strong> <em>date</em>] [<strong>-not_after</strong> <em>date</em>] [<strong>-days</strong> <em>arg</em>] [<strong>-md</strong> <em>arg</em>] [<strong>-policy</strong> <em>arg</em>] [<strong>-keyfile</strong> <em>filename</em>|<em>uri</em>] [<strong>-keyform</strong> <strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong>|<strong>ENGINE</strong>] [<strong>-key</strong> <em>arg</em>] [<strong>-passin</strong> <em>arg</em>] [<strong>-cert</strong> <em>file</em>] [<strong>-certform</strong> <strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong>] [<strong>-selfsign</strong>] [<strong>-in</strong> <em>file</em>] [<strong>-inform</strong> <strong>DER</strong>|<pem>] [<strong>-out</strong> <em>file</em>] [<strong>-notext</strong>] [<strong>-dateopt</strong>] [<strong>-outdir</strong> <em>dir</em>] [<strong>-infiles</strong>] [<strong>-spkac</strong> <em>file</em>] [<strong>-ss_cert</strong> <em>file</em>] [<strong>-preserveDN</strong>] [<strong>-noemailDN</strong>] [<strong>-batch</strong>] [<strong>-msie_hack</strong>] [<strong>-extensions</strong> <em>section</em>] [<strong>-extfile</strong> <em>section</em>] [<strong>-subj</strong> <em>arg</em>] [<strong>-utf8</strong>] [<strong>-sigopt</strong> <em>nm</em>:<em>v</em>] [<strong>-vfyopt</strong> <em>nm</em>:<em>v</em>] [<strong>-create_serial</strong>] [<strong>-rand_serial</strong>] [<strong>-multivalue-rdn</strong>] [<strong>-rand</strong> <em>files</em>] [<strong>-writerand</strong> <em>file</em>] [<strong>-engine</strong> <em>id</em>] [<strong>-provider</strong> <em>name</em>] [<strong>-provider-path</strong> <em>path</em>] [<strong>-propquery</strong> <em>propq</em>] [<em>certreq</em>...]</p><h2 id=description>DESCRIPTION<a class=headerlink href=#description title="Permanent link">&para;</a></h2><p>This command emulates a CA application. See the <strong>WARNINGS</strong> especially when considering to use it productively.</p><p>It generates certificates bearing X.509 version 3. Unless specified otherwise, key identifier extensions are included as described in <a href=../../man5/x509v3_config/ >x509v3_config(5)</a>.</p><p>It can be used to sign certificate requests (CSRs) in a variety of forms and generate certificate revocation lists (CRLs). It also maintains a text database of issued certificates and their status. When signing certificates, a single request can be specified with the <strong>-in</strong> option, or multiple requests can be processed by specifying a set of <strong>certreq</strong> files after all options.</p><p>Note that there are also very lean ways of generating certificates: the <strong>req</strong> and <strong>x509</strong> commands can be used for directly creating certificates. See <a href=../openssl-req/ >openssl-req(1)</a> and <a href=../openssl-x509/ >openssl-x509(1)</a> for details.</p><p>The descriptions of the <strong>ca</strong> command options are divided into each purpose.</p><h2 id=options>OPTIONS<a class=headerlink href=#options title="Permanent link">&para;</a></h2><ul><li><p><strong>-help</strong></p><p>Print out a usage message.</p></li><li><p><strong>-verbose</strong></p><p>This prints extra details about the operations being performed.</p></li><li><p><strong>-quiet</strong></p><p>This prints fewer details about the operations being performed, which may be handy during batch scripts or pipelines.</p></li><li><p><strong>-config</strong> <em>filename</em></p><p>Specifies the configuration file to use. Optional; for a description of the default value, see <a href=../openssl/ >"COMMAND SUMMARY" in openssl(1)</a>.</p></li><li><p><strong>-name</strong> <em>section</em>, <strong>-section</strong> <em>section</em></p><p>Specifies the configuration file section to use (overrides <strong>default_ca</strong> in the <strong>ca</strong> section).</p></li><li><p><strong>-in</strong> <em>filename</em></p><p>An input filename containing a single certificate request (CSR) to be signed by the CA.</p></li><li><p><strong>-inform</strong> <strong>DER</strong>|<strong>PEM</strong></p><p>The format to use when loading certificate request (CSR) input files; by default PEM is tried first. See <a href=../openssl-format-options/ >openssl-format-options(1)</a> for details.</p></li><li><p><strong>-ss_cert</strong> <em>filename</em></p><p>A single self-signed certificate to be signed by the CA.</p></li><li><p><strong>-spkac</strong> <em>filename</em></p><p>A file containing a single Netscape signed public key and challenge and additional field values to be signed by the CA. See the <strong>SPKAC FORMAT</strong> section for information on the required input and output format.</p></li><li><p><strong>-infiles</strong></p><p>If present this should be the last option, all subsequent arguments are taken as the names of files containing certificate requests.</p></li><li><p><strong>-out</strong> <em>filename</em></p><p>The output file to output certificates to. The default is standard output. The certificate details will also be printed out to this file in PEM format (except that <strong>-spkac</strong> outputs DER format).</p></li><li><p><strong>-outdir</strong> <em>directory</em></p><p>The directory to output certificates to. The certificate will be written to a filename consisting of the serial number in hex with <code>.pem</code> appended.</p></li><li><p><strong>-cert</strong> <em>filename</em></p><p>The CA certificate, which must match with <strong>-keyfile</strong>.</p></li><li><p><strong>-certform</strong> <strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong></p><p>The format of the data in certificate input files; unspecified by default. See <a href=../openssl-format-options/ >openssl-format-options(1)</a> for details.</p></li><li><p><strong>-keyfile</strong> <em>filename</em>|<em>uri</em></p><p>The CA private key to sign certificate requests with. This must match with <strong>-cert</strong>.</p></li><li><p><strong>-keyform</strong> <strong>DER</strong>|<strong>PEM</strong>|<strong>P12</strong>|<strong>ENGINE</strong></p><p>The format of the private key input file; unspecified by default. See <a href=../openssl-format-options/ >openssl-format-options(1)</a> for details.</p></li><li><p><strong>-sigopt</strong> <em>nm</em>:<em>v</em></p><p>Pass options to the signature algorithm during sign operations. Names and values of these options are algorithm-specific and documented in <a href=../../man7/provider-signature/ >"Signature parameters" in provider-signature(7)</a>.</p></li><li><p><strong>-vfyopt</strong> <em>nm</em>:<em>v</em></p><p>Pass options to the signature algorithm during verify operations. Names and values of these options are algorithm-specific.</p><p>This often needs to be given while signing too, because the self-signature of a certificate signing request (CSR) is verified against the included public key, and that verification may need its own set of options.</p></li><li><p><strong>-key</strong> <em>password</em></p><p>The password used to encrypt the private key. Since on some systems the command line arguments are visible (e.g., when using <a href=../../man1/ps>ps(1)</a> on Unix), this option should be used with caution. Better use <strong>-passin</strong>.</p></li><li><p><strong>-passin</strong> <em>arg</em></p><p>The key password source for key files and certificate PKCS#12 files. For more information about the format of <strong>arg</strong> see <a href=../openssl-passphrase-options/ >openssl-passphrase-options(1)</a>.</p></li><li><p><strong>-selfsign</strong></p><p>Indicates the issued certificates are to be signed with the key the certificate requests were signed with (given with <strong>-keyfile</strong>). Certificate requests signed with a different key are ignored. If <strong>-spkac</strong>, <strong>-ss_cert</strong> or <strong>-gencrl</strong> are given, <strong>-selfsign</strong> is ignored.</p><p>A consequence of using <strong>-selfsign</strong> is that the self-signed certificate appears among the entries in the certificate database (see the configuration option <strong>database</strong>), and uses the same serial number counter as all other certificates sign with the self-signed certificate.</p></li><li><p><strong>-notext</strong></p><p>Don't output the text form of a certificate to the output file.</p></li><li><p><strong>-dateopt</strong></p><p>Specify the date output format. Values are: rfc_822 and iso_8601. Defaults to rfc_822.</p></li><li><p><strong>-startdate</strong> <em>date</em>, <strong>-not_before</strong> <em>date</em></p><p>This allows the start date to be explicitly set. The format of the date is YYMMDDHHMMSSZ (the same as an ASN1 UTCTime structure), or YYYYMMDDHHMMSSZ (the same as an ASN1 GeneralizedTime structure). In both formats, seconds SS and timezone Z must be present. Alternatively, you can also use "today".</p></li><li><p><strong>-enddate</strong> <em>date</em>, <strong>-not_after</strong> <em>date</em></p><p>This allows the expiry date to be explicitly set. The format of the date is YYMMDDHHMMSSZ (the same as an ASN1 UTCTime structure), or YYYYMMDDHHMMSSZ (the same as an ASN1 GeneralizedTime structure). In both formats, seconds SS and timezone Z must be present. Alternatively, you can also use "today".</p><p>This overrides the <strong>-days</strong> option.</p></li><li><p><strong>-days</strong> <em>arg</em></p><p>The number of days from today to certify the certificate for.</p><p>Regardless of the option <strong>-not_before</strong>, the days are always counted from today. When used together with the option <strong>-not_after</strong>/<strong>-startdate</strong>, the explicit expiry date takes precedence.</p></li><li><p><strong>-md</strong> <em>alg</em></p><p>The message digest to use. Any digest supported by the <a href=../openssl-dgst/ >openssl-dgst(1)</a> command can be used. For signing algorithms that do not support a digest (i.e. Ed25519 and Ed448) any message digest that is set is ignored. This option also applies to CRLs.</p></li><li><p><strong>-policy</strong> <em>arg</em></p><p>This option defines the CA "policy" to use. This is a section in the configuration file which decides which fields should be mandatory or match the CA certificate. Check out the <strong>POLICY FORMAT</strong> section for more information.</p></li><li><p><strong>-msie_hack</strong></p><p>This is a deprecated option to make this command work with very old versions of the IE certificate enrollment control "certenr3". It used UniversalStrings for almost everything. Since the old control has various security bugs its use is strongly discouraged.</p></li><li><p><strong>-preserveDN</strong></p><p>Normally the DN order of a certificate is the same as the order of the fields in the relevant policy section. When this option is set the order is the same as the request. This is largely for compatibility with the older IE enrollment control which would only accept certificates if their DNs match the order of the request. This is not needed for Xenroll.</p></li><li><p><strong>-noemailDN</strong></p><p>The DN of a certificate can contain the EMAIL field if present in the request DN, however, it is good policy just having the e-mail set into the altName extension of the certificate. When this option is set the EMAIL field is removed from the certificate' subject and set only in the, eventually present, extensions. The <strong>email_in_dn</strong> keyword can be used in the configuration file to enable this behaviour.</p></li><li><p><strong>-batch</strong></p><p>This sets the batch mode. In this mode no questions will be asked and all certificates will be certified automatically.</p></li><li><p><strong>-extensions</strong> <em>section</em></p><p>The section of the configuration file containing certificate extensions to be added when a certificate is issued (defaults to <strong>x509_extensions</strong> unless the <strong>-extfile</strong> option is used).</p><p>See the <a href=../../man5/x509v3_config/ >x509v3_config(5)</a> manual page for details of the extension section format.</p></li><li><p><strong>-extfile</strong> <em>file</em></p><p>An additional configuration file to read certificate extensions from (using the default section unless the <strong>-extensions</strong> option is also used).</p></li><li><p><strong>-subj</strong> <em>arg</em></p><p>Supersedes subject name given in the request.</p><p>The arg must be formatted as <code>/type0=value0/type1=value1/type2=...</code>. Special characters may be escaped by <code>\</code> (backslash), whitespace is retained. Empty values are permitted, but the corresponding type will not be included in the resulting certificate. Giving a single <code>/</code> will lead to an empty sequence of RDNs (a NULL-DN). Multi-valued RDNs can be formed by placing a <code>+</code> character instead of a <code>/</code> between the AttributeValueAssertions (AVAs) that specify the members of the set. Example:</p><p><code>/DC=org/DC=OpenSSL/DC=users/UID=123456+CN=John Doe</code></p></li><li><p><strong>-utf8</strong></p><p>This option causes field values to be interpreted as UTF8 strings, by default they are interpreted as ASCII. This means that the field values, whether prompted from a terminal or obtained from a configuration file, must be valid UTF8 strings.</p></li><li><p><strong>-create_serial</strong></p><p>If reading serial from the text file as specified in the configuration fails, specifying this option creates a new random serial to be used as next serial number. To get random serial numbers, use the <strong>-rand_serial</strong> flag instead; this should only be used for simple error-recovery.</p></li><li><p><strong>-rand_serial</strong></p><p>Generate a large random number to use as the serial number. This overrides any option or configuration to use a serial number file.</p></li><li><p><strong>-multivalue-rdn</strong></p><p>This option has been deprecated and has no effect.</p></li><li><p><strong>-rand</strong> <em>files</em>, <strong>-writerand</strong> <em>file</em></p><p>See <a href=../openssl/ >"Random State Options" in openssl(1)</a> for details.</p></li><li><p><strong>-engine</strong> <em>id</em></p><p>See <a href=../openssl/ >"Engine Options" in openssl(1)</a>. This option is deprecated.</p></li><li><p><strong>-provider</strong> <em>name</em></p></li><li><strong>-provider-path</strong> <em>path</em></li><li><p><strong>-propquery</strong> <em>propq</em></p><p>See <a href=../openssl/ >"Provider Options" in openssl(1)</a>, <a href=../../man7/provider/ >provider(7)</a>, and <a href=../../man7/property/ >property(7)</a>.</p></li></ul><h2 id=crl-options>CRL OPTIONS<a class=headerlink href=#crl-options title="Permanent link">&para;</a></h2><ul><li><p><strong>-gencrl</strong></p><p>This option generates a CRL based on information in the index file.</p></li><li><p><strong>-crl_lastupdate</strong> <em>time</em></p><p>Allows the value of the CRL's lastUpdate field to be explicitly set; if this option is not present, the current time is used. Accepts times in YYMMDDHHMMSSZ format (the same as an ASN1 UTCTime structure) or YYYYMMDDHHMMSSZ format (the same as an ASN1 GeneralizedTime structure).</p></li><li><p><strong>-crl_nextupdate</strong> <em>time</em></p><p>Allows the value of the CRL's nextUpdate field to be explicitly set; if this option is present, any values given for <strong>-crldays</strong>, <strong>-crlhours</strong> and <strong>-crlsec</strong> are ignored. Accepts times in the same formats as <strong>-crl_lastupdate</strong>.</p></li><li><p><strong>-crldays</strong> <em>num</em></p><p>The number of days before the next CRL is due. That is the days from now to place in the CRL nextUpdate field.</p></li><li><p><strong>-crlhours</strong> <em>num</em></p><p>The number of hours before the next CRL is due.</p></li><li><p><strong>-crlsec</strong> <em>num</em></p><p>The number of seconds before the next CRL is due.</p></li><li><p><strong>-revoke</strong> <em>filename</em></p><p>A filename containing a certificate to revoke.</p></li><li><p><strong>-valid</strong> <em>filename</em></p><p>A filename containing a certificate to add a Valid certificate entry.</p></li><li><p><strong>-status</strong> <em>serial</em></p><p>Displays the revocation status of the certificate with the specified serial number and exits.</p></li><li><p><strong>-updatedb</strong></p><p>Updates the database index to purge expired certificates.</p></li><li><p><strong>-crl_reason</strong> <em>reason</em></p><p>Revocation reason, where <em>reason</em> is one of: <strong>unspecified</strong>, <strong>keyCompromise</strong>, <strong>CACompromise</strong>, <strong>affiliationChanged</strong>, <strong>superseded</strong>, <strong>cessationOfOperation</strong>, <strong>certificateHold</strong> or <strong>removeFromCRL</strong>. The matching of <em>reason</em> is case insensitive. Setting any revocation reason will make the CRL v2.</p><p>In practice <strong>removeFromCRL</strong> is not particularly useful because it is only used in delta CRLs which are not currently implemented.</p></li><li><p><strong>-crl_hold</strong> <em>instruction</em></p><p>This sets the CRL revocation reason code to <strong>certificateHold</strong> and the hold instruction to <em>instruction</em> which must be an OID. Although any OID can be used only <strong>holdInstructionNone</strong> (the use of which is discouraged by RFC2459) <strong>holdInstructionCallIssuer</strong> or <strong>holdInstructionReject</strong> will normally be used.</p></li><li><p><strong>-crl_compromise</strong> <em>time</em></p><p>This sets the revocation reason to <strong>keyCompromise</strong> and the compromise time to <em>time</em>. <em>time</em> should be in GeneralizedTime format that is <em>YYYYMMDDHHMMSSZ</em>.</p></li><li><p><strong>-crl_CA_compromise</strong> <em>time</em></p><p>This is the same as <strong>crl_compromise</strong> except the revocation reason is set to <strong>CACompromise</strong>.</p></li><li><p><strong>-crlexts</strong> <em>section</em></p><p>The section of the configuration file containing CRL extensions to include. If no CRL extension section is present then a V1 CRL is created, if the CRL extension section is present (even if it is empty) then a V2 CRL is created. The CRL extensions specified are CRL extensions and <strong>not</strong> CRL entry extensions. It should be noted that some software (for example Netscape) can't handle V2 CRLs. See <a href=../../man5/x509v3_config/ >x509v3_config(5)</a> manual page for details of the extension section format.</p></li></ul><h2 id=configuration-file-options>CONFIGURATION FILE OPTIONS<a class=headerlink href=#configuration-file-options title="Permanent link">&para;</a></h2><p>The section of the configuration file containing options for this command is found as follows: If the <strong>-name</strong> command line option is used, then it names the section to be used. Otherwise the section to be used must be named in the <strong>default_ca</strong> option of the <strong>ca</strong> section of the configuration file (or in the default section of the configuration file). Besides <strong>default_ca</strong>, the following options are read directly from the <strong>ca</strong> section: RANDFILE preserve msie_hack With the exception of <strong>RANDFILE</strong>, this is probably a bug and may change in future releases.</p><p>Many of the configuration file options are identical to command line options. Where the option is present in the configuration file and the command line the command line value is used. Where an option is described as mandatory then it must be present in the configuration file or the command line equivalent (if any) used.</p><ul><li><p><strong>oid_file</strong></p><p>This specifies a file containing additional <strong>OBJECT IDENTIFIERS</strong>. Each line of the file should consist of the numerical form of the object identifier followed by whitespace then the short name followed by whitespace and finally the long name.</p></li><li><p><strong>oid_section</strong></p><p>This specifies a section in the configuration file containing extra object identifiers. Each line should consist of the short name of the object identifier followed by <strong>=</strong> and the numerical form. The short and long names are the same when this option is used.</p></li><li><p><strong>new_certs_dir</strong></p><p>The same as the <strong>-outdir</strong> command line option. It specifies the directory where new certificates will be placed. Mandatory.</p></li><li><p><strong>certificate</strong></p><p>The same as <strong>-cert</strong>. It gives the file containing the CA certificate. Mandatory.</p></li><li><p><strong>private_key</strong></p><p>Same as the <strong>-keyfile</strong> option. The file containing the CA private key. Mandatory.</p></li><li><p><strong>RANDFILE</strong></p><p>At startup the specified file is loaded into the random number generator, and at exit 256 bytes will be written to it. (Note: Using a RANDFILE is not necessary anymore, see the <a href=#history>"HISTORY"</a> section.</p></li><li><p><strong>default_days</strong></p><p>The same as the <strong>-days</strong> option. The number of days from today to certify a certificate for.</p></li><li><p><strong>default_startdate</strong></p><p>The same as the <strong>-startdate</strong> option. The start date to certify a certificate for. If not set the current time is used.</p></li><li><p><strong>default_enddate</strong></p><p>The same as the <strong>-enddate</strong> option. Either this option or <strong>default_days</strong> (or the command line equivalents) must be present.</p></li><li><p><strong>default_crl_hours default_crl_days</strong></p><p>The same as the <strong>-crlhours</strong> and the <strong>-crldays</strong> options. These will only be used if neither command line option is present. At least one of these must be present to generate a CRL.</p></li><li><p><strong>default_md</strong></p><p>The same as the <strong>-md</strong> option. Mandatory except where the signing algorithm does not require a digest (i.e. Ed25519 and Ed448).</p></li><li><p><strong>database</strong></p><p>The text database file to use. Mandatory. This file must be present though initially it will be empty.</p></li><li><p><strong>unique_subject</strong></p><p>If the value <strong>yes</strong> is given, the valid certificate entries in the database must have unique subjects. if the value <strong>no</strong> is given, several valid certificate entries may have the exact same subject. The default value is <strong>yes</strong>, to be compatible with older (pre 0.9.8) versions of OpenSSL. However, to make CA certificate roll-over easier, it's recommended to use the value <strong>no</strong>, especially if combined with the <strong>-selfsign</strong> command line option.</p><p>Note that it is valid in some circumstances for certificates to be created without any subject. In the case where there are multiple certificates without subjects this does not count as a duplicate.</p></li><li><p><strong>serial</strong></p><p>A text file containing the next serial number to use in hex. Mandatory. This file must be present and contain a valid serial number.</p></li><li><p><strong>crlnumber</strong></p><p>A text file containing the next CRL number to use in hex. The crl number will be inserted in the CRLs only if this file exists. If this file is present, it must contain a valid CRL number.</p></li><li><p><strong>x509_extensions</strong></p><p>A fallback to the <strong>-extensions</strong> option.</p></li><li><p><strong>crl_extensions</strong></p><p>A fallback to the <strong>-crlexts</strong> option.</p></li><li><p><strong>preserve</strong></p><p>The same as <strong>-preserveDN</strong></p></li><li><p><strong>email_in_dn</strong></p><p>The same as <strong>-noemailDN</strong>. If you want the EMAIL field to be removed from the DN of the certificate simply set this to 'no'. If not present the default is to allow for the EMAIL filed in the certificate's DN.</p></li><li><p><strong>msie_hack</strong></p><p>The same as <strong>-msie_hack</strong></p></li><li><p><strong>policy</strong></p><p>The same as <strong>-policy</strong>. Mandatory. See the <strong>POLICY FORMAT</strong> section for more information.</p></li><li><p><strong>name_opt</strong>, <strong>cert_opt</strong></p><p>These options allow the format used to display the certificate details when asking the user to confirm signing. All the options supported by the <strong>x509</strong> utilities <strong>-nameopt</strong> and <strong>-certopt</strong> switches can be used here, except the <strong>no_signame</strong> and <strong>no_sigdump</strong> are permanently set and cannot be disabled (this is because the certificate signature cannot be displayed because the certificate has not been signed at this point).</p><p>For convenience the values <strong>ca_default</strong> are accepted by both to produce a reasonable output.</p><p>If neither option is present the format used in earlier versions of OpenSSL is used. Use of the old format is <strong>strongly</strong> discouraged because it only displays fields mentioned in the <strong>policy</strong> section, mishandles multicharacter string types and does not display extensions.</p></li><li><p><strong>copy_extensions</strong></p><p>Determines how extensions in certificate requests should be handled. If set to <strong>none</strong> or this option is not present then extensions are ignored and not copied to the certificate. If set to <strong>copy</strong> then any extensions present in the request that are not already present are copied to the certificate. If set to <strong>copyall</strong> then all extensions in the request are copied to the certificate: if the extension is already present in the certificate it is deleted first. See the <strong>WARNINGS</strong> section before using this option.</p><p>The main use of this option is to allow a certificate request to supply values for certain extensions such as subjectAltName.</p></li></ul><h2 id=policy-format>POLICY FORMAT<a class=headerlink href=#policy-format title="Permanent link">&para;</a></h2><p>The policy section consists of a set of variables corresponding to certificate DN fields. If the value is "match" then the field value must match the same field in the CA certificate. If the value is "supplied" then it must be present. If the value is "optional" then it may be present. Any fields not mentioned in the policy section are silently deleted, unless the <strong>-preserveDN</strong> option is set but this can be regarded more of a quirk than intended behaviour.</p><h2 id=spkac-format>SPKAC FORMAT<a class=headerlink href=#spkac-format title="Permanent link">&para;</a></h2><p>The input to the <strong>-spkac</strong> command line option is a Netscape signed public key and challenge. This will usually come from the <strong>KEYGEN</strong> tag in an HTML form to create a new private key. It is however possible to create SPKACs using <a href=../openssl-spkac/ >openssl-spkac(1)</a>.</p><p>The file should contain the variable SPKAC set to the value of the SPKAC and also the required DN components as name value pairs. If you need to include the same component twice then it can be preceded by a number and a '.'.</p><p>When processing SPKAC format, the output is DER if the <strong>-out</strong> flag is used, but PEM format if sending to stdout or the <strong>-outdir</strong> flag is used.</p><h2 id=examples>EXAMPLES<a class=headerlink href=#examples title="Permanent link">&para;</a></h2><p>Note: these examples assume that the directory structure this command assumes is already set up and the relevant files already exist. This usually involves creating a CA certificate and private key with <a href=../openssl-req/ >openssl-req(1)</a>, a serial number file and an empty index file and placing them in the relevant directories.</p><p>To use the sample configuration file below the directories <code>demoCA</code>, <code>demoCA/private</code> and <code>demoCA/newcerts</code> would be created. The CA certificate would be copied to <code>demoCA/cacert.pem</code> and its private key to <code>demoCA/private/cakey.pem</code>. A file <code>demoCA/serial</code> would be created containing for example "01" and the empty index file <code>demoCA/index.txt</code>.</p><p>Sign a certificate request:</p><div class=highlight><pre><span></span><code>openssl ca -in req.pem -out newcert.pem
</code></pre></div><p>Sign an SM2 certificate request:</p><div class=highlight><pre><span></span><code>openssl ca -in sm2.csr -out sm2.crt -md sm3 \
        -sigopt &quot;distid:1234567812345678&quot; \
        -vfyopt &quot;distid:1234567812345678&quot;
</code></pre></div><p>Sign a certificate request, using CA extensions:</p><div class=highlight><pre><span></span><code>openssl ca -in req.pem -extensions v3_ca -out newcert.pem
</code></pre></div><p>Generate a CRL</p><div class=highlight><pre><span></span><code>openssl ca -gencrl -out crl.pem
</code></pre></div><p>Sign several requests:</p><div class=highlight><pre><span></span><code>openssl ca -infiles req1.pem req2.pem req3.pem
</code></pre></div><p>Certify a Netscape SPKAC:</p><div class=highlight><pre><span></span><code>openssl ca -spkac spkac.txt
</code></pre></div><p>A sample SPKAC file (the SPKAC line has been truncated for clarity):</p><div class=highlight><pre><span></span><code>SPKAC=MIG0MGAwXDANBgkqhkiG9w0BAQEFAANLADBIAkEAn7PDhCeV/xIxUg8V70YRxK2A5
CN=Steve Test
emailAddress=steve@openssl.org
0.OU=OpenSSL Group
1.OU=Another Group
</code></pre></div><p>A sample configuration file with the relevant sections for this command:</p><div class=highlight><pre><span></span><code>[ ca ]
default_ca      = CA_default         #   # The default ca section

[ CA_default ]

dir            = ./demoCA           #   # top dir
database       = $dir/index.txt     #   # index file.
new_certs_dir  = $dir/newcerts      #   # new certs dir

certificate    = $dir/cacert.pem    #   # The CA cert
serial         = $dir/serial        #   # serial no file
#rand_serial    = yes               #   # for random serial#&#39;s
private_key    = $dir/private/cakey.pem## CA private key

default_days   = 365                #   # how long to certify for
default_crl_days= 30                #   # how long before next CRL
default_md     = md5                #   # md to use

policy         = policy_any         #   # default policy
email_in_dn    = no                 #   # Don&#39;t add the email into cert DN

name_opt       = ca_default         #   # Subject name display option
cert_opt       = ca_default         #   # Certificate display option
copy_extensions = none              #   # Don&#39;t copy extensions from request

[ policy_any ]
countryName            = supplied
stateOrProvinceName    = optional
organizationName       = optional
organizationalUnitName = optional
commonName             = supplied
emailAddress           = optional
</code></pre></div><h2 id=files>FILES<a class=headerlink href=#files title="Permanent link">&para;</a></h2><p>Note: the location of all files can change either by compile time options, configuration file entries, environment variables or command line options. The values below reflect the default values.</p><div class=highlight><pre><span></span><code>/usr/local/ssl/lib/openssl.cnf - master configuration file
./demoCA                       - main CA directory
./demoCA/cacert.pem            - CA certificate
./demoCA/private/cakey.pem     - CA private key
./demoCA/serial                - CA serial number file
./demoCA/serial.old            - CA serial number backup file
./demoCA/index.txt             - CA text database file
./demoCA/index.txt.old         - CA text database backup file
./demoCA/certs                 - certificate output file
</code></pre></div><h2 id=restrictions>RESTRICTIONS<a class=headerlink href=#restrictions title="Permanent link">&para;</a></h2><p>The text database index file is a critical part of the process and if corrupted it can be difficult to fix. It is theoretically possible to rebuild the index file from all the issued certificates and a current CRL: however there is no option to do this.</p><p>V2 CRL features like delta CRLs are not currently supported.</p><p>Although several requests can be input and handled at once it is only possible to include one SPKAC or self-signed certificate.</p><h2 id=bugs>BUGS<a class=headerlink href=#bugs title="Permanent link">&para;</a></h2><p>This command is quirky and at times downright unfriendly.</p><p>The use of an in-memory text database can cause problems when large numbers of certificates are present because, as the name implies the database has to be kept in memory.</p><p>This command really needs rewriting or the required functionality exposed at either a command or interface level so that a more user-friendly replacement could handle things properly. The script <strong>CA.pl</strong> helps a little but not very much.</p><p>Any fields in a request that are not present in a policy are silently deleted. This does not happen if the <strong>-preserveDN</strong> option is used. To enforce the absence of the EMAIL field within the DN, as suggested by RFCs, regardless the contents of the request' subject the <strong>-noemailDN</strong> option can be used. The behaviour should be more friendly and configurable.</p><p>Canceling some commands by refusing to certify a certificate can create an empty file.</p><h2 id=warnings>WARNINGS<a class=headerlink href=#warnings title="Permanent link">&para;</a></h2><p>This command was originally meant as an example of how to do things in a CA. Its code does not have production quality. It was not supposed to be used as a full blown CA itself, nevertheless some people are using it for this purpose at least internally. When doing so, specific care should be taken to properly secure the private key(s) used for signing certificates. It is advisable to keep them in a secure HW storage such as a smart card or HSM and access them via a suitable engine or crypto provider.</p><p>This command is effectively a single user command: no locking is done on the various files and attempts to run more than one <strong>openssl ca</strong> command on the same database can have unpredictable results.</p><p>The <strong>copy_extensions</strong> option should be used with caution. If care is not taken then it can be a security risk. For example if a certificate request contains a basicConstraints extension with CA:TRUE and the <strong>copy_extensions</strong> value is set to <strong>copyall</strong> and the user does not spot this when the certificate is displayed then this will hand the requester a valid CA certificate. This situation can be avoided by setting <strong>copy_extensions</strong> to <strong>copy</strong> and including basicConstraints with CA:FALSE in the configuration file. Then if the request contains a basicConstraints extension it will be ignored.</p><p>It is advisable to also include values for other extensions such as <strong>keyUsage</strong> to prevent a request supplying its own values.</p><p>Additional restrictions can be placed on the CA certificate itself. For example if the CA certificate has:</p><div class=highlight><pre><span></span><code>basicConstraints = CA:TRUE, pathlen:0
</code></pre></div><p>then even if a certificate is issued with CA:TRUE it will not be valid.</p><h2 id=history>HISTORY<a class=headerlink href=#history title="Permanent link">&para;</a></h2><p>Since OpenSSL 1.1.1, the program follows RFC5280. Specifically, certificate validity period (specified by any of <strong>-startdate</strong>, <strong>-enddate</strong> and <strong>-days</strong>) and CRL last/next update time (specified by any of <strong>-crl_lastupdate</strong>, <strong>-crl_nextupdate</strong>, <strong>-crldays</strong>, <strong>-crlhours</strong> and <strong>-crlsec</strong>) will be encoded as UTCTime if the dates are earlier than year 2049 (included), and as GeneralizedTime if the dates are in year 2050 or later.</p><p>OpenSSL 1.1.1 introduced a new random generator (CSPRNG) with an improved seeding mechanism. The new seeding mechanism makes it unnecessary to define a RANDFILE for saving and restoring randomness. This option is retained mainly for compatibility reasons.</p><p>The <strong>-section</strong> option was added in OpenSSL 3.0.0.</p><p>The <strong>-multivalue-rdn</strong> option has become obsolete in OpenSSL 3.0.0 and has no effect.</p><p>The <strong>-engine</strong> option was deprecated in OpenSSL 3.0.</p><p>Since OpenSSL 3.2, generated certificates bear X.509 version 3, and key identifier extensions are included by default.</p><h2 id=see-also>SEE ALSO<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2><p><a href=../openssl/ >openssl(1)</a>, <a href=../openssl-req/ >openssl-req(1)</a>, <a href=../openssl-spkac/ >openssl-spkac(1)</a>, <a href=../openssl-x509/ >openssl-x509(1)</a>, <a href=../CA.pl/ >CA.pl(1)</a>, <a href=../../man5/config/ >config(5)</a>, <a href=../../man5/x509v3_config/ >x509v3_config(5)</a></p><h2 id=copyright>COPYRIGHT<a class=headerlink href=#copyright title="Permanent link">&para;</a></h2><p>Copyright 2000-2024 The OpenSSL Project Authors. All Rights Reserved.</p><p>Licensed under the Apache License 2.0 (the "License"). You may not use this file except in compliance with the License. You can obtain a copy in the file LICENSE in the source distribution or at <a href=https://www.openssl.org/source/license.html>https://www.openssl.org/source/license.html</a>.</p></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div></main><footer class=md-footer><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "master", "provider": "mike"}}</script><script src=../../assets/javascripts/bundle.ad660dcc.min.js></script></body></html>